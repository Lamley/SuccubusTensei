@SYSTEM_TITLE

ALIGNMENT CENTER

PRINTL

DRAWLINE

PRINTFORMLC [1] 開始遊戲

PRINTL

PRINTFORMLC [2] 讀取存檔

PRINTL

PRINTFORMLC [999] 退出

PRINTL

DRAWLINE

ALIGNMENT LEFT

 

$INPUTLOOP

INPUT

IF RESULT == 1

CLEARLINE LINECOUNT

RESETDATA

BEGIN FIRST

;CALL EVENTFIRST

ELSEIF RESULT == 2

LOADGAME

RESTART

ELSEIF RESULT == 9

CLEARLINE 1

PRINTW 遊戲結束

QUIT

ELSE

CLEARLINE 1

REUSELASTLINE 無效的指令

GOTO INPUTLOOP

ENDIF

 

@EVENTFIRST

FLAG:0 = 1

FLAG:1 = 1

CALL TRACK_DATA

BEGIN SHOP

;CALL SHOW_SHOP

 

@SHOW_SHOP

;LOADGAME默認跳轉函數，可自定義@EVENTLOAD修改

#DIMS WEEKDAYS, 7 = "日", "一", "二", "三", "四", "五", "六"

CALL CRACK_DATA

PRINTFORM 第{FLAG}週

PRINTFORM 星期%WEEKDAYS:(FLAG:1)%

CALL TRACK_DATA

DRAWLINE

PRINTL

PRINTFORMLC [1] 輸入日數

PRINTFORMLC [2] 存檔

PRINTFORMLC [9] 返回

PRINTL

DRAWLINE

 

$INPUTLOOP

INPUT

IF RESULT == 1

CALL INPUTDATE

ELSEIF RESULT == 2

CALL RESET_VAR_SAVE

SAVEGAME

 

ELSEIF RESULT == 9

CLEARLINE LINECOUNT

CALL SYSTEM_TITLE

ELSE

CLEARLINE 1

REUSELASTLINE

GOTO INPUTLOOP

ENDIF

CALL SHOW_SHOP

 

@INPUTDATE

PRINTFORML 請輸入今天是遊戲開始後的第幾天？

INPUT

FLAG:0 = RESULT % 7 == 0 ? RESULT / 7 # RESULT / 7 + 1

FLAG:1 = RESULT % 7

CALL TRACK_DATA

 

@RESET_VAR_SAVE

VARSET A, 0

VARSET B, 0

VARSET C, 0

VARSET D, 0

VARSET E, 0

VARSET F, 0

VARSET G, 0

VARSET H, 0

VARSET I, 0

VARSET J, 0

VARSET K, 0

VARSET L, 0

VARSET M, 0

VARSET N, 0

VARSET O, 0

VARSET P, 0

VARSET Q, 0

VARSET R, 0

VARSET S, 0

VARSET T, 0

VARSET U, 0

VARSET V, 0

VARSET W, 0

VARSET X, 0

VARSET Y, 0

VARSET Z, 0

 

@TRACK_DATA

FLAG:0 += 31415

FLAG:1 += 92653

 

@CRACK_DATA

FLAG:0 -= 31415

FLAG:1 -= 92653

;為了追踪存檔數據而寫的函數，並沒有實際意義

;------------------------------------------------------------------------------------------[/fold]

