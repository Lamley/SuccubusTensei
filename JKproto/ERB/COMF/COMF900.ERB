@COM_ABLE900(ARG)
VARSET LOCAL
LOCAL = ARG
VARSET ARG
SIF TCVAR:LOCAL:イベント != 1
	RETURN 0
;騒ぎが5未満なら逃げられない！としてみるテスト
SIF TFLAG:騒ぎ < 5
	RETURN 0
RETURN GLOBAL_COMABLE(900)

@COM900(ARG)
PRINTL 
PRINTFORML %"=" * 107%
PRINTL 逃げる
IF TCVAR:MASTER:イベント == 2
CFLAG:MASTER:現在位置 = 1
CFLAG:MASTER:現在地区 = 0
ENDIF
SELECTCOM:1 = 0
TCVAR:1:601 = 0
TCVAR:1:挿入 = 0
TCVAR:1:被挿入 = 0
SIF TEQUIP:1:膣 == 1
	TEQUIP:1:膣 = 0
SIF TEQUIP:1:アナル == 60 || TEQUIP:1:アナル == 61 || TEQUIP:1:アナル == 62
	TEQUIP:1:アナル = 0
FOR L:101,1,CHARANUM
	SIF TCVAR:(L:101):行為対象 != 1
		CONTINUE
	TCVAR:(L:101):601 = 0
	TCVAR:(L:101):挿入 = 0
	TCVAR:(L:101):被挿入 = 0
	SIF TEQUIP:(L:101):膣 == 1
		TEQUIP:(L:101):膣 = 0
	SIF TEQUIP:(L:101):アナル == 60 || TEQUIP:(L:101):アナル == 61 || TEQUIP:(L:101):アナル == 62
		TEQUIP:(L:101):アナル = 0
	SELECTCOM:(L:101) = 0
	CFLAG:(L:101):痴漢発見 = 0
NEXT
FLAG:痴漢され中 = 0
CALL EVENT_ESCAPE_ALL

VARSET ARG
RETURN 1

;とりあえず追加しただけなのでCOMF900にまとめてぶち込んでます
;いずれは個別に切り出すという想定
@COM_ABLE901(ARG)
VARSET LOCAL
LOCAL = ARG
VARSET ARG
SIF TCVAR:LOCAL:イベント != 1
	RETURN 0

RETURN GLOBAL_COMABLE(901)

@COM901(ARG)
PRINTL 
PRINTFORML %"=" * 107%
PRINTL 痴漢を探す
CFLAG:ARG:待機時間 += 2

TFLAG:騒ぎ += 1
VARSET ARG

RETURN 1


@COM_ABLE902(ARG)
VARSET LOCAL
LOCAL = ARG
VARSET ARG
SIF TCVAR:LOCAL:イベント != 1
	RETURN 0

RETURN GLOBAL_COMABLE(902)

@COM902(ARG)
PRINTL 
PRINTFORML %"=" * 107%
PRINTL 我慢する
CFLAG:ARG:待機時間 += 2
TFLAG:騒ぎ -= 1
FOR D,1,CHARANUM
	SIF D == ARG
		CONTINUE
	IF TCVAR:D:イベント == 1 & T:105
		TA:ARG:D:6 += 5
		TA:ARG:D:2 += 5
	ENDIF
NEXT

VARSET ARG

RETURN 1


@COM_ABLE903(ARG)
VARSET LOCAL
LOCAL = ARG
VARSET ARG
SIF CFLAG:(TCVAR:MASTER:行為対象):痴漢発見 == 0
	RETURN 0
SIF TCVAR:LOCAL:イベント != 1
	RETURN 0

RETURN GLOBAL_COMABLE(903)

@COM903(ARG)
PRINTL 
PRINTFORML %"=" * 107%
PRINTL 強気に反抗する
CFLAG:ARG:待機時間 += 2
TFLAG:騒ぎ += RAND:6 + 1
FOR D,1,CHARANUM
	SIF D == ARG
		CONTINUE
	IF TCVAR:D:イベント == 1 & T:105
		TA:ARG:D:6 += 10
		TA:D:ARG:6 += 5
	ENDIF
NEXT
VARSET ARG

RETURN 1


@COM_ABLE904(ARG)
VARSET LOCAL
LOCAL = ARG
VARSET ARG
SIF TCVAR:LOCAL:イベント != 1
	RETURN 0

RETURN GLOBAL_COMABLE(904)

@COM904(ARG)
PRINTL 
PRINTFORML %"=" * 107%
PRINTL 控えめに反抗する
CFLAG:ARG:待機時間 += 2
TFLAG:騒ぎ += RAND:4
FOR D,1,CHARANUM
	SIF D == ARG
		CONTINUE
	SIF TCVAR:D:イベント == 1 & T:105
		TA:ARG:D:6 += 5
NEXT
VARSET ARG

RETURN 1


