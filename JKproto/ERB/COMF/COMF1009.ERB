;[汚れを落とす]

@COM_ABLE1009(ARG)
;学校の[厕所]か[公園]でないと実行できない
SIF !((CFLAG:MASTER:現在位置 == 11 && CFLAG:MASTER:現在地区 == 0) || (CFLAG:MASTER:現在位置 == 10 && CFLAG:MASTER:現在地区 == 1))
	RETURN 0

;学校の[厕所]では、平日の6時～18時までしか実行できない
SIF CFLAG:MASTER:現在位置 == 10 && CFLAG:MASTER:現在地区 == 1 && ( D:101 || TIME < 360 || TIME > 1080)
	RETURN 0

;汚れが付着していないと実行できない
SIF STAIN:MASTER:0 == 0 && STAIN:MASTER:1 == 0 && (STAIN:MASTER:2 == 2 || STAIN:MASTER:2 == 0) && (STAIN:MASTER:3 == 1|| STAIN:MASTER:3 == 1) && (STAIN:MASTER:4 == 8 || STAIN:MASTER:4 == 8) && (STAIN:MASTER:5 == 0 || STAIN:MASTER:5 == 0)
	RETURN 0

RETURN 1



@COM1009(ARG)
PRINTL 
PRINTFORML %"=" * 107%
PRINTFORMW 汚れを落とす
IF STAIN:MASTER:0 != 0
	STAIN:MASTER:0 = 0
	CFLAG:MASTER:待機時間 += 2
ENDIF
IF STAIN:MASTER:1 != 0
	STAIN:MASTER:1 = 0
	CFLAG:MASTER:待機時間 += 2
ENDIF
IF STAIN:MASTER:2 != 0 && STAIN:MASTER:2 != 2
	STAIN:MASTER:2 = 2
	CFLAG:MASTER:待機時間 += 5
	DOWNBASE:MASTER:体力 += 20
	DOWNBASE:MASTER:气力 += 40
ENDIF
IF STAIN:MASTER:3 != 0 && STAIN:MASTER:3 != 1
	STAIN:MASTER:3 = 1
	CFLAG:MASTER:待機時間 += 5
	DOWNBASE:MASTER:体力 += 20
	DOWNBASE:MASTER:气力 += 40
ENDIF
IF STAIN:MASTER:4 != 0 && STAIN:MASTER:4 != 8
	STAIN:MASTER:4 = 8
	CFLAG:MASTER:待機時間 += 5
	DOWNBASE:MASTER:体力 += 20
	DOWNBASE:MASTER:气力 += 40
ENDIF
IF STAIN:MASTER:5 != 0
	STAIN:MASTER:5 = 0
	CFLAG:MASTER:待機時間 += 5
	DOWNBASE:MASTER:体力 += 20
	DOWNBASE:MASTER:气力 += 40
ENDIF


RETURN 1
