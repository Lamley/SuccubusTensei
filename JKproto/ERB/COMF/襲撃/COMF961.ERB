@COM_ABLE961(ARG)
VARSET LOCAL
LOCAL = ARG
VARSET ARG
SIF TCVAR:LOCAL:イベント != 2 || BASE:(TCVAR:LOCAL:行為対象):反抗 == 0 || CFLAG:LOCAL:押さえつけ || CFLAG:LOCAL:受能動 != 2
	RETURN 0
RETURN 1

@COM961(ARG)
VARSET LOCAL
;逃げる
PRINTL 
PRINTFORML %"=" * 107%
IF BASE:ARG:反抗 == 0
	CFLAG:ARG:待機時間 += 2
	TFLAG:COM用変数 = -1
	RETURN 1
ENDIF

LOCAL = ABL:ARG:运动能力 - ABL:(TCVAR:ARG:行為対象):运动能力 + GETBIT(TALENT:ARG:性別,1) - GETBIT(TALENT:(TCVAR:ARG:行為対象):性別,1)
;クリティカル判定
IF RAND(10) == 0
	TFLAG:COM用変数 = 1
	CALL EVENT_ESCAPE_ALL
	CFLAG:ARG:現在位置 = 1
	CFLAG:ARG:現在地区 = 0
ELSEIF LOCAL < 0
	TFLAG:COM用変数 = 0
ELSEIF RAND(1 + LOCAL * 2) != 0
	TFLAG:COM用変数 = 1
	CALL EVENT_ESCAPE_ALL
	CFLAG:ARG:現在位置 = 1
	CFLAG:ARG:現在地区 = 0
ELSE
	TFLAG:COM用変数 = 0
ENDIF


CFLAG:ARG:待機時間 += 2
VARSET ARG

RETURN 1
