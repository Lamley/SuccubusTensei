@COM_ABLE931(ARG)
VARSET LOCAL
LOCAL = ARG
VARSET ARG
SIF TCVAR:LOCAL:イベント != 2 || BASE:(TCVAR:LOCAL:行為対象):反抗 == 0 || CFLAG:(TCVAR:LOCAL:行為対象):押さえつけ || CFLAG:LOCAL:押さえつけ
	RETURN 0
RETURN 1

@COM931(ARG)
VARSET LOCAL
;押さえつける
PRINTL 
PRINTFORML %"=" * 107%
IF BASE:ARG:反抗 == 0
	CFLAG:ARG:待機時間 += 2
	TFLAG:COM用変数 = -1
	RETURN 1
ENDIF

LOCAL = ABL:ARG:戦闘能力 - ABL:(TCVAR:ARG:行為対象):戦闘能力 + GETBIT(TALENT:ARG:性別,1) - GETBIT(TALENT:(TCVAR:ARG:行為対象):性別,1)

IF TCVAR:(TCVAR:ARG:行為対象):無反抗 || ATTACK_SUCCESS_RATE(LOCAL)
	CFLAG:(TCVAR:ARG:行為対象):押さえつけ = 1
	TFLAG:COM用変数 = 1
ELSE
	TFLAG:COM用変数 = 0
ENDIF

CFLAG:ARG:待機時間 += 2
VARSET ARG

RETURN 1
