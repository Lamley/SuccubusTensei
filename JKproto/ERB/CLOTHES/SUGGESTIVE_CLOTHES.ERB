@SUGGESTIVE_CHECK(ARG)
VARSET LOCAL
;LOCAL 刺激度の計算用
;LOCAL:1 体を隠してるかチェック0下着上が隠れてる1下着下が隠れてる2胸が隠れてる3股間が隠れてる

FOR LOCAL:2 , 200,218
	LOCAL:1 |= CLOTHES_COVERED(TEQUIP:ARG:(LOCAL:2))
NEXT

;PRINTFORMW 服の状態{LOCAL:1}

IF GETBIT(LOCAL:1,0)
	IF GETBIT(LOCAL:1,1)
		;全部隠れてる
		LOCAL = 200
	ELSEIF GETBIT(LOCAL:1,3)
		;パンツだけ見えてる
		LOCAL = 600
	ELSE
		;下半身だけ裸
		LOCAL = 800
	ENDIF
ELSEIF GETBIT(LOCAL:1,1)
	IF GETBIT(LOCAL:1,2)
		;ブラだけ見えてる
		LOCAL = 600
	ELSE
		;上半身だけ裸
		LOCAL = 800
	ENDIF
ELSEIF GETBIT(LOCAL:1,2)
	IF GETBIT(LOCAL:1,3)
		;下着姿
		LOCAL = 700
	ELSE
		;ブラに股間見えてる
		LOCAL = 850
	ENDIF
ELSEIF GETBIT(LOCAL:1,3)
	;パンツに胸見えてる
	LOCAL = 850
ELSE
	;全裸
	LOCAL = 900	
ENDIF


;;;容姿基本
;Y:101 = 300
;容姿はCSVでBASE:22が定義されていないか0以下時のみ基本値の300を代入する。
IF MAXBASE:ARG:容姿 <= 0
	MAXBASE:ARG:容姿 = 300
ENDIF
;MAXBASEはそのキャラクター固有の容姿基本値となる
BASE:ARG:容姿 = MAXBASE:ARG:容姿
SIF TALENT:ARG:魅力
	BASE:ARG:容姿 += 100
SIF TALENT:ARG:魅惑
	BASE:ARG:容姿 += 100



FOR LOCAL:2 , 200,218
	SIF !TEQUIP:ARG:(LOCAL:2)
		CONTINUE
	SIF LOCAL:2 == 102 && GETBIT(LOCAL:1,0)
		CONTINUE
	SIF LOCAL:2 == 103 && GETBIT(LOCAL:1,1)
		CONTINUE
	SIF LOCAL:2 == 114 && GETBIT(LOCAL:1,2)
		CONTINUE
	SIF (LOCAL:2 == 115 || LOCAL:2 == 116 || LOCAL:2 == 117) && GETBIT(LOCAL:1,3)
		CONTINUE
	LOCAL += SUGGESTIVE_POINT(TEQUIP:ARG:(LOCAL:2))
	BASE:ARG:容姿  += ACCE_POINT(TEQUIP:ARG:(LOCAL:2))
NEXT

BASE:ARG:刺激度 = LIMIT(LOCAL,0,1000)
SIF TALENT:ARG:魅惑
	BASE:ARG:刺激度 += 100


;ここから内部的刺激度
LOCAL:3 = 0
SIF TEQUIP:ARG:200
	LOCAL:3 += 1
SIF TEQUIP:ARG:201
	LOCAL:3 += 2
SIF TEQUIP:ARG:202
	LOCAL:3 += 4
SIF TEQUIP:ARG:203
	LOCAL:3 += 8

SELECTCASE LOCAL:3
	;全裸
	CASE 0
		LOCAL:4 = 900
	;股間まるだしブラつけてない
	CASE 1
		LOCAL:4 = 850
	;胸まるだしパンツはいてない
	CASE 2
		LOCAL:4 = 850
	;下着着てない
	CASE 3
		LOCAL:4 = 600
	;股間とブラみえてる
	CASE 4
		LOCAL:4 = 850
	;股間まるだし
	CASE 5
		LOCAL:4 = 800
	;ブラまるみえパンツはいてない
	CASE 6
		LOCAL:4 = 700
	;パンツはいてない
	CASE 7
		LOCAL:4 = 500
	;胸とパンツみえてる
	CASE 8
		LOCAL:4 = 850
	;パンツまるみえブラつけてない
	CASE 9
		LOCAL:4 = 700
	;胸まるだし
	CASE 10
		LOCAL:4 = 800
	;ブラつけてない
	CASE 11
		LOCAL:4 = 400
	;パンツまるみえブラまるみえ
	CASE 12
		LOCAL:4 = 700
	;パンツまるみえ
	CASE 13
		LOCAL:4 = 600
	;ブラまるみえ
	CASE 14
		LOCAL:4 = 600
	;通常
	CASE 15
		LOCAL:4 = 200
ENDSELECT

FOR LOCAL:5 , 200,218
	LOCAL:4 += SUGGESTIVE_POINT(TEQUIP:ARG:(LOCAL:5))
NEXT

BASE:ARG:内部刺激度 = LIMIT(LOCAL:4,0,1000)
SIF TALENT:ARG:魅惑
	BASE:ARG:内部刺激度 += 100
SIF BASE:ARG:内部刺激度 < BASE:ARG:刺激度
	BASE:ARG:内部刺激度 = BASE:ARG:刺激度
