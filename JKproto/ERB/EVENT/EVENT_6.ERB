;試合後陵辱
;イベント発生条件
@EVENT_CHECK_6
VARSET LOCAL
IF SELECTCOM == 1150 && TFLAG:陵辱開始 == 1
	TFLAG:イベント発生 = 1
ENDIF



;イベント終了条件
@EVENT_END_CHECK_6
IF SELECTCOM == 989 && TFLAG:陵辱終了 == 1
	TFLAG:イベント終了 = 1
	RETURN 1
ENDIF

RETURN 0



;イベント終了処理
@EVENT_END_6
VARSET LOCAL

RETURN 1


@NPC_ACTION_6(ARG)
VARSET LOCAL
FOR LOCAL,0,200
	SIF TRAINNAME:LOCAL == ""
		CONTINUE
	TRYCCALLFORM COM_ABLE{LOCAL}(ARG)
	IF RESULT
		LOCAL:1 = RAND(100)
		IF LOCAL:2 < LOCAL:1
			LOCAL:2 = LOCAL:1
			LOCAL:3 = LOCAL
			LOCAL:4++
		ENDIF
	ENDIF
	CATCH
	ENDCATCH
NEXT
TFLAG:102 += 1
;#;PRINTVL LOCAL:1
;#;PRINTVL LOCAL:2
;#;PRINTVL LOCAL:3
;#;PRINTVL LOCAL:4
;#;PRINTVL TFLAG:102
;#;PRINTFORML %TRAINNAME:LOCAL%
IF LOCAL:4
	SELECTCOM:ARG = LOCAL:3
	IF TFLAG:102 > 9
		TFLAG:陵辱終了 = 1
	ENDIF
ELSE
	SELECTCOM:ARG = 991
ENDIF
RETURN 1

