;强奸イベント
;イベント発生条件 event
@EVENT_CHECK_2(ARG)
VARSET LOCAL


;イベント終了条件
@EVENT_END_CHECK_2
RETURN 1



;イベント終了処理
@EVENT_END_2
VARSET LOCAL


RETURN 1


@NPC_ACTION_2(ARG)
VARSET LOCAL
IF BASE:(TCVAR:ARG:行為対象):反抗 > 0
	FOR LOCAL,921,963
		SIF TRAINNAME:LOCAL == ""
			CONTINUE
		TRYCCALLFORM COM_ABLE{LOCAL}(ARG)
		IF RESULT
			LOCAL:1 = RAND(100)
			IF LOCAL:2 < LOCAL:1
				LOCAL:2 = LOCAL:1
				LOCAL:3 = LOCAL
				LOCAL:4++
			ENDIF
		ENDIF
		CATCH
		ENDCATCH
	NEXT
	IF LOCAL:4
		SELECTCOM:ARG = LOCAL:3
	ELSE
		SELECTCOM:ARG = 991
	ENDIF


ELSE
	FOR LOCAL,0,200
		SIF TRAINNAME:LOCAL == ""
			CONTINUE
		TRYCCALLFORM COM_ABLE{LOCAL}(ARG)
		IF RESULT
			LOCAL:1 = RAND(100)
			IF LOCAL:2 < LOCAL:1
				LOCAL:2 = LOCAL:1
				LOCAL:3 = LOCAL
				LOCAL:4++
			ENDIF
		ENDIF
		CATCH
		ENDCATCH
	NEXT
	IF LOCAL:4
		SELECTCOM:ARG = LOCAL:3
	ELSE
		SELECTCOM:ARG = 991
	ENDIF
ENDIF
RETURN 1

