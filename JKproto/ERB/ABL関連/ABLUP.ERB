;Ｃ感觉
@ABLUP0
CALL ABL_UP(0)

;Ｖ感觉
@ABLUP1
CALL ABL_UP(1)

;Ａ感觉
@ABLUP2
CALL ABL_UP(2)

;Ａ感觉
@ABLUP3
CALL ABL_UP(3)

;従順
@ABLUP10
CALL ABL_UP(10)

;欲望
@ABLUP11
CALL ABL_UP(11)

;技巧
@ABLUP12
CALL ABL_UP(12)

;侍奉精神
@ABLUP13
CALL ABL_UP(13)

;露出癖
@ABLUP14
CALL ABL_UP(14)

;受虐狂ッ気
@ABLUP15
CALL ABL_UP(15)

;施虐狂ッ気
@ABLUP16
CALL ABL_UP(16)

;レズッ気
@ABLUP17
CALL ABL_UP(17)

;ホモッ気
@ABLUP18
CALL ABL_UP(18)

;自慰成瘾
@ABLUP30
CALL ABL_UP(30)

;精液成瘾
@ABLUP31
CALL ABL_UP(31)

;百合成瘾
@ABLUP32
CALL ABL_UP(32)

;ゲイ中毒
@ABLUP33
CALL ABL_UP(33)

;汎用処理
@ABL_UP(ARG)
DRAWLINE
;上限
CALL MAXABL(ARG)
SIF RESULT
	RETURN 0

VARSET LOCAL
;個別処理
;侍奉精神
SIF ARG == 13
	PRINTFORML 従順{ABL:ARG + 1}LV以上必要
;受虐狂ッ気
SIF ARG == 15
	PRINTFORML 欲望{ABL:ARG + 1}LV以上必要
;施虐狂ッ気
SIF ARG == 16
	PRINTFORML 欲望{ABL:ARG + 1}LV以上必要
;自慰成瘾
SIF ARG == 30
	PRINTFORML Ｃ感觉{ABL:ARG + 1}LV以上、露出癖{ABL:ARG + 1}LV以上必要
;精液成瘾
SIF ARG == 31
	PRINTFORML 侍奉精神{ABL:ARG + 1}LV以上必要
;百合成瘾
SIF ARG == 32
	PRINTFORML 百合属性{ABL:ARG + 1}LV以上必要
;ゲイ中毒
SIF ARG == 33
	PRINTFORML ホモっ気{ABL:ARG + 1}LV以上必要

IF EXP_DEMAND(ARG,0,53) == 1
	PRINTFORML 异常经验あり、かつ
ELSEIF EXP_DEMAND(ARG,0,53) > 1
	PRINTFORML 异常经验{EXP_DEMAND(ARG,0,43)}以上、かつ
ENDIF
FOR LOCAL,0,4
	IF JUEL_DEMAND(ARG,LOCAL) == -2
		PRINTL 能力不足
		BREAK
	ENDIF
	SIF JUEL_DEMAND(ARG,LOCAL) < 0
		CONTINUE
	PRINTFORM [{LOCAL}] -
	;必要な宝珠を探す
	FOR LOCAL:1,0,100
		IF JUEL_DEMAND(ARG,LOCAL,LOCAL:1) > 0
			SIF JUEL:(LOCAL:1) < JUEL_DEMAND(ARG,LOCAL,LOCAL:1)
				LOCAL:3 ++
			PRINTFORM  %PALAMNAME:(LOCAL:1)%の珠×{JUEL_DEMAND(ARG,LOCAL,LOCAL:1)}
		ENDIF
	NEXT
	;必要な経験を探す
	FOR LOCAL:1,0,100
		IF EXP_DEMAND(ARG,LOCAL,LOCAL:1) > 0
			SIF  EXP:(LOCAL:1) < EXP_DEMAND(ARG,LOCAL,LOCAL:1)
				LOCAL:4 ++
			;异常经验は先に処理した
			SIF LOCAL:1 == 43
				CONTINUE
			PRINTFORM  %EXPNAME:(LOCAL:1)%
			IF EXP_DEMAND(ARG,LOCAL,LOCAL:1) == 1
				PRINT が必要
			ELSE
				PRINTFORM {EXP_DEMAND(ARG,LOCAL,LOCAL:1)}以上
			ENDIF
		ENDIF
	NEXT
	PRINT ・・・
	SIF LOCAL:3
		PRINT  宝珠不足
	SIF LOCAL:4
		PRINT  経験不足
	IF !LOCAL:3 && !LOCAL:4 && !LOCAL:5
		LOCAL:(10 + LOCAL) = 1
		PRINT ＯＫ
	ENDIF
	LOCAL:3 = 0
	LOCAL:4 = 0
	LOCAL:5 = 0
	PRINTL 
NEXT

PRINTL [100] - やめる

INPUT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT < 0 || RESULT > LOCAL
	RESTART
ELSEIF !LOCAL:(10 + RESULT)
	PRINTW 条件を満たしていません
	RESTART
ENDIF

FOR LOCAL,0,40
	JUEL:LOCAL -= JUEL_DEMAND(ARG,RESULT,LOCAL)
NEXT
ABL:ARG += 1
PRINTFORMW %ABLNAME:ARG%的{ABL:ARG}上升了1
RETURN 0

@ISABLUP(ARG)
#FUNCTION
VARSET LOCAL
;上限設定
IF ABL:ARG >= 99
	RETURNF 0
ELSEIF ABL:ARG >= 5 && !TALENT:3
	RETURNF 0
ENDIF

FOR LOCAL,0,4
	SIF JUEL_DEMAND(ARG,LOCAL) == -2
		RETURNF 0
	SIF JUEL_DEMAND(ARG,LOCAL) < 0
		CONTINUE
	;必要な宝珠を探す
	FOR LOCAL:1,0,100
		IF JUEL_DEMAND(ARG,LOCAL,LOCAL:1) > 0
			SIF JUEL:(LOCAL:1) < JUEL_DEMAND(ARG,LOCAL,LOCAL:1)
				LOCAL:2 ++
		ENDIF
	NEXT
	;必要な経験を探す
	FOR LOCAL:1,0,100
		IF EXP_DEMAND(ARG,LOCAL,LOCAL:1) > 0
			SIF  EXP:(LOCAL:1) < EXP_DEMAND(ARG,LOCAL,LOCAL:1)
				LOCAL:2 ++ 
		ENDIF
	NEXT
	SIF !LOCAL:2
		RETURNF 1
	LOCAL:2 = 0
NEXT


