@TAKE_TRAIN
PRINTL どこまで行きますか？
SIF !(CFLAG:MASTER:現在地区 == 0 && CFLAG:MASTER:現在位置 == 3)
	PRINTFORML [1] - 最近的车站 {TRAIN_TIME(MASTER,0,3)}分
SIF !(CFLAG:MASTER:現在地区 == 2 && CFLAG:MASTER:現在位置 == 3)
	PRINTFORML [2] - 学院前的车站 {TRAIN_TIME(MASTER,2,3)}分
PRINTL [999] - 戻る
$INPUT_LOOP
INPUT
IF (RESULT == 1 || RESULT == 2) && MONEY:MASTER < 200
	PRINTL お金が足りません
	GOTO INPUT_LOOP
ENDIF
IF RESULT == 1 && !(CFLAG:MASTER:現在地区 == 0 && CFLAG:MASTER:現在位置 == 3)
	MONEY:MASTER -= 200
	CFLAG:MASTER:到着地区 = 0
	CFLAG:MASTER:到着位置 = 3
	SIF TALENT:1:痴漢
		BASE:1:評判 -= 20
	IF TIME % 10 == 0
		CFLAG:MASTER:乗車 = 1
		CFLAG:MASTER:待機時間 = TRAIN_TIME(MASTER,CFLAG:MASTER:到着地区,CFLAG:MASTER:到着位置)
		CFLAG:MASTER:到着時間 = TIME + CFLAG:MASTER:待機時間
	ELSE
		CFLAG:MASTER:乗車 = 2
		CFLAG:MASTER:待機時間 = 10 - TIME % 10
		CFLAG:MASTER:到着時間 = TIME + CFLAG:MASTER:待機時間 + TRAIN_TIME(MASTER,CFLAG:MASTER:到着地区,CFLAG:MASTER:到着位置)
	ENDIF
ELSEIF RESULT == 2 && !(CFLAG:MASTER:現在地区 == 2 && CFLAG:MASTER:現在位置 == 3)
	MONEY:MASTER -= 200
	CFLAG:MASTER:到着地区 = 2
	CFLAG:MASTER:到着位置 = 3
	SIF TALENT:1:痴漢
		BASE:1:評判 -= 20
	IF TIME % 10 == 0
		CFLAG:MASTER:乗車 = 1
		CFLAG:MASTER:待機時間 = TRAIN_TIME(MASTER,CFLAG:MASTER:到着地区,CFLAG:MASTER:到着位置)
		CFLAG:MASTER:到着時間 = TIME + TRAIN_TIME(MASTER,CFLAG:MASTER:到着地区,CFLAG:MASTER:到着位置)
	ELSE
		CFLAG:MASTER:乗車 = 2
		CFLAG:MASTER:待機時間 = 10 - TIME % 10
		CFLAG:MASTER:到着時間 = TIME + CFLAG:MASTER:待機時間 + TRAIN_TIME(MASTER,CFLAG:MASTER:到着地区,CFLAG:MASTER:到着位置)
	ENDIF

ELSEIF RESULT == 999
	RETURN 0
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
RETURN 1

@TRAIN_TIME(ARG,ARG:1,ARG:2)
#FUNCTION
IF CFLAG:ARG:現在地区 == 0 && CFLAG:ARG:現在位置 == 3
	IF ARG:1 == 2 && ARG:2 == 3
			RETURNF 25
	ENDIF
ELSEIF CFLAG:ARG:現在地区 == 2 && CFLAG:ARG:現在位置 == 3
	IF ARG:1 == 0 && ARG:2 == 3
			RETURNF 25
	ENDIF
ENDIF

RETURNF 0
