@KICKOUT_2()
#FUNCTION
;SELECTCASE CHK_INHOME(CFLAG:MASTER:現在位置)
;	CASE 12
;		RETURNF 107
;ENDSELECT
;RETURNF 101

@BATHCHECK_2(ARG)
#FUNCTION
SELECTCASE CHK_INHOME(CFLAG:MASTER:現在位置)
ENDSELECT
RETURNF 0

@MAP_UNIQUEMESSAGE_2
CALL DRAW_INFORMATIONLINE("Info",1)
IF WITH_MOB()
	RETURN 1
ELSE
	SELECTCASE CFLAG:MASTER:現在位置
		CASE 213
			PRINTFORML 店内排列着很多書架
		CASE 222
			IF TIME >= 480 && TIME <= 720 || TIME >= 780 && TIME <= 840 && FLAG: 70 != 1
				PRINTDATA
					DATAFORM 私塾的孩子們在上%CALLNAME:TARGET%的課…
				ENDDATA
				PRINTL
			ELSEIF TIME >= 720 && TIME <= 780 && FLAG:70 != 1
				PRINTDATA
					DATAFORM 私塾的孩子們和%CALLNAME:TARGET%正在吃飯…
				ENDDATA
				PRINTL
			ELSEIF TIME >= 480 && TIME <= 840 && FLAG:70 == 1 && !CFLAG:MASTER:うふふ
				PRINTDATA
					DATAFORM 私塾的孩子們停下了動作…
				ENDDATA
				PRINTL
			ELSEIF TIME >= 480 && TIME <= 840 && FLAG:70 == 1 && CFLAG:MASTER:うふふ
				PRINTDATA
					DATAFORM %CALLNAME:TARGET%在私塾的孩子們面前被襲撃了…
				ENDDATA
				PRINTL
			ENDIF
	ENDSELECT
ENDIF
RETURN 1


;-----------------------------------------
;非自宅時に差し替える場所IDを返す関数
;ARG,対象ID
;RETURNF,差し替え済み対象ID
;-----------------------------------------

@MAP_SEARCH_REPLACEMENT_2(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 201 TO 207, 219,220
		RETURNF 210
	CASE 225
		RETURNF 260
	CASE 213,215,216,226
		RETURNF 220
	CASE 211,212,217,218
		RETURNF 230
	CASE 222,224
		RETURNF 240
	CASE 223
		RETURNF 250
	CASE 214,221,230 TO 237
		RETURNF 270
ENDSELECT
RETURNF 0