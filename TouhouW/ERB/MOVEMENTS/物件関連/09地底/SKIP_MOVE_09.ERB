@SKIP_MOVE_9(ARG,ARG:1)
;LOCAL一覧
;0	現在の位置

;現在位置取得
LOCAL = CFLAG:MASTER:現在位置
SIF ARG:1
	LOCAL = ARG:1

;暫定目的地に直接移動できる場合
IF CAN_MOVE(LOCAL, ARG) & 1
	;そこに移動
	RETURN ARG
ENDIF

;袋小路から行ける場所は固定なので、そこを目指す
SELECTCASE ARG
CASE 903
	RETURN 902
CASE 906,911,912
	RETURN 905
CASE 910
	RETURN 909
CASE 916,917,918
	RETURN 914
CASE 921
	RETURN 922
CASE 925
	RETURN 923
CASE 930
	RETURN 929
CASE 937
	RETURN 931
CASE 934,935,936,938
	RETURN 932
CASE 943
	RETURN 944
CASE 940,941,942
	RETURN 945
;CASE 947
;	RETURN 948
CASE MAXROOM
	RETURN 948
ENDSELECT

;直接移動できない場合、1つ近い位置を暫定目的地に設定し直してループ
;地点追加時要フォロー（全ケース修正すること）
SELECTCASE ARG
	CASE 901
		SELECTCASE LOCAL
		CASE 903 TO 930
			RETURN 902
		CASEELSE
			RETURN 931
		ENDSELECT
	CASE 902
		SELECTCASE LOCAL
		CASE 906 TO 930
			RETURN 905
		CASEELSE
			RETURN 901
		ENDSELECT
	CASE 903
		RETURN 902
	CASE 904
		SELECTCASE LOCAL
		CASE 901,903,931 TO 948
			RETURN 902
		CASEELSE
			RETURN 905
		ENDSELECT
	CASE 905
		SELECTCASE LOCAL
		CASE 910
			RETURN 909
		CASE 915 TO 922
			RETURN 914
		CASE 925
			RETURN 923
		CASE 927 TO 930
			RETURN 926
		CASEELSE
			RETURN 902
		ENDSELECT
	CASE 906
		RETURN 905
	CASE 907
		SELECTCASE LOCAL
		CASE 915 TO 922
			RETURN 914
		CASEELSE
			RETURN 905
		ENDSELECT
	CASE 908
		SELECTCASE LOCAL
		CASE 915 TO 922
			RETURN 914
		CASEELSE
			RETURN 905
		ENDSELECT
	CASE 909
		SELECTCASE LOCAL
		CASE 912,917,918,919
			RETURN 911
		CASEELSE
			RETURN 904
		ENDSELECT
	CASE 910
		RETURN 909
	CASE 911,912
		RETURN 905
	CASE 913
		SELECTCASE LOCAL
		CASE 910
			RETURN 909
		CASE 925
			RETURN 923
		CASE 927,928,929,930
			RETURN 926
		CASEELSE
			RETURN 905
		ENDSELECT
	CASE 914
		SELECTCASE LOCAL
		CASE 906,909,910
			RETURN 907
		CASE 921
			RETURN 922
		CASEELSE
			RETURN 905
		ENDSELECT
	CASE 915
		RETURN 914
	CASE 916
		RETURN 914
	CASE 917
		RETURN 914
	CASE 918
		RETURN 914
	CASE 919
		RETURN 914
	CASE 920
		RETURN 914
	CASE 921
		RETURN 922
	CASE 922
		RETURN 920
	CASE 923
		SELECTCASE LOCAL
		CASE 910
			RETURN 909
		CASE 927 TO 930
			RETURN 926
		CASEELSE
			RETURN 905
		ENDSELECT
	CASE 925
		RETURN 923
	CASE 926
		SELECTCASE LOCAL
		CASE 928,929,930
			RETURN 927
		CASEELSE
			RETURN 905
		ENDSELECT
	CASE 927
		SELECTCASE LOCAL
		CASE 929,930
			RETURN 928
		CASEELSE
			RETURN 926
		ENDSELECT
	CASE 928
		SELECTCASE LOCAL
		CASE 930
			RETURN 929
		CASEELSE
			RETURN 927
		ENDSELECT
	CASE 929
		RETURN 928
	CASE 930
		RETURN 929
	CASE 931
		SELECTCASE LOCAL
		CASE 902 TO 930
			RETURN 901
		CASE 940 TO 943,945 TO 948
			RETURN 944
		CASEELSE
			RETURN 932
		ENDSELECT
	CASE 932
		RETURN 931
	CASE 933
		SELECTCASE LOCAL
		CASE 934,935,936,938,939
			RETURN 932
		CASEELSE
			RETURN 931
		ENDSELECT
	CASE 934
		RETURN 932
	CASE 935
		RETURN 932
	CASE 936
		RETURN 932
	CASE 937
		RETURN 931
	CASE 938
		RETURN 932
	CASE 939
		RETURN 932
	CASE 940
		RETURN 945
	CASE 941
		RETURN 945
	CASE 942
		RETURN 945
	CASE 943
		RETURN 944
	CASE 944
		SELECTCASE LOCAL
		CASE 940,941,942
			RETURN 945
		CASE 948
			RETURN 946
		CASEELSE
			RETURN 931
		ENDSELECT
	CASE 945
		SELECTCASE LOCAL
		CASE 948
			RETURN 946
		CASEELSE
			RETURN 944
		ENDSELECT
	CASE 946
		SELECTCASE LOCAL
		CASE 940,941,942
			RETURN 945
		CASEELSE
			RETURN 944
		ENDSELECT
	CASE 948
		RETURN 946
ENDSELECT
