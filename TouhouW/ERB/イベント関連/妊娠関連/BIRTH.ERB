@BIRTH(ARG)
IF CFLAG:ARG:無自覚妊娠
	CALL KOJO_MESSAGE_SEND("EVENT",25,ARG,4,0)
ELSEIF TALENT:ARG:恋慕
	CALL KOJO_MESSAGE_SEND("EVENT",25,ARG,1,0)
ELSEIF TALENT:ARG:思慕
	CALL KOJO_MESSAGE_SEND("EVENT",25,ARG,2,0)
ELSE
	CALL KOJO_MESSAGE_SEND("EVENT",25,ARG,3,0)
ENDIF
PRINTFORMW %CALLNAME:ARG%平安无事的生下了%CALLNAME:MASTER%的孩子
PRINTFORMW %CALLNAME:ARG%接过刚刚诞生的小宝宝、温柔的抱住并開始喂起母乳来
SIF TALENT:ARG:母性 == 0
	PRINTFORMW %CALLNAME:ARG%覚醒了[母性]！

;妊娠消去、育児中・母性追加

TALENT:ARG:妊娠 = 0
EXP:ARG:出産経験 += 1
CALL CHILD_NAME(ARG)
CFLAG:ARG:育児人数 += 1
CFLAG:MASTER:育児人数 += 1
CFLAG:ARG:出産経過日 = 1
CFLAG:ARG:妊娠経過日数 = 0
CFLAG:ARG:無自覚妊娠 = 0
CFLAG:ARG:自覚射精 = 0
CFLAG:ARG:妊娠自覚状態 = 0 
TALENT:ARG:母性 = 1

CFLAG:ARG:産休 = 0

EXP:ARG:愛情経験 += 10
CFLAG:ARG:兒童人数 += 1
CFLAG:MASTER:兒童人数 += 1
IF FLAG:甲斐性無
	PRINTFORML %CALLNAME:MASTER%因為自己孩子的誕生
	CALL ASK_YN("萌生起了作爲父母的責任感","対今後可能発生起的各種各樣的事態感到不安")
	IF !RESULT
		PRINTFORMW %CALLNAME:MASTER%的毫無志気消失了
	ELSE
		PRINTFORMW 人的性格会這麼簡単就改変的話那麼就沒有人会覚得辛苦了
		PRINTFORMW %CALLNAME:MASTER%還是以前那樣不可靠的性格、幸福的和%CALLNAME:ARG%一起面臨着育児
	ENDIF
	FLAG:甲斐性無 = RESULT
ENDIF
		

@CHILD_NAME(YOME)
#DIM YOME
#DIM CHILDNUM
CHILDNUM = EXP:YOME:出産経験 % 10
SIF !EXP:YOME:出産経験 % 10
	CHILDNUM = 10
CHILD_SEX:YOME:CHILDNUM = RAND:2
CHILD_BIRTHDAY:YOME:CHILDNUM = DAY
$LOOP0
PRINTL 請決定孩子的名字
PRINTFORML 
CALL ASK_M("自己決定",1,"一覧隨機候補",1,"取名為帯着「墨西哥吹来的熱風！」意味的「桑塔納」怎麼樣！",1)

SELECTCASE RESULT
	CASE 0
		$LOOP1
		PRINTL 請輸入孩子的名字
		INPUTS
		IF RESULTS == ""
			GOTO LOOP1
		ELSE
			PRINTFORML %RESULTS%可以麼？
			CALL ASK_YN
			IF RESULT
				GOTO LOOP1
			ELSE
				CHILDNAME:YOME:CHILDNUM = %RESULTS%
			ENDIF
		ENDIF
	CASE 1
		$LOOP2
		FOR LOCAL,1,10
			LOCALS:LOCAL = %ランダムキャラ_命名()%
			PRINTFORML [{LOCAL}] - %LOCALS:LOCAL%
		NEXT
		DRAWLINE
		PRINTFORML [99] - 候補再生成
		PRINTFORML [100] - 返回
		$LOOP3
		INPUT
		SELECTCASE RESULT
			CASE 0 TO 9
				CHILDNAME:YOME:CHILDNUM = %LOCALS:RESULT%
			CASE 99
				GOTO LOOP2
			CASE 100
				GOTO LOOP0
			CASEELSE
				GOTO LOOP3
		ENDSELECT
	CASE 2
		PRINTFORML 生気的%CALLNAME:YOME%自己決定好了名字…
		CHILDNAME:YOME:CHILDNUM = %ランダムキャラ_命名()%
ENDSELECT

PRINTFORML 取下了%CHILDNAME:YOME:CHILDNUM%的名字
TALENT:YOME:育児中 = CHILDNUM
;----------------------------------------------------
;そのキャラに特定の年齢の兒童がいたら返す関数
;----------------------------------------------------
@CHK_HAVE_CHILD(ARG,ARG:1,ARG:2)
#FUNCTION
#DIM 年齢
SIF !CFLAG:ARG:育児人数
	RETURNF 0

FOR LOCAL, 1, 11
	年齢 = DAY - CHILD_BIRTHDAY:ARG:LOCAL
	SIF INRANGE(年齢,ARG:1,ARG:2-1)
		RETURNF LOCAL
NEXT

RETURNF 0

