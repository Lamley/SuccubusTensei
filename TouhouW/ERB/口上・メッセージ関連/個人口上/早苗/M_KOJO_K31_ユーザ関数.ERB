;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;東風谷早苗口上において用いる関数置き場;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;作成日:2017/1/20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;Ver.1.00;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;-----------------------------------------------------------------------
;@EVENT_CHECK_K31(ARG)
;イベントNo.(ARG)を踏んでいるかとうか
;返り値
;1:踏んでいますよ
;0:踏んでいませんよ
;イベント一覧(体験版Ver0.01時点)
;第1章 はじめまして
;	No.1 粗茶ですが
;	No.2 初接触
;	No.3 守矢の風祝
;	No.4 信じても鰯は鰯
;	No.5 信者ではないけれど
;	No.6 やっぱり鰯
;第1章 出会って3秒即デート！？
;	No.10001 無難なデート
;	No.10002 初デートは強引に
;	No.10003 触らぬ現人神に祟りなし
;	No.10004 デートのあとで
;	No.10005 デート相手は風祝
;	No.10006 嘘から出す真
;-----------------------------------------------------------------------
@EVENT_CHECK_K31(ARG)
#FUNCTION
#DIM 第1選択肢
#DIM 第2選択肢
#DIM 第3選択肢
#DIM 第1章
#DIM 第2章
#DIM 第3章
#DIM 第4章
#DIM 第5章
#DIM 第6章

第1章 = CFLAG:31:3101
第2章 = CFLAG:31:3102
第3章 = CFLAG:31:3103
第4章 = CFLAG:31:3104
第5章 = CFLAG:31:3105
第6章 = CFLAG:31:3106


	;第1章
	IF (ARG < 10 && ARG > 0) || (ARG < 10010 && ARG > 10000)
		;第1章	はじめまして					イベントNo.0
		IF ARG < 10
			SIF 第1章 != 0
				RETURNF 0
		;第1章	出会って3秒即デート！？			イベントNo.10000
		ELSE
			SIF 第1章 != 10000
				RETURNF 0
		ENDIF
		第1選択肢 = (CFLAG:31:3100 / 1) % 10
		第2選択肢 = (CFLAG:31:3100 / 10) % 10
		第3選択肢 = (CFLAG:31:3100 / 100) % 10
		SELECTCASE ARG-第1章
		CASE 1
			;該当部分が正しければ
			SIF 第1選択肢 == 1
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 2
			;該当部分が正しければ
			SIF 第1選択肢 == 2
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 3
			;該当部分が正しければ
			SIF 第2選択肢 == 1
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 4
			;該当部分が正しければ
			SIF 第2選択肢 == 2
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 5
			;該当部分が正しければ
			SIF 第3選択肢 == 1
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 6
			;該当部分が正しければ
			SIF 第3選択肢 == 2
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASEELSE
			RETURNF 0
		ENDSELECT
	
	;第2章
	ELSEIF (ARG < 30 && ARG > 10) || (ARG < 10030 && ARG > 10010)
		;第2章	守矢さんちの現人神				イベントNo.10
		IF ARG < 20
			SIF 第2章 != 10
				RETURNF 0
		;第2章	守矢さんちの現人神				イベントNo.20
		ELSEIF ARG < 30
			SIF 第2章 != 20
				RETURNF 0
		;第2章	くじで繋がる縁					イベントNo.10010
		ELSEIF ARG < 10020
			SIF 第2章 != 10010
				RETURNF 0
		;第2章	奇跡のおこしかた				イベントNo.10020
		ELSE
			SIF 第1章 != 10020
				RETURNF 0
		ENDIF
		第1選択肢 = (CFLAG:31:3100 / 1000) % 10
		第2選択肢 = (CFLAG:31:3100 / 10000) % 10
		第3選択肢 = (CFLAG:31:3100 / 100000) % 10
		SELECTCASE ARG-第2章
		CASE 1
			;該当部分が正しければ
			SIF 第1選択肢 == 1
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 2
			;該当部分が正しければ
			SIF 第1選択肢 == 2
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 3
			;該当部分が正しければ
			SIF 第2選択肢 == 1
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 4
			;該当部分が正しければ
			SIF 第2選択肢 == 2
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 5
			;該当部分が正しければ
			SIF 第3選択肢 == 1
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASE 6
			;該当部分が正しければ
			SIF 第3選択肢 == 2
				;1を返す
				RETURNF 1
			;それ以外は0
			RETURNF 0
		CASEELSE
			RETURNF 0
		ENDSELECT
	
	
	
	ENDIF
RETURNF 0

;-----------------------------------------------------------------------
;@CHAPTER_CHECK_K31(ARG)
;特定の章(イベントNo.(ARG))を通過しているかとうか
;返り値
;1:通過していますよ
;0:通過していませんよ
;章一覧
;第1章
;通常ルート「第1章　はじめまして」				イベントNo.0
;レアルート「第1章　出会って3秒即デート！？」	イベントNo.10000

;第2章
;通常ルート「第2章　守矢さんちの現人神」		イベントNo.10
;通常ルート「第2章　信者獲得大作戦」			イベントNo.20
;レアルート「第1章　くじで繋がる縁」			イベントNo.10010
;レアルート「第1章　奇跡のおこしかた」			イベントNo.10020
;-----------------------------------------------------------------------
@CHAPTER_CHECK_K31(ARG)
#FUNCTION
#DIM 第1章
#DIM 第2章
#DIM 第3章
#DIM 第4章
#DIM 第5章
#DIM 第6章

第1章 = CFLAG:31:3101
第2章 = CFLAG:31:3102
第3章 = CFLAG:31:3103
第4章 = CFLAG:31:3104
第5章 = CFLAG:31:3105
第6章 = CFLAG:31:3106

;処理的には若干無駄だけど記述が一番簡単なので
SIF ARG == 第1章
	RETURNF 1
SIF ARG == 第2章
	RETURNF 1
SIF ARG == 第3章
	RETURNF 1
SIF ARG == 第4章
	RETURNF 1
SIF ARG == 第5章
	RETURNF 1
SIF ARG == 第6章
	RETURNF 1
RETURNF 0

;-----------------------------------------------------------------------
;@CHAPTER_攻略中_K31(ARG)
;特定の章(イベントNo.(ARG))を攻略中かとうか
;攻略中：その章に入っている+次の章に入っていない
;返り値
;1:攻略中ですよ
;0:攻略中ではない
;章一覧
;第1章(CFLAG:31:3101)
;通常ルート「第1章　はじめまして」				イベントNo.0
;レアルート「第1章　出会って3秒即デート！？」	イベントNo.10000

;第2章(CFLAG:31:3102)
;通常ルート「第2章　守矢さんちの現人神」		イベントNo.10
;通常ルート「第2章　信者獲得大作戦」			イベントNo.20
;レアルート「第1章　くじで繋がる縁」			イベントNo.10010
;レアルート「第1章　奇跡のおこしかた」			イベントNo.10020
;-----------------------------------------------------------------------
@CHAPTER_攻略中_K31(ARG)
#FUNCTION
#DIM 第1章
#DIM 第2章
#DIM 第3章
#DIM 第4章
#DIM 第5章
#DIM 第6章

第1章 = CFLAG:31:3101
第2章 = CFLAG:31:3102
第3章 = CFLAG:31:3103
第4章 = CFLAG:31:3104
第5章 = CFLAG:31:3105
第6章 = CFLAG:31:3106

;処理的には若干無駄だけど記述が一番簡単なので
SIF ARG == 第1章 && 第2章 == -1
	RETURNF 1
SIF ARG == 第2章 && 第3章 == -1
	RETURNF 1
SIF ARG == 第3章 && 第4章 == -1
	RETURNF 1
SIF ARG == 第4章 && 第5章 == -1
	RETURNF 1
SIF ARG == 第5章 && 第6章 == -1
	RETURNF 1
SIF ARG == 第6章
	RETURNF 1
RETURNF 0