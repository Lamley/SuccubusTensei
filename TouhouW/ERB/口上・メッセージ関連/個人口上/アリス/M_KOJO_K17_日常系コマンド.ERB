;*********************************************************
;	コマンド系で使う関数群
;*********************************************************
;*********************************************************
;TRAIN_MESSAGEのMESSAGE_を飛ばすだけの関数
;*********************************************************
;調教時テキスト
@K17_SKIP_TRAIN_MESSAGE
DRAWLINE
RESULT = 1
SIF CFLAG:MASTER:うふふ != 2 && SELECTCOM != 461
	CALL カウンター呼び出し処理
SIF FLAG:口上色
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
RETURN 1

;*********************************************************
;カウンターごととばし
;*********************************************************
@K17_SET_KOJO_COLOR
DRAWLINE
SIF FLAG:口上色
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
RETURN 1

;*********************************************************
;TRAINに含まれるカウンター呼び出し
;*********************************************************
@K17_CLL_COUNTER
SIF CFLAG:MASTER:うふふ != 2 && SELECTCOM != 461
	CALL カウンター呼び出し処理
RETURN 1

;*********************************************************
;REACTIONの呼び出しをDRAWLINEなしで
;*********************************************************
@K17_CLL_COUNTER_REACTIONMESSAGE
SIF TARGET <= 0
	RETURN 0

IF !TCVAR:カウンター行動 && !TCVAR:22
	PRINTW
	RETURN 0
ENDIF

CALL DATUI_MESSAGE

SIF TCVAR:避妊 || TCVAR:カウンター行動
	RESETCOLOR

SIF TCVAR:避妊
	CALL SET_HININ(TARGET)
RESULT = 0
TRYCALLFORM EVENT_COUNTE_MESSAGE{TCVAR:カウンター行動}
SIF FLAG:口上色
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
TCVAR:カウンター行動 = 0
;改行なしがあるので検知しだい改行
SIF !LINEISEMPTY()
	PRINTL
PRINTL
RETURN 1
;*********************************************************
;TRAIN_MESSAGEのMESSAGE_だけを切り出す関数
;*********************************************************
@K17_MESSAGE
RESETCOLOR
IF TEQUIP:乳首吸い && SELECTCOM != 11 && SELECTCOM != 21 && SELECTCOM != 22 && SELECTCOM != 7
	CALL MESSAGE_EQUIP_COM11
ELSEIF TEQUIP:揉胸 && SELECTCOM != 12 && SELECTCOM != 21 && SELECTCOM != 22
	CALL MESSAGE_EQUIP_COM12
;ELSEIF TEQUIP:PLAYER:乳首吸い自慰 && SELECTCOM != 711 && SELECTCOM != 721 && SELECTCOM != 722 && SELECTCOM != 707
;	CALL MESSAGE_EQUIP_COM711
;ELSEIF TEQUIP:PLAYER:揉胸自慰 && SELECTCOM != 712 && SELECTCOM != 721 && SELECTCOM != 722
;	CALL MESSAGE_EQUIP_COM712
ENDIF
IF TFLAG:50
	TRYCALLFORM MESSAGE_SCOM{TFLAG:50}
ELSE
	TRYCALLFORM MESSAGE_COM{SELECTCOM}
ENDIF
SIF FLAG:口上色
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
RETURN 1

;*********************************************************
;K17_SKIP_TRAIN_MESSAGE関数で挟んで地の文後送りする関数
;*********************************************************
@K17_REVERSE_TRAIN_MESSAGE
RESETCOLOR
IF TEQUIP:乳首吸い && SELECTCOM != 11 && SELECTCOM != 21 && SELECTCOM != 22 && SELECTCOM != 7
	CALL MESSAGE_EQUIP_COM11
ELSEIF TEQUIP:揉胸 && SELECTCOM != 12 && SELECTCOM != 21 && SELECTCOM != 22
	CALL MESSAGE_EQUIP_COM12
;ELSEIF TEQUIP:PLAYER:乳首吸い自慰 && SELECTCOM != 711 && SELECTCOM != 721 && SELECTCOM != 722 && SELECTCOM != 707
;	CALL MESSAGE_EQUIP_COM711
;ELSEIF TEQUIP:PLAYER:揉胸自慰 && SELECTCOM != 712 && SELECTCOM != 721 && SELECTCOM != 722
;	CALL MESSAGE_EQUIP_COM712
ENDIF

IF TFLAG:50
	TRYCCALLFORM MESSAGE_SCOM{TFLAG:50}
		PRINTW
	CATCH
	ENDCATCH
ELSE
	TRYCCALLFORM MESSAGE_COM{SELECTCOM}
		PRINTW
	CATCH
	ENDCATCH
ENDIF
RESETCOLOR
RETURN 1
;*********************************************************
;地の文も自作してるとこで、人混み、モブ描写をする
;主に色の問題
;*********************************************************
@K17_DATE_HITOGOMI_MESSAGE
#DIM DYNAMIC iReturn = 0
RESETCOLOR
TFLAG:400 = RAND:2
IF TFLAG:400 && (DATE_HITOGOMI() || WITH_MOB() == 9)
	CALL DATE_HITOGOMI_MESSAGE(CFLAG:PLAYER:現在位置)
	iReturn = 1
ENDIF
SIF FLAG:口上色
	TRYCALLFORM M_KOJO_COLOR_K{TARGET}
RETURN iReturn
;*********************************************************
;汎用	：憤怒中
;怒がついてるとき荷取あえず呼んでおけば無視できる
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_憤怒

SIF !CFLAG:TARGET:ブチギレ
	RETURN 0

SELECTCASE RAND:3
	CASE 0
		PRINTFORM 「…………」
		TRYCALL K17_人形台詞(-1,1,K17_RS("バカジャネーノ/ヤメトケー/オコッテルゾー"))
		PRINTFORMDL %CALLNAME:TARGET%は視線すら合わせてれない
	CASE 1
		PRINTFORM 「……ふん」
		TRYCALL K17_人形台詞(-1,1,K17_RS("バカジャネーノ/ヤメトケー/オコッテルゾー"))
		PRINTFORMDL %CALLNAME:TARGET%は心情不快そうに視線を逸らした
	CASEELSE
		PRINTFORM 「……ふぅ」
		TRYCALL K17_人形台詞(-1,1,K17_RS("バカジャネーノ/ヤメトケー/オコッテルゾー"))
		PRINTFORMDL %CALLNAME:TARGET%は小さく吐息をついた
ENDSELECT
RETURN 1
;*********************************************************
;汎用	：睡眠中
;寝言
;STRシャッフル関数雑ぅ　そのうち汎用性あるの作る
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_睡眠
SIF FLAG:時間停止
	RETURN 1
SIF !CFLAG:TARGET:睡眠
	RETURN 0
SIF CFLAG:TARGET:睡眠
	PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("ふにゃ/すやー/すー/くー"))%」
PRINTW
RETURN 1
;*********************************************************
;汎用	：睡眠中愛撫
;寝言
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_睡眠愛撫
SIF FLAG:時間停止
	RETURN 1
SIF !CFLAG:TARGET:睡眠
	RETURN 0
SIF CFLAG:TARGET:睡眠
	PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("ふにゃ/えへへっ/ふにぃ/にゃん"))%」
PRINTW
RETURN 1
;*********************************************************
;汎用	：睡眠中フェラ系
;口に突っ込むやつ
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_睡眠フェラ
SIF !CFLAG:TARGET:睡眠 || FLAG:時間停止
	RETURN 0
PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("ふぐっ/んぐっ/はむっはむ/んっくっ"))%」
RETURN 1


@K17_SHUFFLE_寝言(ARGS)
#FUNCTIONS
#DIMS DYNAMIC 寝言,3="……","……",
寝言:2= %ARGS%
FOR i,0,2
	r = RAND(i,3)
	SWAP 寝言:i,寝言:r
NEXT
RETURNF 寝言:0+寝言:1+寝言:2

;※※※※※※※※※※※※※※※※※※※※※※※※※
;日常系コマンド
;
;基本地の文の分岐に合わせて(もういっそコピペしちゃって)書く
;
;※※※※※※※※※※※※※※※※※※※※※※※※※
;====================================================================================================
;300,会話
;
;	現在の構成
;	会話→関係査定→話題ランダム→関係性別に口上表示
;			↓		↓
;			↓		場所・デート中の会話予定）
;		優先判定→関係性別に口上表示
;
;	話題を番号追加して関係性別に答えを書いていく
;	拾えたらRETURN 1なかったら0で返して再抽選
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_300
;コマンド共通メッセージ(TRAIN_MESSAGE) 
;削除すると「～話をした。」とかが消えます
IF CFLAG:行動 == 5 && !(DAY % 14) && TIME <= 720
	CALL K17_SKIP_TRAIN_MESSAGE
ELSE
	CALL TRAIN_MESSAGE
ENDIF
;口上メイン呼出
CALL M_KOJO_MESSAGE_COM_K17_300_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_300_1
#DIM CONST 話題数 = 6	;最大話題数定義しとく
#DIM DYNAMIC iRTnum=0
#DIM DYNAMIC iRand=0
RESULT=0

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:時間停止

	;関係性をセット
	iRTnum = K17_GRT_EX(TARGET)
	;DEBUGPRINTFORML 【M_KOJO_MESSAGE_COM_K17_300_1 iRTnum({iRTnum})】
	
	;------------優先判定するもの---------------------
	;-----------------------------
	;仕事中
	;-----------------------------
	IF CFLAG:行動 == 5
		;人形劇中
		IF CFLAG:職種 == 40
			IF TIME >= 720
				;後片付け
				PRINTFORM 「ごめんなさい、ちょっとまだ片付けが残ってるの……」
				TRYCALL K17_人形台詞(-1,1,K17_RS("テツダエー/オツカレー"))
			ELSE
				;公演中
				PRINTL
				TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_会話_人形劇
			ENDIF
		;家事
		ELSE
			PRINTFORML 「ごめんなさい、ちょっと家事を片付けちゃうわ……」
		ENDIF
		RETURN 1
	ENDIF
	
	;-----------------------------
	;お友達認定フラグ保存
	;イベントフラグ持たせるのも微妙……ちゃんとしたの作るか
	;-----------------------------
	IF !CFLAG:K17C_ID:K17C_CF_お友達イベント
		IF ABL:親密 >= 5
			PRINTFORML 「なーんか、最近こうして会話するの普通になってきたわね……」
			PRINTFORML 「ま、なにか悪さするわけじゃないなら、少しは信頼してあげてもいいわね」
			CFLAG:K17C_ID:K17C_CF_お友達イベント=1
			TRYCALL K17_RELATION_EV(K17C_RTF_お友達)
			RETURN 1
		ENDIF
	ENDIF
	
	;-----------------------------
	;パンツ罠 疑い50超えてたらベース50で判定
	;ほぼバレるはず
	;-----------------------------
	IF K17_CHECK_時間停止バレ(TARGET,50,50)
		CALL M_KOJO_MESSAGE_COM_K17_300_1_会話_時間停止バレ
		TFLAG:好感度舞茄子 = 2
		RETURN 1
	ENDIF
	;-----------------------------
	;人形劇見たその日の会話
	;-----------------------------
	IF TCVAR:K17C_ID:K17C_TC_人形劇
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_会話_人形劇感想
		TCVAR:K17C_ID:K17C_TC_人形劇 = 0
		RETURN 1
	ENDIF
	
	;憤怒状態
	IF CFLAG:TARGET:ブチギレ == 1
		TRYCALL M_KOJO_MESSAGE_COM_K17_憤怒
	;会話不能時
	ELSEIF (TCVAR:会話不能 || MARK:反発刻印 >= 3) && !TALENT:TARGET:恋慕
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_会話_不能
	;酔い 60%で入る　泥酔なら必ず
	ELSEIF (BASE:17:酒気 >= 1 && K17_PERCENT(60)) || TCVAR:泥酔
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_会話_酔い(iRTnum)
	;成功判定
	ELSEIF TFLAG:193 >= 1
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_会話_成功(iRTnum)
	;失敗
	ELSEIF TFLAG:193 <= -1
		TRYCALL M_KOJO_MESSAGE_COM_K17_300_1_会話_失敗(iRTnum)
	ELSE
		RESULT=0
	ENDIF
	
	;--------------通常会話の話題ランダム-------------------
	;そのうち場所についても入れる予定
	;CFLAG:TARGET:デート中は行き先入っちゃうのでFLAG:デート相手==17で取るか
	;通常会話ランダム検索へ　仮置き
	i=0
	WHILE RESULT == 0
		iRand= RAND:話題数
		TRYCALLFORM M_KOJO_MESSAGE_COM_K17_300_1_話題_{iRand}(iRTnum)
		SIF RESULT
			BREAK
		IF i>=3
			iRTnum--
			i=0
		ENDIF
		SIF iRTnum<0
			BREAK
		i++
	WEND

ENDIF
RETURN 1

;*********************************************************
;会話	：人形劇
;会話不能でも優先的に選ばれる
;愛麗絲が勝手に喋ってる感じ
;10時開演～12時終演 12時からは片付けの手伝いができる
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_会話_人形劇

PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の人形劇を鑑賞した……
SIF !(TCVAR:K17C_ID:K17C_TC_人形劇 & 8)
	PRINTW

;-------------------
;上海の好感度上げる
;-------------------
CFLAG:K17C_ID:K17C_CF_上海好感度 = MIN(CFLAG:K17C_ID:K17C_CF_上海好感度 + 10,10000)
;-------------------
;公演中
;公演時間で見る　30分ごとに4分割
;-------------------
SELECTCASE (720 - TIME) / 30
	CASE IS >= 3
		IF !(TCVAR:K17C_ID:K17C_TC_人形劇 & 1)
			PRINTFORML 「本日もお集まりいただき、ありがとうございます」
			PRINTFORM 「では、そろそろ開演いたします……」
			TRYCALL K17_人形台詞(K17C_上海,0,"ヨイコノ　ミンナー")
			TRYCALL K17_人形台詞(K17C_蓬莱,1,"アツマレー")
			PRINTW
			PRINTFORML 「いい子には楽しい話を……悪い子にはこわ～い話をお届け致します……」
			PRINTFORML 「%CALLNAME:TARGET%の人形劇、はじまり、はじまり～」
			PRINTFORMDL 集まっていた子どもたちから、わぁっと歓声が上がった
			PRINTW
			TCVAR:K17C_ID:K17C_TC_人形劇 |= 1
		ENDIF
		PRINTFORML 「昔～々、あるところに、わる～い魔女に怯える国がありました……」
		PRINTFORML 「わる～い魔女は、どこからともなくやってきて、兒童を何処かへ拐ってしまうのです」
		PRINTFORML 「町の人々は魔女に怯え、魔女を退治して欲しいと、王様にお願いしました」
		TRYCALL K17_人形台詞(K17C_上海,1,"王様！　悪い魔女を退治して下さい！")
		PRINTFORML 「しかし王様はなかなか願いをきいてくれません」
		PRINTFORML 「そうこうしているうちに、ついにお城に住むお姫様も拐われてしまったのです……」
		TRYCALL K17_人形台詞(K17C_蓬莱,1,"きゃー！　誰かー助けてー！")
		
	CASE 2
		IF !(TCVAR:K17C_ID:K17C_TC_人形劇 & 2)
			PRINTFORML 「困った王様はついに重い腰を上げました」
			PRINTFORML 「王様はこの国で一番勇敢で、正義感の強い、青年ピーノにこの国を救って欲しいと頼みました」
			PRINTFORML 「青年ピーノは国中の人々の期待を一心に背負い、魔女を退治し、お姫様を救うことを決意しました」
			TRYCALL K17_人形台詞(K17C_上海,1,"魔女め！　許せない！")
			PRINTW
			TCVAR:K17C_ID:K17C_TC_人形劇 |= 2
		ENDIF
		PRINTFORML 「そして青年はお姫様を救いに旅立ちました……」
		TRYCALL K17_人形台詞(K17C_上海,1,"姫！　必ず助けに参ります")
		
	CASE 1
		IF !(TCVAR:K17C_ID:K17C_TC_人形劇 & 4)
			PRINTFORML 「青年ピーノは冒険は困難を極めました」
			PRINTFORML 「ある時は、いくら待っても春が来ない、冬の森を抜け……」
			PRINTFORML 「またある時は、ずーっと夜の続く竹林を抜けて、旅を続けました」
			PRINTFORML 「洞窟では鬼と戦い、天より高い山の頂上では天女や天人と会い、大冒険でした」
			PRINTFORML 「そして、ついに魔女を見つけました」
			TRYCALL K17_人形台詞(K17C_上海,1,"ついに見つけたぞ！　魔女！")
			PRINTW
			PRINTFORML 「青年ピーノはお姫様を返すよう魔女に言いますが、魔女は渡しません」
			PRINTFORM 『悪い魔女め！　退治してやる！』
			TRYCALL K17_人形台詞(K17C_上海,1,"行くぞ！　魔女！")
			PRINTFORML 「と、青年が言って二人は戦いになりました……」
			PRINTW
			TCVAR:K17C_ID:K17C_TC_人形劇 |= 4
		ENDIF
		PRINTFORMDL 人形たちが立ち回り、閃光が光ったりする演出がされた……あれは魔法なんだろうか
		PRINTFORMDL 最後に小さな破裂音がして、煙が舞っていた
		PRINTFORML 「そして戦いの末、ついにわる～い魔女をやっつけたのです」
		PRINTW
		PRINTFORML 『や～ら～れ～た～』
		TRYCALL K17_人形台詞(K17C_上海,0,"姫～～！　無事でよかった！")
		TRYCALL K17_人形台詞(K17C_蓬莱,1,"助けてくれて、ありがとう！")
		PRINTFORML 「青年は無事、お姫様を救い出しました」
	CASE 0
		IF !(TCVAR:K17C_ID:K17C_TC_人形劇 & 8)
			PRINTFORML 「お姫様を救った青年は国へ戻ると、一躍英雄となりました」
			PRINTFORML 「そしてお姫様と結婚し、幸せに暮らしていました……」
			TRYCALL K17_人形台詞(K17C_上海,0,"姫、必ず幸せにします！")
			TRYCALL K17_人形台詞(K17C_蓬莱,1,"愛してるわ、王子様！")
			PRINTFORML 「めでたし、めでたし……」
			TCVAR:K17C_ID:K17C_TC_人形劇 |= 8
		ELSE
			PRINTFORMDL すでに人形劇は終わっており、%CALLNAME:TARGET%は子どもたちに囲まれていた
			PRINTW
			PRINTFORML 「みんないい子にして、お父さんとお母さんの言うことをちゃんと聞くのよ」
			PRINTFORML 「でないと、わる～い魔女が来て拐われちゃうんだから……」
		ENDIF
		
ENDSELECT
RETURN 1

;*********************************************************
;会話	：人形劇感想
;会話不能でも優先的に選ばれる
;仕事終わり13時くらいか？からの人形劇を1度でも見ているときの会話
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_会話_人形劇感想
#DIM DYNAMIC iFlagNum = 0
#DIMS DYNAMIC cEX=""
;何個見たか数える
FOR i,0,4
	SIF GETBIT(TCVAR:K17C_ID:K17C_TC_人形劇,i)
		iFlagNum ++
NEXT

PRINTFORM 「……ああ、人形劇見てくれたの……なんだか恥ずかしいわね」
TRYCALL K17_人形台詞(-1,1,"ハズカシー")
PRINTW

;適当に好感度うｐ
;読んだ数*10
TFLAG:好感度管理 += 10*iFlagNum

;見た数で判定
IF iFlagNum < 4
	;全部見られなかった
	PRINTFORML 「えっと、どうだったかしら……？」
	PRINTFORMDL %CALLNAME:TARGET%にそう聞かれて、ちゃんと観ていなかった%CALLNAME:MASTER%は適当に答えた
	PRINTFORML 「ふーむ……まあ次は全部観ていってね」
ELSE
	SIF K17_GRT() >= K17C_思慕
		cEX = 自分なら魔女も救ったのに
	CALL K17_CHOICE("「えっと、どうだったかしら……？」","普通だった","よかった",cEX)
	SELECTCASE RESULT
		CASE 0
			;普通
			PRINTFORML 「ふーむ、率直な感想ね」
			PRINTFORML 「変に気を遣われるより、よかったわ、ありがとう」
		CASE 1
			;よかった
			PRINTFORML 「うーん、本当に……？」
			PRINTFORML 「案外兒童っぽい所あるのね、ふふっ」
		CASE 2
			;魔女も助けた
			PRINTFORML 「えっ…………」
			PRINTFORML 「意外な感想ね、ちょっと……驚いた、わ……」
			PRINTFORMDL %CALLNAME:TARGET%は何故か顔を真っ赤にして、俯いてしまった
			TFLAG:好感度ボー茄子 += 100
			CFLAG:K17C_ID:K17C_CF_上海好感度 = MIN(CFLAG:K17C_ID:K17C_CF_上海好感度 + 100,10000)
	ENDSELECT
ENDIF
RETURN 1

;*********************************************************
;会話	：時間停止バレ
;疑い+50％でランダム　かつ愛麗絲のパンツを持っている場合のみ
;咲夜の場合100％バレ
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_会話_時間停止バレ

PRINTFORML 「…………ねえ、この糸見えるかしら？」
PRINTFORMDL そう言って指をかざして見せた%CALLNAME:TARGET%の魔法の糸が、先程盗んだパンツを隠した%CALLNAME:MASTER%の懐へ伸びていた……

SIF CFLAG:K17C_ID:K17C_CF_パンツ没収
	PRINTFORML 「前にも私の内袴を盗んだことあったけれど……」
PRINTFORML 「証拠を残しすぎたようね……イタズラ程度なら許してあげるつもりだったけれど……」
PRINTFORML 「どうやってやったか……白状してもらおうかしら」
PRINTW
PRINTFORMDL くすねた内袴を没収された
PRINTFORMDL これは腹をくくらなきゃならないようだ
PRINTL
PRINTFORMDW %CALLNAME:TARGET%に時間停止能力がバレてしまった！
PRINTL
CALL K17_時間停止バレ

;後処理
SIF !CFLAG:弱み握り
	PRINTFORMDW %CALLNAME:TARGET%に弱みを握られた
CFLAG:TARGET:弱み握り += 5
VARSET PANTS_TEMP
FLAG:パンツ輸送 = 0
RETURN 1
;*********************************************************
;会話	：不能
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_会話_不能
SELECTCASE RAND:3
	CASE 0
		PRINTFORM 「………………」
		TRYCALL K17_人形台詞(K17C_上海,0)
		TRYCALL K17_人形台詞(K17C_蓬莱,1)
		PRINTFORMDL %CALLNAME:TARGET%は暇そうに人形をいじってる
	CASE 1
		PRINTFORM 「……暇ね」
		TRYCALL K17_人形台詞(-1,1,@"ヒマ%K17_RS("ダ/")%ー")
		PRINTFORMDL %CALLNAME:TARGET%はポツリと呟いた
	CASEELSE
		PRINTFORM 「……ふぅ」
		TRYCALL K17_人形台詞(-1,1,@"%K17_RS("フゥ/愛麗絲")%ー")
		PRINTFORMDL %CALLNAME:TARGET%は小さく吐息をついた
ENDSELECT
RETURN 1
;*********************************************************
;会話	：酔い　泥酔
;参照	：BASE:17:酒気 
;引数	：RELATION_TYPE
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_会話_酔い(ARG)


;-----------------
;泥酔処理　戻す
;-----------------
IF TCVAR:泥酔 && ARG >= K17C_恋慕
	PRINTFORML 「ふぇぇ～%K17_CNAME()%？　%K17_RS("えっちする気でしょー/らんぼーしゅる気でしょー")%」
	RETURN 1
ELSEIF TCVAR:泥酔
	PRINTDATAL
		DATAFORM 「……%K17_RS("上海ぃ/蓬莱ぃ")%～大きくなったわねー」
		DATAFORM 「……%K17_RS("魔理……しゃぁあ？/お母……しゃん？")%」
	ENDDATA
	RETURN 1
ENDIF

;-----------------
;通常処理
;-----------------
SELECTCASE K17_MAX_LIMIT_RAND(ARG,K17C_思慕,K17C_恋人)
	CASE IS >= K17C_恋人
		PRINTFORML 「ふぇ～～%K17_CNAME(0,1)%　～しゅき%K17_HEART()%　～えへへ%K17_BLUSH()%」
		PRINTFORML 「ふわふわするよ～……あぁん%K17_HEART()%　ね？　ふわっふわ」
		PRINTFORMDL %CALLNAME:TARGET%が擦り寄って胸を押し付けてくる
		PRINTFORMDL ……ふわっふわだった！
	CASE IS >= K17C_恋慕
		PRINTFORML 「暑くなってきちゃったぁ……ねぇ%K17_HEART()%」
		PRINTFORMDL %CALLNAME:TARGET%が魅せつけるように%K17_RS("胸元/"+K17_GET_CLOTHNAME_TOP(TARGET,1)+"/鎖骨の辺り")%を肌蹴る
		PRINTFORMDL %CALLNAME:MASTER%は慌てて戻した
	CASE IS >= K17C_思慕うふふ
		PRINTFORML 「……ねぇ、酔わせてどうするつもりなの？」
		PRINTFORMDL %CALLNAME:TARGET%の酔った眼差しはなんだか妖艶だ
	CASE IS >= K17C_思慕
		PRINTFORML 「……ふぅ、なぁに？　急に見つめて……」
		PRINTFORMDL %CALLNAME:TARGET%の酔った吐息をこぼす唇はとても色っぽい
	CASEELSE
		PRINTFORML 「……ごめんなさいねぇ、ちょっと……お酒は苦手なのよ、ふらふらするわぁ」
		PRINTFORMDL %CALLNAME:TARGET%は小さく吐息をついた
ENDSELECT

SIF ALCOHOL_FACE(TARGET) == "ほろ酔い"
	PRINTFORMDL まだそれほど呑んでいないはずなのに、%CALLNAME:TARGET%は酒に弱そうだ
SIF ALCOHOL_FACE(TARGET) == "酔いどれ"
	PRINTFORMDL %CALLNAME:TARGET%は早くも足元が危ない
SIF ALCOHOL_FACE(TARGET) == "ぐでぐで"
	PRINTFORMDL %CALLNAME:TARGET%は最早ぐでぐでだ
	
RETURN 1

;*********************************************************
;会話	：成功　大成功
;参照	：TFLAG:TARGET:193
;引数	：RELATION_TYPE
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_会話_成功(ARG)

PRINTFORML 「%K17_CNAME()%、ほんとうにおかしな人ね……くすくす」
PRINTFORMDL %CALLNAME:TARGET%は口元に手をやって控えめに笑っている

SELECTCASE ARG
	CASE IS >= K17C_恋人
		PRINTFORML 「……うーん……」
		PRINTFORMDL %CALLNAME:TARGET%は遠くを見つめ唸っていた
		PRINTFORMDL ……？
		PRINTFORML 「……%K17_CNAME()%、好きよ……愛してる」
		PRINTFORMDL %CALLNAME:TARGET%は振り返ると満面の笑みをたたえ、%CALLNAME:MASTER%にそう伝えた
		PRINTFORML 「どうしたらこの気持全部伝えられるのかしら……？」
		RETURN 1
	CASE IS >= K17C_恋慕告白
		PRINTFORML 「……う～ん……幸せね」
		PRINTFORML 「ずっとこんな日が続けばいいのに……」
		PRINTFORMDL %CALLNAME:TARGET%がずっと笑顔で居られるように、これからも頑張ろう
		RETURN 1
	CASE IS >= K17C_思慕
		PRINTFORML 「んもぅ、ばかな人ね、%K17_CNAME()%%K17_HEART()%」
		PRINTFORMDL %CALLNAME:TARGET%が%CALLNAME:MASTER%の腕を取って%K17_RS("おっぱいを/胸を/谷間に")%ぐいぐい押し付けて、耳元に囁く
		PRINTFORML 「……いい思い、できちゃったかしら？」
		RETURN 1
	CASE IS >= K17C_お友達
		PRINTFORML 「あら、意外と……\@ TALENT:MASTER:性別 ==1 ? ある # 鍛えてる \@のね？」
		PRINTFORMDL ぺたぺたと、%CALLNAME:TARGET%のさり気ないタッチが多い気がする
		PRINTFORML 「あっ、こら、こっちはだめよ……？%K17_BLUSH(1)%」
		RETURN 1
	CASEELSE
		PRINTFORML 「あっ……あら……ごめんなさい。%K17_RS("手/お尻/胸")%当たっちゃったかしら？」
		PRINTFORMDL %CALLNAME:TARGET%は少し照れて顔を赤くした
		PRINTFORML 「んもう、えっちね」
		RETURN 1
ENDSELECT
RETURN 0

;*********************************************************
;会話	：失敗　大失敗
;参照	：TFLAG:TARGET:193
;引数	：RELATION_TYPE
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_会話_失敗(ARG)

PRINTFORML 「……ふう」
PRINTFORMDL %CALLNAME:TARGET%は退屈そうだ
SELECTCASE ARG
	CASE IS >= K17C_思慕
		PRINTFORML 「……ちょっとは落ち着きなさいよ、兒童みたいよ」
		PRINTFORMDL %CALLNAME:TARGET%は%K17_RS("冷たい目つき/冷めた眼差し/きつい目つき")%でも%K17_RS("素敵/美しい/美人")%だと言ったら、また怒られるんだろうな
		RETURN 1
	CASEELSE
		PRINTFORML 「……その話{RAND(2,4)}回目よ」
		RETURN 1
ENDSELECT
RETURN 0


;*********************************************************
;	話題0	心配性愛麗絲
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_話題_0(ARG)

SELECTCASE ARG
	CASE IS >= K17C_恋慕生解禁
		;同居中か見る
		IF CFLAG:TARGET:初期位置 == CFLAG:MASTER:初期位置
			PRINTFORML 「%K17_CNAME()%、また%K17_RS("服/髪")%乱れてるわよ」
			PRINTFORMDL そう言って優しく丁寧に直された
			PRINTFORML 「ほんと、私がいないとだめなんだから」
		ELSE
			PRINTFORML 「%K17_CNAME()%がちゃんと%K17_RS("掃除/自炊")%できてるか心配よ……」
			PRINTFORMDL そんな%K17_RS("兒童扱い/心配")%しなくても……
			PRINTFORML 「やっぱり一緒に住むべきかしら、ね？」
		ENDIF
		RETURN 1
	CASE IS >= K17C_思慕うふふ
		PRINTFORML 「今度ちゃんと%K17_CNAME()%のお部屋に行くわね」
		PRINTFORML 「ちゃんと%K17_RS("掃除/自炊")%できてるかチェックしてあげる」
		PRINTFORMDL 面倒なことになりそうだ……
		RETURN 1
	CASE IS >= K17C_思慕
		PRINTFORML 「最近ちゃんと%K17_RS("掃除/自炊")%してる？」
		PRINTFORML 「なんならたまに、私がしてあげに行ってもいいわよ」
		PRINTFORML 「家事は得意なんだから」
		PRINTFORMDL %CALLNAME:TARGET%はいい%K17_RS("お母さん/母親/ママ")%になりそうだ
		PRINTFORML 「えっ！？　それってどういう……%K17_BLUSH()%」
		RETURN 1
	CASE IS >= K17C_お友達
		PRINTFORML 「最近ちゃんと%K17_RS("掃除/自炊/休憩")%してる？」
		PRINTFORMDL やっぱり%K17_RS("兒童扱い/心配")%されてるのか？
		RETURN 1
	CASE IS >= K17C_知り合い
		PRINTFORML 「%K17_CNAME()%、あんまり調子に乗って変なことしたらだめよ」
		PRINTFORMDL 窘めるように%CALLNAME:TARGET%が言ってくる
		PRINTFORMDL %K17_RS("兒童扱い/心配")%されてるのか？
		RETURN 1
ENDSELECT
RETURN 0

;*********************************************************
;	話題1	知り合いなどについて
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_話題_1(ARG)
#DIM iFriends

;知り合いの中からランダムチョイス
iFriends = K17_GET_FRIENDS(-1)
PRINTFORMDL %CALLNAME:iFriends%について話を聞いてみた
SELECTCASE iFriends
	CASE K17C_霊夢ID
		PRINTFORML 「%K17_CNAME(iFriends)%か。まったくあの娘は……」
		PRINTFORMDL 長くなりそうだ……
		RETURN 1
	CASE K17C_魔理沙ID
		PRINTFORML 「%K17_CNAME(iFriends)%か、%K17_RS("また本を盗みに行ってるんじゃない？/あの娘のことも心配なのよね")%……まったく……」
		PRINTFORMDL 長くなりそうだ……
		RETURN 1
	CASE K17C_琶秋莉ID
		PRINTFORML 「%K17_CNAME(iFriends)%ね。同業としては尊敬するけど、私も負けてないわ」
		RETURN 1
	CASE K17C_幽香ID,K17C_咲夜ID
		PRINTFORML 「%K17_CNAME(iFriends)%ね。綺麗よねぇ……」

	CASE K17C_梅蒂欣ID
		PRINTFORML 「%K17_CNAME(iFriends)%ね。可愛いし、個人的にちょっと興味あるわ」
		RETURN 1
	CASE K17C_魅魔ID,K17C_露易茲ID,K17C_夢子ID
		PRINTFORML 「%K17_CNAME(iFriends)%ね。うーん尊敬している人ね」
		
	CASE K17C_神綺ID
		PRINTFORML 「%K17_CNAME(iFriends)%ね。えーっと、すごく尊敬してるし、憧れの人よ」
		PRINTFORML 「%K17_CNAME(iFriends)%みたいになりたいって思ってるわ」
		RETURN 1
	CASEELSE
		RETURN 0
ENDSELECT
PRINTFORML 「あんな%K17_RS("美人/素敵な人")%になりたいわ……」
PRINTFORMDL 十分%CALLNAME:TARGET%も素敵だと思う……
RETURN 1

;*********************************************************
;	話題2	魔法、人形について
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_話題_2(ARG)

SELECTCASE ARG
	CASE IS >= K17C_恋慕生解禁
		PRINTFORML 「まさか自立人形より先に、こんなことになるなんて……ね」
		PRINTFORMDL どういうことだろう
		PRINTFORML 「んもうっ、ずるい人ね……」
		RETURN 1
	CASE IS >= K17C_恋慕
		PRINTFORML 「いつか私も故郷へ帰るんだと思っていた……」
		PRINTFORML 「けど幻想郷で生きていくのもいいわね」
		PRINTFORMDL どういう心境の変化なんだろう？
		PRINTFORML 「っ……言わせたいの？　いいわよ、言ってやらないんだから%K17_BLUSH()%」
		RETURN 1
	CASE IS >= K17C_思慕うふふ
		PRINTFORML 「%K17_CNAME()%魔女の契約って、知ってるのかしら？」
		PRINTFORMDL 詳しくはないが、%K17_RS("命/血/寿命")%でも取られるのだろうか？
		PRINTFORML 「まあそっち系は専門外だから別にいいんだけれど、ね」
		RETURN 1
	CASE IS >= K17C_思慕
		PRINTFORML 「いつか自立人形を完成させてみたいんだけど……」
		PRINTFORML 「人間もまだよくわからないものね」
		RETURN 1
	CASE IS >= K17C_知り合い
		PRINTFORML 「%K17_RS("魔法使い/魔法")%って言っても思ってるほど万能じゃないのよ」
		PRINTFORMDL なんでもできる夢の様なものでもないのか
		RETURN 1
ENDSELECT

RETURN 0
;*********************************************************
;	話題3	現在の関係査定について
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_話題_3(ARG)

PRINTFORMDL 果たして%CALLNAME:TARGET%は%CALLNAME:MASTER%のことをどう思っているのだろうか？
;ここは正確に取得
SELECTCASE K17_GRT()
	CASE IS >=  K17C_恋人
		IF TALENT:恋人
			PRINTFORML 「愛してるわよっ、%K17_CNAME(MASTER,1)%」
			PRINTFORMDL 即答だった……
			PRINTFORML 「%K17_RS("なぁに？　/やだ、/なによっ、")%照れてるの？」
		ELSE
			PRINTFORML 「愛してるわよっ、ご主人様」
			PRINTFORML 「ふふっ、ご主人様は冗談。でもたまには、こういうのもいいかもね？」
		ENDIF
		RETURN 1
	CASE IS >= K17C_恋慕生解禁
		PRINTFORML 「%K17_CNAME()%が\@ TALENT:MASTER:性別 ==1 ? ママ # パパ \@になる日も近いかしらね……？」
		RETURN 1
	CASE IS >= K17C_恋慕
		IF TALENT:TARGET:恋慕
			PRINTFORML 「%K17_CNAME()%にならなんでも許しちゃう関係かしら？　ふふっ」
		ELSEIF TALENT:TARGET:愛欲
			PRINTFORML 「こういうのを爛れた関係っていうのかしらね？」
		ENDIF
		RETURN 1
	CASE IS >= K17C_思慕
		IF TALENT:TARGET:思慕
			PRINTFORML 「どう思ってるか、言わせたいの？
			PRINTFORML 「%K17_CNAME()%から先に言いなさいよ、もう%K17_BLUSH()%」
		ELSEIF TALENT:TARGET:炮友
			PRINTFORML 「身体だけの関係でしょ？」
		ELSEIF TALENT:TARGET:恋慕
			;清い関係の恋慕
			PRINTFORML 「%K17_CNAME()%に大事にされてるっていつも感謝してるわよ？」
		ENDIF
		RETURN 1
	CASE K17C_お友達
		PRINTFORML 「えっ、知り合いでしょ？」
		PRINTFORML 「ふふっ、%K17_RS("うそよ/冗談よ")%。%K17_RS("友人/友達")%くらいには思ってるわ」
		RETURN 1
	CASE IS >= K17C_知り合い
		PRINTFORML 「%K17_CNAME()%は、なんて言うか目が離せないわね」
		PRINTFORML 「手のかかる\@ TALENT:MASTER:性別 ==1 ? 妹 # 弟 \@、かしらね、ふふっ……」
		RETURN 1
ENDSELECT
RETURN 0

;*********************************************************
;	話題4	ちゅーしたい
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_話題_4(ARG)

PRINTFORMDL つい綺麗な声を紡ぎ出す唇に目が止まってしまう
;フラグチェック
IF K17_RT_FG(TARGET) &  K17C_RTF_キス
	SELECTCASE ARG
		CASE IS >= K17C_恋慕
			PRINTFORML 「うん？　なぁに？　ふふっ、%K17_RS("言わなきゃわからないわよ/してもいいわよ")%？」
			PRINTFORMDL からかわれてしまった
			RETURN 1
		CASE IS >= K17C_思慕
			PRINTFORML 「っ%K17_BLUSH()%　……また……したい……の？」
			PRINTFORMDL 意識させてしまったようだ
			RETURN 1
		CASE IS >= K17C_知り合い
			PRINTFORML 「っ……何見つめてるのよ、もう」
			PRINTFORMDL 顔を逸らされてしまった
			RETURN 1
	ENDSELECT
ELSE
	;まだキスしてない
	SELECTCASE ARG
		CASE IS >= K17C_思慕キス
			PRINTFORML 「～～～～%K17_BLUSH()%」
			PRINTFORMDL 意識させてしまったのだろうか、%CALLNAME:TARGET%は赤面して俯いてしまった
			RETURN 1
		CASE IS >= K17C_思慕
			PRINTFORML 「っ……なっ、なんでもないわよ」
			PRINTFORMDL 目が合うと逸らされてしまった
			RETURN 1
		CASE IS >= K17C_知り合い
			PRINTFORML 「っ……なに？　見つめて……っ～～%K17_BLUSH()%」
			PRINTFORMDL 手で隠されてしまった
			RETURN 1
	ENDSELECT
ENDIF
RETURN 0

;*********************************************************
;	話題5	口説いてるの
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_300_1_話題_5(ARG)
PRINTFORMDL %K17_RS("凛として/笑みを称えて/優雅に")%話す%CALLNAME:TARGET%……その横顔に見とれて、思わず%K17_RS("綺麗だ/可愛い/素敵だ/美人だ")%と口をついて出る
SELECTCASE ARG
	CASE IS >= K17C_恋慕
		PRINTFORML 「もうっ、なによ%K17_CNAME()%、%K17_RS("……ありがと/やましいことでもあるの？/急に……")%」
		PRINTFORMDL %K17_RS("事実/本当のこと/思ったこと")%をそのまま言ってしまっただけだ
		PRINTFORML 「いつもそうやって褒めるから、自分がいい女なんじゃないか、って勘違いしちゃうじゃない」
		PRINTFORMDL そう言ってるつもりなんだけど……
		RETURN 1
	CASE IS >= K17C_思慕うふふ
		PRINTFORML 「……なぁに、%K17_CNAME()%、%K17_RS("それ何人に言ってるの/口説いてるの/褒めてるの")%？」
		PRINTFORMDL %K17_RS("事実/本当のこと/思ったこと")%をそのまま言ってしまっただけだ
		PRINTFORML 「%K17_RS("もうっ/ありがと")%%K17_BLUSH()%　それで%K17_RS("思い上がる/勘違いしちゃう/嬉しくなっちゃう")%娘もいるのよ？　ふふっ」
		RETURN 1
	CASE IS >= K17C_思慕
		PRINTFORML 「っ……なに？　%K17_CNAME()%%K17_RS("それ何人に言ってるの/口説いてるの/褒めてるの")%？」
		PRINTFORMDL 思ったことをそのまま言ってしまっただけだ
		PRINTFORML 「……%K17_RS("もうっ/ありっがと……/")%%K17_BLUSH()%」
		RETURN 1
		RETURN 1
	CASE IS >= K17C_知り合い
		PRINTFORML 「っ……なにそれ、%K17_CNAME()%%K17_RS("何人に言ってるの/口説いてるの/褒めてるの")%？」
		PRINTFORMDL つい言ってしまった……
		PRINTFORML 「……%K17_RS("あら、/ふっ、/")%そう……%K17_BLUSH()%」
		RETURN 1
ENDSELECT
RETURN 0
;*********************************************************
;	話題99	話題テンプレ
;*********************************************************
;@M_KOJO_MESSAGE_COM_K17_300_1_話題_99(ARG)
;SELECTCASE ARG
;	CASE IS >= K17C_恋慕
;		RETURN 1
;	CASE IS >= K17C_思慕
;		RETURN 1
;	CASE K17C_知り合い
;		RETURN 1
;ENDSELECT
;RETURN 0


;====================================================================================================
;301,泡茶
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_301
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_301_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_301_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL

	;憤怒状態
	IF CFLAG:TARGET:ブチギレ == 1
		TRYCALL M_KOJO_MESSAGE_COM_K17_憤怒
		RETURN 1
	ENDIF
	
	;-------------------------------------------------
	;初めて
	;選んだ瞬間にFIRSTTIME記録されるので憤怒状態で初回されるとスキップされる
	;自前で用意してもいいけど、仕様ってことでひとつ……
	;必要な場合口上つけて保存してみるテスト
	;記入チェック
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && FIRSTTIME(@"{SELECTCOM}口上")
		PRINTFORML 「あら、お茶淹れてくれたのね」
		PRINTFORML 「ごめんなさい、気を遣わせてしまって。私が淹れるべきだったわね」
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%にしてあげられることなんてこれくらいしかないので、出来るだけやらせてほしいと伝えた
		PRINTFORML 「ふーん。じゃあ今度からはお願いしちゃおうかしら」
		PRINTFORML 「ただし私はちょっと厳しいわよ？」
		PRINTFORMDL これから毎回頑張ろう
		PRINTW
	ENDIF
	
	;仕事中
	IF CFLAG:TARGET:行動 == 5
		PRINTDATAL
			DATAFORM 「ちょうど一息入れたいところだったわ」
			DATAFORM 「いいタイミングね」
			DATAFORM 「あら嬉しい」
		ENDDATA
	ENDIF
	
	;成功判定
	IF TFLAG:193 == 1
		PRINTFORML 「今日のお茶は特に%K17_RS("いい出来/美味しいわ/いい香り")%ね～、鍛えた甲斐があったのかしら」
		PRINTFORMDL どうやら合格点を貰えたようだ
		
	;失敗
	ELSEIF TFLAG:193 == -1
		SELECTCASE K17_GRT(TARGET)
			CASE IS >= K17C_恋慕
				PRINTFORML 「…………んっ……」
				PRINTFORMDL %CALLNAME:TARGET%は一瞬顔をしかめたが、何も言わずお茶を飲んでいた
			CASE IS >= K17C_思慕
				PRINTFORML 「……うーん？　ちょっと失敗ねこれは」
			CASE K17C_知り合い
				PRINTFORML 「……なに、入れたの……これ」
				PRINTFORMDL なにか混入させたのではないかと疑われてしまった
		ENDSELECT
		PRINTFORMDL どうやら失敗だったようだ。次頑張ろう
	ENDIF
	
	;感想
	SELECTCASE K17_GRT_EX(TARGET)
		CASE IS >= K17C_恋慕
			PRINTFORML 「これ、すっかり%K17_RS("習慣/癖/恒例/お決まり")%になっちゃったわねぇ……」
			PRINTFORML 「いつもありがとう、%K17_CNAME(MASTER,1)%」
		CASE IS >= K17C_思慕
			PRINTFORML 「いつもありがとう、%K17_CNAME()%」
		CASE IS >= K17C_知り合い
			PRINTFORML 「いつまで続くのかしらね、この習慣。ふふっ」
	ENDSELECT
	
ENDIF
RETURN 1
;====================================================================================================
;302,身体接触
;
;好き勝手やってる
;M_KOJO_MESSAGE_COM_K17_302_1_選択肢		9種
;M_KOJO_MESSAGE_COM_K17_302_1_選択肢_お浴室	6種
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_302
;お浴室時のランダム値取れないどうしよう　←だったら作ればいいだろ
;地の文自前で用意
;地の文を後送りにする関数自作したほうがいいかも コピペした

CALL K17_SKIP_TRAIN_MESSAGE

CALL M_KOJO_MESSAGE_COM_K17_302_1
CALL K17_DATE_HITOGOMI_MESSAGE
;成功で返して上げて
RETURN 1

@M_KOJO_MESSAGE_COM_K17_302_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	

	;憤怒状態　失敗時はすぐ戻す
	IF CFLAG:TARGET:ブチギレ == 1 || TFLAG:193 == -1
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%と身体接触を図ろうとした……
		PRINTW
		;失敗
		IF TFLAG:193 == -1
			PRINTFORMDL 軽く触れてみたが、いまいちのようだった
			PRINTFORMDL 怒られる前に、今回はここまでにしておこう
			PRINTW
			RETURN 1
		;憤怒
		ELSE
			TRYCALL M_KOJO_MESSAGE_COM_K17_憤怒
			RETURN 1
		ENDIF
	ENDIF
	
	;成功or宴会時orデート中　普段より大胆に
	IF TFLAG:193 == 1 || CFLAG:TARGET:職種 == 49 || FLAG:デート相手 == K17C_ID
		PRINTFORMDL %CALLNAME:MASTER%は普段より大胆に%CALLNAME:TARGET%との身体接触を図った
	ELSE
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%との身体接触を図った
	ENDIF
	;-------------------------------------------------
	;初めて
	;記入チェック
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && FIRSTTIME(@"{SELECTCOM}口上") ;|| STRCOUNT(CSTR:K17C_ID:0,"身体接触[0-9]") == 0
		PRINTFORML 「きゃ！？」
		PRINTFORML 「ちょ、ちょっと待ちなさい。今どこ触ろうとしたの……」
		PRINTFORMDL 急に身体接触を図られて%CALLNAME:TARGET%は驚いたようだった
		PRINTFORML 「うーん……急にベタベタされるのはびっくりしちゃうわね」
		PRINTW
		PRINTFORML 「とは言え、私も%K17_CNAME()%の身体に興味あるのよね……」
		PRINTFORMDL おっと……？
		PRINTFORML 「多分%K17_CNAME()%が思っている意味とは違うと思うわよ」
		PRINTW
		PRINTFORML 「人形作りに役立てるためよ」
		PRINTFORML 「どうしても私一人、自分だけのデータでは不足しててね……」
		PRINTFORML 「そうね、じゃあこうしましょう、ある程度は許します」
		PRINTFORML 「でも%K17_CNAME()%が触ったら、私も　"お返し"　させてもらうわよ？」
		PRINTW
		PRINTFORMDL もしも、あーんな場所や、こーんなところを触ったら……？
		PRINTFORML 「最後に触れられて、その手もさぞかし満足でしょうね？」
		PRINTFORML 「胴体からバイバイすることになるんだから」
		PRINTFORMDL ひぃっ
		PRINTW
		PRINTFORML 「ふふっ、冗談よ？　でも女性を扱うってことを忘れるんじゃないわよ」
		PRINTFORMDL 目は笑ってなかった
	ENDIF

	
	
	;通常、お浴室判定して選択
	TRYCALL M_KOJO_MESSAGE_COM_K17_302_1_選択肢
	
	;成功時
	SIF TFLAG:193 == 1
		PRINTFORMDL %CALLNAME:TARGET%は何だか嬉しそうだった……
		
	PRINTW
ENDIF
RETURN 1

;====================================================================================================
;302-1-選択肢	身体接触選択肢
;影狼口上の真似に見えますがパクリです、ごめんなさい
;あっれー思ったよりでっかくなっちゃった、イチャコラしすぎだろ
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_302_1_選択肢
#DIM iRT = 0		;関係性　GRT_EXで取る
#DIM BathFlag = 0	;お浴室フラグ
#DIM iHoldHands = 0	;手を握る選択肢フラグ ほーるどはんど？知るか日本語で書け
#DIM iExFlag,5		;拡張選択肢フラグ
#DIMS cDoll			;人形の表示テキスト
#DIMS cEx,5			;拡張選択肢文字列
#DIM iRand=0		;ランダム値の入れ物

;各種初期化
iRT=K17_GRT_EX()
VARSET BathFlag
VARSET iHoldHands
VARSET iExFlag
VARSET cDoll
VARSET cEx
VARSET iRand

;お浴室チェック
SIF BATHCHECK(CFLAG:MASTER:現在位置) && IN_HOME(CFLAG:MASTER:現在位置)
	BathFlag = 1
;成功or宴会時　普段より大胆に
SIF TFLAG:193 == 1 || CFLAG:TARGET:職種 == 49
	iRT++


PRINTL
PRINTFORMDL さて、どうしよう……
PRINTL

;お浴室時
IF BathFlag
	TRYCALL M_KOJO_MESSAGE_COM_K17_302_1_選択肢_お浴室(iRT)
	RETURN 1
ENDIF


;----選択肢場所とかの判定　長くなりそうなので変数に入れる
;甲斐性無しだと全部だめ
IF !FLAG:甲斐性無
	;耳、首は特になし
	iExFlag:0=1
	iExFlag:1=1
	;太もも　デート中歩きながら手を握る(コマンド出てるはずなので)、太もも触るのはやめよう
	IF !(CHK_DATENOW(CFLAG:TARGET:デート中) && CFLAG:MASTER:現在位置 != OMANEKIBEYA() && (CFLAG:TARGET:現在位置 % 100) % 10)
		iExFlag:2 = 1
		iHoldHands = 1
	ENDIF
	
	;内もも　部屋で二人きり
	SIF INROOM(CFLAG:現在位置) && GET_TARGETNUM()==1
		iExFlag:3 = 1
ENDIF

;人形は特になし　テキストの変更はあり
iExFlag:4 = 1

;----選択肢表示判定　関係性判定
SIF iRT >= K17C_思慕
	cEx:0 = 耳に息を吹きかける
	
SIF iRT >= K17C_思慕キス
	cEx:1 = 首筋に接吻
	
SIF iRT >= K17C_思慕うふふ
	cEx:2 = 太ももすりすり
	
SIF iRT >= K17C_恋慕
	cEx:3 = 後ろから内ももに触れる

;人形表現処理　上海優先で
cDoll = %K17_GET_DOLL_CNAME(0)%
cEX:4 = 裏をかいて%cDoll%に身体接触


;通常身体接触処理
;関係性で条件を満たしていればテキスト表示
;場所的に無理なら選択できない表示
IF !BathFlag && TCVAR:K17C_ID:K17C_TC_身体接触 == 0
{
	CALL K17_ASK_M(
		"手を握る",iHoldHands,
		"身体をつんつん",1,
		"髪を撫でる",1,
		"肩を揉む",1,
		cEx:0,iExFlag:0,
		cEX:1,iExFlag:1,
		cEX:2,iExFlag:2,
		cEX:3,iExFlag:3,
		cEX:4,iExFlag:4,
		"ランダム",1,
		"今日一日ランダム",1)
}
ENDIF

;ランダム時
IF !BathFlag && (RESULT == 9 || RESULT == 10 || TCVAR:K17C_ID:K17C_TC_身体接触)
	SIF RESULT == 10
		TCVAR:K17C_ID:K17C_TC_身体接触 = 1
	;選択雑ぅ（恐れ
	WHILE 1
		RESULT=RAND:9
		SELECTCASE RESULT
			CASE 0
				SIF iHoldHands
					BREAK
			CASE 1 TO 3
				BREAK
			CASE 4 
				SIF iRT >= K17C_思慕 && iExFlag:0
					BREAK
			CASE 5
				SIF iRT >= K17C_思慕キス && iExFlag:1
					BREAK
			CASE 6
				SIF iRT >= K17C_思慕うふふ && iExFlag:2
					BREAK
			CASE 7
				SIF iRT >= K17C_思慕うふふ && iExFlag:3
					BREAK
			CASE 8
				SIF iExFlag:4
					BREAK
		ENDSELECT
	WEND

ENDIF
SIF TCVAR:K17C_ID:K17C_TC_身体接触 != 1
	PRINTL

;---------------------------
;各身体接触の描写　初回とRT判定　いちゃこらやりすぎた……長い
;---------------------------
SELECTCASE RESULT
	;---------------------------
	;手を握る　手をつなぐと一緒
	;---------------------------
	CASE 0
		PRINTFORMDL %CALLNAME:PLAYER%は%CALLNAME:TARGET%の手を取った
		SIF TFLAG:193 == 1
			PRINTFORMDL %CALLNAME:TARGET%は頬を染め嬉しそうに手を握り返した
		PRINTW
		CALL M_KOJO_MESSAGE_COM_K17_603_1
		CALLF FIRSTTIME(@"身体接触{RESULT}")
		RETURN 1
		
	;---------------------------
	;身体をつんつん
	;---------------------------
	CASE 1
		PRINTFORMDL %CALLNAME:TARGET%の身体をつんつんしてみた
		PRINTW
		;初回
		IF FIRSTTIME(@"身体接触{RESULT}")
			PRINTFORML 「ひゃん%K17_BLUSH()%　くすぐったいわ」
			PRINTFORML 「他人に触られるのって、なんだかちょっと新鮮ね」
			PRINTFORML 「こっちからもお返しよ……えいえい……あら、案外面白いわね」
			PRINTFORMDL お互い脇腹をつんつんしあった
			RETURN 1
		ENDIF
		
		;二回目以降
		SELECTCASE iRT
			CASE IS >= K17C_恋慕
				PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ")%%K17_BLUSH()%」
				PRINTFORML 「お返しよ、%K17_RS("えいっえいっ/つんつんっ/ちょんちょん")%」
				PRINTFORMDL しばらくつつき合っていると、つい勢い余って%CALLNAME:TARGET%の%K17_RS("おっぱい/胸/乳首")%をつついてしまった
				PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ/あんっ")%%K17_HEART()%　……%K17_RS("えっち/変態/すけべ")%%K17_BLUSH()%」
				PRINTFORMDL 仕返しに%K17_RS("胸/乳首")%をつつかれてしまった
			CASE IS >= K17C_知り合い
				PRINTFORML 「ん～%K17_RS("くすぐったいったら/あはははっ")%」
				PRINTFORMDL しばらくお互いをつつきあっていた
		ENDSELECT
		
	;---------------------------
	;髪を撫でる
	;---------------------------
	CASE 2
		PRINTFORMDL %CALLNAME:TARGET%の髪を撫でてみた
		PRINTW
		;初回
		IF FIRSTTIME(@"身体接触{RESULT}")
			PRINTFORML 「んっ……その、髪の毛はちょっと……」
			PRINTFORMDL 手ぐしで触れるには申し訳ないくらい綺麗な金髪だった
			PRINTFORML 「人里で兒童によく引っ張られるのよ、珍しいのかしらね……」
			PRINTFORML 「それに、私の髪の毛ってちょっと癖っ毛でしょ……」
			PRINTFORMDL 下からすくい上げるとふわっとした弾力なのに、毛は細くキラキラ輝いて見える
			PRINTFORMDL なるほど、これはいつまでも触っていたくなってしまう
			PRINTFORML 「んもぅ……%K17_BLUSH(2)%」
			RETURN 1
		ENDIF
		
		iRand = K17_LOWER_LIMIT_RAND(iRT,K17C_思慕うふふ,K17C_恋慕告白)
		;二回目以降
		SELECTCASE iRand
			CASE IS >= K17C_恋慕告白
				PRINTFORMDL なんだかいい匂いがして、ついでにくんくんしてみる
				PRINTFORML 「わっ、ちょっとっ%K17_BLUSH()%　なに匂い嗅いでるの%K17_BLUSH(1)%」
				PRINTFORML 「いい匂いって……ちょっと%K17_RS("変よ/恥ずかしいわよ")%っ、それ%K17_BLUSH()%」
			CASE IS >= K17C_思慕うふふ
				PRINTDATAL
					DATAFORM 「ん、%K17_RS("撫で過ぎよぅ/くすぐったいわ")%……%K17_BLUSH()%」
					DATAFORM 「んー……これ好きよねぇ……%K17_BLUSH()%」
					DATAFORM 「%K17_CNAME()%のお人形じゃないのよ？　……%K17_BLUSH()%」
				ENDDATA
				PRINTFORML 「ちょっと、聞いてるの？　もう……」
				PRINTFORMDL %CALLNAME:TARGET%の髪の毛の感触に取り憑かれそうだ……
				PRINTFORML 「お返しに髪梳いてあげるわ」
				
			CASE IS >= K17C_知り合い
				PRINTFORML 「ん……なんか人里の兒童と一緒ね%K17_CNAME()%」
				PRINTFORML 「%K17_CNAME()%の髪もぐしゃぐしゃにしちゃうんだからっ」
		ENDSELECT
	
	;---------------------------
	;肩を揉む
	;---------------------------
	CASE 3
		;初回
		IF FIRSTTIME(@"身体接触{RESULT}")
			PRINTFORMDL %CALLNAME:TARGET%の肩を揉んでみた
			PRINTW
			PRINTFORML 「ふっ……あはははっ、ごっ、ごめんなさい、くすぐったいわ」
			PRINTFORMDL が、筋肉は全く凝ってなかった
			PRINTFORML 「これでも魔法使いだからね、身体は若いままだし、人形の操作で結構使ってるのよ」
			PRINTFORMDL なんだかずるい……
			RETURN 1
		ENDIF
		
		PRINTFORMDL %CALLNAME:TARGET%の肩を優しく撫で回した
		PRINTW
		;二回目以降
		SELECTCASE iRT
			CASE IS >= K17C_思慕うふふ
				PRINTDATAL
					DATAFORM 「ん、ありがとう」
					DATAFORM 「このくらいが気持ちいいわね……」
				ENDDATA
				PRINTFORML 「お返しに%K17_RS("気持ちいい/やさしく")%マッサージしてあげるわね」
			CASE IS >= K17C_知り合い
				PRINTFORML 「ん……%K17_RS("くすぐったいったら/あはははっ")%……」
				PRINTFORML 「お返しに%K17_RS("痛い/きつい")%マッサージしてあげるわっ」
		ENDSELECT
		
	;---------------------------
	;耳に息を吹きかける　思慕↑
	;---------------------------
	CASE 4
		PRINTFORMDL %CALLNAME:TARGET%の耳に息を吹きかけた
		PRINTW
		;初回
		IF FIRSTTIME(@"身体接触{RESULT}")
			PRINTFORML 「ひゃわぁっ！……%K17_BLUSH()%　なんてことするの……」
			PRINTFORMDL 思いの外驚いたようだった
			PRINTFORML 「ふふ～ん、どんなお返ししてあげようかしらね……」
			PRINTFORMDL 耳を軽く引っ張られた
			RETURN 1
		ENDIF
		
		;二回目以降
		IF iRT >= K17C_恋慕 && K17_RT_FG() & K17C_RTF_キス
			PRINTFORMDL ついでに軽く唇で噛んでみた
			PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ")%%K17_HEART()%」
			PRINTFORML 「もうっ、お返しよ……%K17_RS("はむっ/ぱくっ/あむっ")%」
			IF K17_RT_FG() & K17C_RTF_告白
				PRINTFORML 「……好きっ」
				PRINTFORMDL と、%CALLNAME:TARGET%は%CALLNAME:MASTER%の耳元で囁いた
			ENDIF
		ELSEIF iRT >= K17C_思慕
			PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ")%%K17_BLUSH()%」
			PRINTFORML 「むぅ、変な声出ちゃうから、やめてってば……」
		ENDIF
	
	;---------------------------
	;首筋にキス　思慕キス↑
	;---------------------------
	CASE 5
		PRINTFORMDL %CALLNAME:TARGET%の首筋にキスしてみた
		PRINTW
		;初回
		IF FIRSTTIME(@"身体接触{RESULT}")
			PRINTFORML 「ひゃんっ%K17_BLUSH()%　……」
			PRINTFORMDL %CALLNAME:TARGET%はくすぐったそうに身を捩る
			IF CFLAG:既成事実 & 合意_キス
				PRINTFORML 「ええっと……んっ%K17_BLUSH()%　……なに？　マーキングしてるの？　ふふっ」
			ELSE
				PRINTFORML 「なに！？なになに、なんなの……？ そこ意味わかってるの？」
			ENDIF
			PRINTW
			PRINTFORML 「あんっ%K17_BLUSH()%　こら跡付けちゃだめっ……」
			;PRINTFORMDL 困るようなことでもあるのだろうか
			PRINTFORML 「他人に勝手な想像されたら……恥ずかしいじゃないの%K17_BLUSH()%」
			PRINTFORMDL 反撃にぽかぽかと叩かれてしまった
			RETURN 1
		ENDIF
		
		;ここは実値で見るかな　ノリで選択できても反応は実際の関係性
		SELECTCASE K17_GRT()
			CASE IS >= K17C_恋慕告白
				PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ")%%K17_HEART()%」
				PRINTFORML 「んも～、跡付けたでしょ。そんなに%K17_RS("マーキングしな/独占欲出さな/所有物宣言しな")%くたって平気よ？」
				PRINTFORMDL 首筋に吸い付く%CALLNAME:MASTER%の頭を%CALLNAME:TARGET%は優しく撫でてくれた
			CASE IS >= K17C_思慕キス
				PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ")%%K17_BLUSH()%」
				PRINTFORML 「ねえ、そこよりもっとちゃんと、%K17_CALL_P(K17C_部位M_キス)%するとこ、あるんじゃない？」
				PRINTFORMDL そう言われながらもしばらく、%CALLNAME:MASTER%は%CALLNAME:TARGET%の首筋にキスの雨をふらせていた
			CASEELSE
				;キス前
				PRINTFORML 「……%K17_RS("んくっ/くっ/むぅっ")%%K17_BLUSH()%」
				PRINTFORML 「さぁて、どんな仕返しされると思う？
				PRINTFORMDL 首筋を抓りあげられた、痛いっ
		ENDSELECT
		
		;仕返しキスマーク
		IF TALENT:恋慕
			CALL K17_CHOICE(@"「もうっ、仕返しに%K17_CNAME()%にもキスマーク付けるわよ？」","いいよ","やめて")
			IF !RESULT
				;いいよ
				PRINTFORML 「ん～～ちゅっ～～%K17_HEART(2)%　ちゅ%K17_HEART()%　平気？　痛くなかった？　ぺろぺろ……」
				;キスマークコピペ
				PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:PLAYER%に擁抱と、首筋を強く吸いたててキスマークをつけた…
				PRINTFORMDL 消えるまでは他の女の子の前には出ない方が良さそうだ…
				TFLAG:キスマーク = TARGET
				
				IF CFLAG:TARGET:弱み握り > 0
					;弱みがある場合処理
					CFLAG:TARGET:弱み握り--
					IF CFLAG:TARGET:弱み握り > 0
						PRINTFORMDL  これで%CALLNAME:TARGET%は、前に握られた弱みを少しだけ許してくれたようだ
					ELSE
						PRINTFORMDL これで%CALLNAME:TARGET%は、前に握られた弱みを全て許してくれたようだ
					ENDIF
				ELSE
					;弱みなしでもキスマークつけるとか……縛りプレイいや縛られプレイ
					PRINTFORMDL なんだか%CALLNAME:TARGET%%K17_RS("の所有物/だけの物")%になった気がした
				ENDIF
			ELSE
				;やめて
				PRINTFORML 「なによ……もうっ、そんなに嫌がらなくても……いいじゃない……」
			ENDIF
		ENDIF
	;---------------------------
	;ふとももすりすり　思慕うふふ↑
	;---------------------------
	CASE 6
		PRINTFORMDL %CALLNAME:TARGET%の太ももをすりすりしてみた
		PRINTW
		;初回
		IF FIRSTTIME(@"身体接触{RESULT}")
			PRINTFORML 「あっ……んっ%K17_BLUSH()%　……」
			PRINTFORML 「恥ずかしぃ%K17_BLUSH()%　……あの……なんか……」
			PRINTFORMDL どうしたのだろう、いつもより顔が赤い
			PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%に顔を寄せると耳打ちしてくる
			PRINTW
			PRINTFORML 「……痴漢されてる……みたいよ%K17_BLUSH()%」
			PRINTFORMDL すりすりすりすり……
			PRINTFORMDL 興奮してすりすりし過ぎると、太ももをぎゅうと抓られた
			RETURN 1
		ENDIF
		
		;二回目以降　GET_TARGETNUM
		;服装制限(掀起裙子抜粋)&屋内二人きり
		IF iRT >= K17C_恋慕 && iExFlag:3 && (EQUIP:裙子 || EQUIP:連衣裙 || EQUIP:和服)
			PRINTFORMDL せっかく二人きりなので%K17_GET_CLOTHNAME_BOTTOM(TARGET)%に手を突っ込んで生脚に触れる
			PRINTFORML 「えっ……ちょっと？」
			PRINTFORML 「……%K17_RS("ひゃん/にゃん/やんっ")%%K17_BLUSH()%　……ちょっとっ」
			PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ")%%K17_BLUSH()%……%K17_RS("ひゃん/にゃん/やんっ")%%K17_HEART()%　……生は%K17_RS("ダメだったら/だぁめ/だめよぅ")%」
			PRINTFORMDL すりすりすりすり……
			PRINTFORMDL 興奮してすりすりし過ぎると、太ももをぎゅうと抓られた
			RETURN 1
		ELSEIF iRT >= K17C_恋慕
			PRINTFORML 「%K17_RS("あっ/んっ/やんっ")%%K17_HEART()%　もう、%K17_RS("えっち/変態っ/ばかっ")%%K17_HEART()%」
			PRINTFORML 「ほんと%K17_RS("太もも/脚/すりすり")%、好きよね……%K17_RS("あっ/んっ/やんっ")%%K17_HEART()%」
			PRINTFORMDL %CALLNAME:TARGET%は嫌だったのだろうか
			PRINTFORML 「……知らないっ、%K17_RS("あんっ/にゃんっ/やんっ")%%K17_HEART()%」
		ELSEIF iRT >= K17C_思慕キス
			PRINTFORML 「%K17_RS("きゃっ/やんっ/あぅん")%%K17_BLUSH()%　もう……また太もも？」
			PRINTFORML 「そんなに%K17_RS("太もも/脚/すりすり")%、好きなの……？」
		ENDIF
		PRINTFORMDL 仕返しとばかりに太ももを抓られた
	
	;---------------------------
	;内ももに触れる　恋慕↑二人きり
	;---------------------------
	CASE 7
		PRINTFORMDL %CALLNAME:TARGET%の後ろから抱き竦めるようにして内ももに手を入れてみた
		PRINTW
		;初回
		IF FIRSTTIME(@"身体接触{RESULT}")
			PRINTFORML 「ちょ、あぁんっ%K17_HEART()%　……これ、えっち過ぎない？」
			PRINTFORMDL ∨ラインをゆっくりなぞってみると、%CALLNAME:TARGET%がフルフルと震えているのがわかる
			PRINTFORML 「ふにゅ～～～っ……はぁはぁ%K17_HEART()%」
			PRINTFORMDL 際どいところを行ったり来たりすると、%CALLNAME:TARGET%が自ら指に秘裂を押し当ててきたように感じた
			PRINTW
			PRINTFORML 「あぁん%K17_HEART()%、だぁめ%K17_HEART()%　触ってるよぉ%K17_HEART()%　やんっ%K17_HEART()%」
			PRINTFORML 「反撃してやるっ、んだからぁ……」
			PRINTFORMDL %CALLNAME:TARGET%は仕返しにお尻を振って、%CALLNAME:MASTER%の股間を刺激してきた
			RETURN 1
		ENDIF
		
		;二回目以降
		IF TALENT:恋人 || iRT>=K17C_恋人
			iRand = RAND(K17C_恋慕告白,K17C_恋人+1)
		ELSE
			iRand = RAND(iRT,iRT+1)
		ENDIF
		SELECTCASE iRand
			CASE IS >= K17C_恋人
				PRINTFORML 「あぁんっ%K17_HEART()%　またっ、これぇん%K17_HEART()%　……もうっ%K17_BLUSH()%」
				PRINTFORML 「これ絶対こっち不利よぉぉん%K17_HEART()%」
				PRINTFORML 「はぁはぁ%K17_HEART()%　……はぅん%K17_HEART()%　%K17_喘ぎ声(K17C_受け_合意襲い系,-1,3,1)%」
				;趣旨変わってね
				PRINTFORMDL しばらく夢中でお互いの股間とお尻を擦り合っていた……
				PRINTW
				PRINTFORML 「ねぇ、これっもう……普通に……ね？　ね？%K17_HEART()%」
				PRINTFORMDL その間も%CALLNAME:TARGET%の内ももに手を入れてすりすりし続けた
				PRINTW
				
			CASE IS >= K17C_恋慕告白
				PRINTFORML 「あぁんっ%K17_HEART()%　ちょっとっ、待って聞い、てぇん%K17_HEART()%　……もうっ%K17_BLUSH()%」
				PRINTFORMDL すりすりと∨ラインを触っていると%CALLNAME:TARGET%が腕を取って、こちらに振り返ってくる
				PRINTW
				PRINTFORML 「あのね、この体勢%K17_RS("好き、なのかも/なんだか、落ち着くの/でぎゅってしてほしい")%……」
				PRINTFORMDL 言われた街道密着すると%CALLNAME:MASTER%の股間が%CALLNAME:TARGET%のお尻によって刺激される
				PRINTFORML 「きゃぁっ%K17_HEART()%　苦しいってば～%K17_BLUSH()%　%K17_RS("反撃/お返し/こっちからも")%してやるっ、んだからぁ……」
				PRINTFORMDL その間も%CALLNAME:TARGET%の内ももに手を入れてすりすりし続けた
				PRINTW
				
			CASE IS >= K17C_恋慕
				PRINTFORML 「やんっ%K17_HEART()%　もう、普通に……すればいぃん%K17_HEART()%　のに……もうっ%K17_BLUSH()%」
				PRINTFORMDL すりすりと触り、%CALLNAME:TARGET%の反応を楽しみながらパンツのラインを確認した
		ENDSELECT
		
		;パンツ当て
		IF !CFLAG:TARGET:ノーパン && !(EQUIP:TARGET:緊身内衣 ||  EQUIP:TARGET:連体内衣)
			PRINTFORMDL この手触り……今日のパンツは『%PANTSNAME(EQUIP:TARGET:下半身内袴２)%』かな……？
			PRINTFORML 「んもうっ、なに探ってるのよ……」
		ELSEIF CFLAG:TARGET:ノーパン
			PRINTFORMDL この手触りは……履いてない、だと……
			PRINTFORML 「んもうっ、なに探ってるのよ……」
			PRINTFORML （今履いてないのバレちゃうぅ……）
		ENDIF
		
		;勃起チェック　当ててんのよ？
		IF BASE:MASTER:勃起 >= 1000 && TALENT:MASTER:性別 >= 2
			PRINTFORML （当たってる、当たってるの……%K17_CALL_G(MASTER,0,1)%、お尻に%K17_RS("ぐりぐり/こりこり/ごつごつ")%って……%K17_BLUSH()%）
		ELSEIF TALENT:MASTER:性別 == 1
			PRINTFORML （当たってる、当たってるの……背中に柔らかい%K17_CALL_P(K17C_部位B,1,MASTER)%……%K17_BLUSH()%）
		ENDIF
	;---------------------------
	;裏をかいて人形
	;---------------------------
	CASE 8
		
		PRINTFORMDL 何をされるのかと身構える%CALLNAME:TARGET%の裏をかいて、%cDoll%に身体接触した
		PRINTW
		;初回
		IF FIRSTTIME(@"身体接触{RESULT}")
			PRINTFORML 「さ、何されるのかしら………………うん？」
			PRINTFORMDL 髪を撫でると、よく整えられた長め髪の毛が薩拉薩拉と指の間から抜けていった
			PRINTFORM 「……ちょっと……？」
			;シャンハーイ　ホウラーイ
			TRYCALL K17_人形台詞(K17C_上海,0)
			TRYCALL K17_人形台詞(K17C_蓬莱,1)
			PRINTFORMDL 頭の大きさも撫でるにはちょうどいい
			PRINTFORML 「こらぁー、無視しないの……」
			PRINTFORMDL %cDoll%ばかりに構っていて%CALLNAME:TARGET%がヤキモチを焼いているようだった
			PRINTW
			PRINTFORM 「違うわよ、ばかっ」
			TRYCALL K17_人形台詞(K17C_上海,0,"バカジャネーノ")
			TRYCALL K17_人形台詞(K17C_蓬莱,1,"バカジャネーノ")
			PRINTFORMDL ちょっといじけた%CALLNAME:TARGET%を%CALLNAME:MASTER%は、%cDoll%より可愛がった
			CFLAG:K17C_ID:K17C_CF_上海好感度 = MIN(CFLAG:K17C_ID:K17C_CF_上海好感度 + 10,10000)
			RETURN 1
		ENDIF
		
		;二回目以降
		
		;SIF CFLAG:K17C_ID:K17C_CF_上海好感度 > 10
		;iRand=RAND(0,LIMIT(CFLAG:K17C_ID:K17C_CF_上海好感度,1,10000)) + CFLAG:K17C_ID:K17C_CF_上海好感度>10 ? 10#0
		iRand = K17_LOWER_LIMIT_RAND(CFLAG:K17C_ID:K17C_CF_上海好感度,10,1000)
		
		SELECTCASE iRand
			CASE IS >= 10000
				PRINTFORM 「もしかして私って%cDoll%のオマケなのかしら……」
			CASE IS >= 500
				PRINTFORM 「最近%cDoll%に構いすぎじゃない？　流石にちょっと……%K17_RS("ひくわね/別に？　いじけてないわよ/むぅ……")%」
			CASE IS >= 100
				PRINTFORM 「良かったわねぇ、あんたたち……」
			CASE IS >= 30
				PRINTFORM 「今度なにか人形を作ってあげましょうか？」
			CASE IS >= 10
				PRINTFORM 「なんだかそこまで%cDoll%を気に入ってくれると、私も嬉しいわ」
			CASEELSE
				PRINTFORM 「……%K17_RS("壊す/乱暴に扱う/汚す")%んじゃないわよ……」
				TRYCALL K17_人形台詞(-1,1,"バカジャネーノ")
				PRINTFORMDL %cDoll%を撫でる%CALLNAME:MASTER%を横目に%CALLNAME:TARGET%は少し呆れていた
				CFLAG:K17C_ID:K17C_CF_上海好感度 = MIN(CFLAG:K17C_ID:K17C_CF_上海好感度 + 1,10000)
				RETURN 1
		ENDSELECT
		;ランダム　使える方で台詞出し
		TRYCALL K17_人形台詞(-1,1,K17_RS("カマエー/イイゾー/バカジャネーノ/ナンダヨー/ヤサシク　アツカエ"))
		PRINTFORMDL %cDoll%を可愛がった後、%CALLNAME:MASTER%は%cDoll%%K17_RS("の倍くらい/より更に多く/より更に沢山")%%CALLNAME:TARGET%を可愛がってあげた
		CFLAG:K17C_ID:K17C_CF_上海好感度 = MIN(CFLAG:K17C_ID:K17C_CF_上海好感度 + 5,10000)
ENDSELECT
RETURN 1

;*********************************************************
;お浴室身体接触　別にした
;
;お浴室に一緒に入れるのはRTの恋慕↑
;一応汚れ取りあるけど、くつろいだほうが早い
;洗う系は便利すぎたので3時間間隔でいいかな（お浴室が6時間
;洗えてなくても身体接触はできるってことで
;経験数も試しに足してみた
;1時間周期でB経験+1とかで3時間ごとに綺麗になるってだけのかんじ
;
;	引数1	：GRT_EXの値
;*********************************************************
@M_KOJO_MESSAGE_COM_K17_302_1_選択肢_お浴室(ARG)
#DIM iExFlag,2		;拡張選択肢フラグ
#DIMS cEx,2			;拡張選択肢文字列
#DIM iRand			;ランダム値の入れ物
VARSET iExFlag
VARSET cEx
VARSET iRand

IF ARG >= K17C_恋慕生解禁
	cEx:0 = 前も洗ってもらう
	cEx:1 = 前も洗ってあげる
ENDIF
SIF !FIRSTTIME(@"浴室身体接触1",1)
	iExFlag:0 = 1
SIF !FIRSTTIME(@"浴室身体接触クリア2",1)
	iExFlag:1 = 1

IF TCVAR:K17C_ID:K17C_TC_身体接触 == 0
{
CALL K17_ASK_M(
	"パチャパチャする",1,
	"背中を流してもらう",1,
	"背中を流してあげる",!FLAG:甲斐性無,
	"髪を洗ってもらう",1,
	cEx:0,iExFlag:0,
	cEx:1,iExFlag:1 && !FLAG:甲斐性無,
	"ランダム",1,
	"今日一日ランダム",1
)
}
ENDIF
;ランダム時
IF RESULT == 6 || RESULT == 7 || TCVAR:K17C_ID:K17C_TC_身体接触
	SIF RESULT == 6
		TCVAR:K17C_ID:K17C_TC_身体接触 = 1
	;選択雑ぅ（恐れ
	WHILE 1
		RESULT=RAND:5
		SELECTCASE RESULT
			CASE 0,1,3
				BREAK
			CASE 2
				SIF !FLAG:甲斐性無
					BREAK
			CASE 4
				SIF ARG >= K17C_恋慕生解禁 && iExFlag:0
					BREAK
			CASE 5
				SIF ARG >= K17C_恋慕生解禁 && iExFlag:1 && !FLAG:甲斐性無,
					BREAK
		ENDSELECT
	WEND
ENDIF

SELECTCASE RESULT
	
	;---------------------------
	;パチャパチャする
	;---------------------------
	CASE 0
		PRINTFORMDL %CALLNAME:TARGET%と湯をかけ合って遊んだ
		PRINTW
		;同性として入ってる場合
		IF !GETBIT(TALENT:MASTER:2,1) && HETEROSEX(MASTER,TARGET) && !TALENT:TARGET:恋慕
			PRINTFORML 「きゃっ、やったわね～それっ」
			RETURN 1
		ENDIF
		
		;初回
		IF FIRSTTIME(@"浴室身体接触0")
			PRINTFORML 「きゃっん、もうっ兒童みたいなことやめなさいったら……」
			PRINTFORMDL あまり相手にされないので、%CALLNAME:MASTER%はムキになって%CALLNAME:TARGET%に湯をかける
			PRINTFORML 「はいはい、お浴室で暴れないの……っと、ざばーっ」
			PRINTFORML 「あははっ、油断したわねぇ～まぬけ」
			PRINTFORMDL 桶を使ってかけるのは反則だ
			PRINTFORML 「ふふん、戦いはブレっやんっ%K17_BLUSH()%　ちょっと話してるときはやめなさいよっ」
			PRINTFORMDL しばらく二人してお互いに湯を掛け合って遊んでいた
			PRINTW
			PRINTFORML 「ねえ、こうやってふざけあってるの……なんだか、いいわね」
			PRINTFORMDL 普段しっかりしている%CALLNAME:TARGET%にとって、こうしてはしゃぐのは珍しいことなんだろうか
			PRINTFORML 「ん～まぁそれだけでもないんだけど……ね、ふふっ」
			RETURN 1
		ENDIF
		
		;二回目以降
		PRINTDATADL
			DATAFORM 「やんっもう、やったわね～それっ」
			DATAFORM 「こらぁ、またやったわね、えいえいっ」
			DATAFORM 「あははっ、今回はやり返してやったわ」
			DATAFORM 「へぶっ……鼻に入ったわよっ」
		ENDDATA
		PRINTFORMDL %CALLNAME:TARGET%は片腕で胸を隠しながらも%CALLNAME:MASTER%にどんどん反撃してくる
		PRINTFORMDL 相変わらずお浴室場でのガードが固く、じっくり見ることはできなかった
		PRINTFORML 「あら～油断してるわねっ、えいっ！　まったく%K17_RS("何を見つめてるのよ/どこに見とれてるのかしら/えっちなこと考えてるからよ")%」
		PRINTFORMDL しばらくそうして遊んでいると……
		
		PRINTDATADL
			DATAFORM つい勢い余って%CALLNAME:TARGET%の%K17_RS("おっぱい/お尻/胸")%にタッチしてしまった
			DATAFORM はしゃいで油断した%CALLNAME:TARGET%の腕から%K17_RS("胸/おっぱい/乳首")%が零れ出てしまった
			DATAFORM %CALLNAME:MASTER%は体制を崩し、%CALLNAME:TARGET%%K17_RS("を押し倒して/の胸に顔を突っ込んで/の足の間に倒れて")%しまった
			DATAFORM %CALLNAME:MASTER%は勢いの余り、%CALLNAME:TARGET%に%K17_RS("抱きついて/覆いかぶさって")%しまった
		ENDDATA
		;反応
		IF CFLAG:既成事実 & 合意_うふふ
			;うふふ合意あり
			PRINTFORML 「%K17_RS("きゃん/ひゃん/にゃん")%%K17_HEART()%　……もう%K17_RS("えっち/すけべ/変態")%」
		ELSE
			;なし
			PRINTFORML 「%K17_RS("きゃ/ひっ/えっ")%……%K17_BLUSH(2)%」
		ENDIF
		PRINTFORMDL %CALLNAME:TARGET%は真っ赤になって固まってしまった
	;---------------------------
	;背中を流して貰う
	;---------------------------
	CASE 1
		PRINTFORMDL %CALLNAME:TARGET%に背中を流してもらうことにした
		PRINTW
		;同性として入ってる場合
		IF !GETBIT(TALENT:MASTER:2,1) && HETEROSEX(MASTER,TARGET) && !TALENT:TARGET:恋慕
			PRINTFORML 「はーい、んしょっと……んしょ……痛くない？」
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %CALLNAME:MASTER%は隅々まで綺麗にしてもらった
			RETURN 1
		ENDIF
		
		;経験UP
		EXP:K17C_ID:奉仕快楽経験++
		
		;初回
		IF FIRSTTIME(@"浴室身体接触1")
			PRINTFORML 「ふぅ……知ってるわよ、こっちの人って洗いっこするのよね」
			PRINTFORML 「じゃあ背中向けて、座りなさい」
			PRINTFORMDL 言われた街道にしてしばらく等待……がなかなか始まらない
			PRINTFORMDL どうしたのかと振り返ってみると、膝立ちのまま泡まみれの%CALLNAME:TARGET%がいた
			PRINTFORML 「はい、じゃあやるわよ……って私も初めてなんだけど……」
			PRINTW
			PRINTFORML 「……んっ%K17_HEART()%　……んしょっ%K17_HEART()%……どう……？　かしら%K17_HEART()%」
			PRINTFORMDL どうもこうもない、泡まみれの%CALLNAME:TARGET%が%CALLNAME:MASTER%の背中に擦り付いてきている
			PRINTFORMDL %OPPAI_DESCRIPTION(TARGET,1)%の柔らかな感触が背中から伝わってきた
			PRINTFORML 「にゃん%K17_HEART()%　……これすごくっ……んっ……えっちね……%K17_HEART()%　どう？　上手にできてる？」
			PRINTW
			PRINTFORMDL 最高だった……こんなの誰に教わったんだろう？
			PRINTFORML 「えっ、本で読んだんだけど……ぅんっ%K17_HEART()%」
			PRINTFORMDL ありがとう、その本となにか勘違いしてる%CALLNAME:TARGET%
			;好きかも……
			PRINTW
			PRINTFORML （あらやっぱり、信じちゃってるのかしら……）
			PRINTFORML （教わったのはこうやって間違った知識装って、大胆な行動に出る方法のことなんだけどね……ふふっ）
			;きゃー小悪魔ー
			PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の献身的な背中流しを楽しんだ……
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %CALLNAME:MASTER%は隅々まで綺麗にしてもらった
			RETURN 1
		ENDIF
		
		;二回目以降
		;奉仕精神による分岐　ランダム選択
		iRand = K17_LOWER_LIMIT_RAND(ABL:TARGET:奉仕精神,0,10)
		;10超えた初回時にクリア
		SIF ABL:TARGET:奉仕精神 >= 10 && FIRSTTIME(@"浴室身体接触クリア1",1)
			iRand = 10
		SELECTCASE iRand
			CASE IS >= 10
				PRINTFORML 「はぁはぁ%K17_HEART()%　……%K17_RS("んっ/んしょっ/ぅんっ")%%K17_HEART()%　……%K17_RS("んっ/んしょっ/ぅんっ")%%K17_HEART()%　はぁはぁ%K17_HEART()%」
				PRINTFORMDL なんだか%CALLNAME:TARGET%の息が荒い。身体の動きも鈍く感じる
				PRINTFORMDL もしかしていつも気付かず、重労働を課してしまっていたのだろうか……
				PRINTFORML 「ふぇっ……%K17_BLUSH()%　ちがっ、これは……」
				PRINTFORML （……もっとご奉仕してあげたい、なんて言ってもいいの……かなぁ）
				PRINTW
				PRINTFORML 「あ、あのね……その……前も……する？　しよ？　ね？%K17_HEART()%」
				PRINTFORMDL もちろん嫌ではないけれど、返答する前にもう前面から抱きつかれてしまった
				PRINTFORML 「%K17_SEXY_CONVERT("最初からこうすればよかったのよ",5,K17_HEART())%」
				PRINTFORMDL %CALLNAME:TARGET%は泡だらけの全身を使って%CALLNAME:MASTER%に奉仕した
				CALLF FIRSTTIME(@"浴室身体接触クリア1")
			CASEELSE
				PRINTFORML 「……%K17_RS("んっ/んしょっ/ぅんっ")%%K17_HEART()%　%K17_RS("んっ/んしょっ/ぅんっ")%%K17_HEART()%　%K17_RS("んっ/んしょっ/ぅんっ")%%K17_HEART()%」
				PRINTFORML 「どぉ？　気持ちいい？」
				PRINTFORMDL 相変わらず%CALLNAME:TARGET%のおっぱい背中流しは最高だった
				PRINTFORML 「%K17_SEXY_CONVERT("もうすっかり、このお背中流しが、定着しちゃったわね",8,K17_HEART())%」
				PRINTFORMDL %OPPAI_DESCRIPTION(TARGET,1)%の柔らかな感触を背中で楽しんだ
		ENDSELECT
		SIF K17_BODY_WASH(MASTER)
			PRINTFORMDL %CALLNAME:MASTER%は隅々まで綺麗にしてもらった
	;---------------------------
	;背中を流してあげる
	;---------------------------
	CASE 2
		PRINTFORMDL %CALLNAME:TARGET%の背中を流してあげることにした
		PRINTW
		;同性として入ってる場合
		IF !GETBIT(TALENT:MASTER:2,1) && HETEROSEX(MASTER,TARGET) && !TALENT:TARGET:恋慕
			PRINTFORML 「あははっ……ちょっとくすぐったいわ」
			SIF K17_BODY_WASH(TARGET)
				PRINTFORMDL %CALLNAME:TARGET%を隅々まで綺麗にしてあげた
			RETURN 1
		ENDIF
		
		;経験UP 
		EXP:K17C_ID:露出快楽経験++
		
		;初回
		IF FIRSTTIME(@"浴室身体接触2")
			PRINTFORML 「えっ、やだ」
			PRINTFORMDL いきなり断られてしまった
			PRINTFORML 「だってイタズラされそうだもの……」
			PRINTFORMDL そんなことはありませんよ、お姫様
			PRINTFORML 「まあそこまで言うならいいけど……やさしくよ？」
			PRINTW
			PRINTFORMDL %CALLNAME:MASTER%はまるで壊れ物を扱うように優しく、そして丁寧に%CALLNAME:TARGET%の背中を磨いた
			PRINTFORML 「ふふっ……なんだか普通だったわね？　ありがとう、気持ちよかったわよ」
			PRINTFORML 「本当にお姫様になった気分だったわ」
			PRINTW
			PRINTFORMDL 気づいてないだろうが、背中越しにずっと%CALLNAME:TARGET%の%OPPAI_DESCRIPTION(TARGET,1)%を凝視していた
			PRINTFORMDL 普段からお浴室に入るときは、出来るだけ局部を隠している%CALLNAME:TARGET%だったが、
			PRINTFORMDL 背中を流している間は油断していたのか、腕の間からチラチラと%NIPPLE_DESCRIPTION(TARGET,1)%が見えていた
			PRINTFORML （食い入るようにおっぱい見つめちゃって……現金ね……ふふっ可愛い）
			;きゃー小悪魔ー
			SIF K17_BODY_WASH(TARGET)
				PRINTFORMDL %CALLNAME:TARGET%を隅々まで綺麗にしてあげた
			RETURN 1
		ENDIF
		
		;二回目以降
		SELECTCASE ARG
			CASE IS >= K17C_恋慕
				PRINTDATAL
					DATAFORM 「ん～～……丁寧な%K17_RS("手つき/仕事/指使い")%ね～♪」
					DATAFORM 「あら～……なぁに、私の身体に触れられて%K17_RS("楽し/嬉し/面白")%かったの？」
					DATAFORM 「意外……%K17_RS("えっち/すけべ/変態的")%なこと……しないのね」
					DATAFORM 「ふふっ……そんなに%K17_RS("優しく/丁寧に/慎重に")%しなくても平気よ～」
				ENDDATA
		ENDSELECT
		
		;露出癖による分岐　1以上下限切りランダム選択
		iRand = K17_LOWER_LIMIT_RAND(ABL:露出癖,1,5)
		;3超えた初回時にクリア
		SIF ABL:TARGET:露出癖 >= 3 && FIRSTTIME(@"浴室身体接触クリア2",1)
			iRand = 3
			
		SELECTCASE iRand
			CASE IS >= 5
				PRINTFORML 「あぁ～～%K17_HEART()%　そこぉ、気持ちいいわ……%K17_HEART()%」
				PRINTFORML （%K17_CALL_P(K17C_部位B)%見ても……いいんだけど……あんまり大っぴらにするのは、はしたないわよね……）
				PRINTFORML （むしろ見て、興奮してくれると……嬉しいんだけど……えっと……どうしたら……）
				PRINTW
				PRINTFORML 「ね、ねえ……ちょっと……その」
				PRINTFORMDL 見ると%CALLNAME:TARGET%は、いつもなら恥ずかしそうに胸を隠していた腕を、ゆっくりと解いてしまった
				PRINTFORMDL 背を向けたまま腕を上げると、そのまま%CALLNAME:MASTER%の首にかけて引き寄せてくる
				PRINTFORML 「こっちも……お願い……ね？　ついっ、ついでよ、ついでに……ね%K17_HEART()%」
				PRINTFORMDL そうしてもう一方の方で%CALLNAME:MASTER%の腕を取り、胸へと導いた……
				PRINTW
				PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の%OPPAI_DESCRIPTION(TARGET,1)%を手のひらで楽しみながら、言われた街道前側も綺麗に洗ってあげた
				PRINTFORML 「あっんっ……しっかり洗って…ね……%K17_喘ぎ声(K17C_受け_おねだり系,-1,4,1)%」
				PRINTFORMDL 敏感に反応を繰り返す%CALLNAME:TARGET%の身体を、%CALLNAME:MASTER%はしばらく無言のまま磨き上げた
			CASE IS >= 3
				PRINTFORML 「あんっ%K17_HEART()%　ちょっとくすぐったいわ%K17_HEART()%」
				PRINTFORML （平静を装ってるみたいだけど、%K17_CALL_P(K17C_部位B)%見てるのバレバレなんだからね……）
				PRINTW
				PRINTFORML （ほぅら……チラッ……%K17_RS("チラチラッ/サービスっ/見えちゃうよ？")%……）
				PRINTFORML （すっごい%K17_RS("見てるぅ/鼻息荒くなってる/興奮してる")%……ふふっ）
				PRINTFORML （なんだか楽しくなってきちゃったわね）
				PRINTFORMDL %CALLNAME:TARGET%がくすぐったそうに身体をよじる度に、ぷるぷると跳ねる%OPPAI_DESCRIPTION(TARGET)%を眺める幸せな仕事だった
				CALLF FIRSTTIME(@"浴室身体接触クリア2")
			CASE IS >= 1
				PRINTFORML （うぅ……また%K17_CALL_P(K17C_部位B)%見てる……）
				PRINTFORML （でもちょっとだけなら、見せてもいいよね……）
				PRINTW
				PRINTFORML （あっ……今見えた？　%K17_CALL_P(K17C_部位B_乳首)%見せちゃった……よね？）
				PRINTFORMDL %CALLNAME:TARGET%の背中越しから%OPPAI_DESCRIPTION(TARGET,1)%を眺め、
				PRINTFORMDL 時折チラチラと、%NIPPLE_DESCRIPTION(TARGET,1)%を覗ける嬉しい仕事だった
			CASEELSE
				PRINTFORML （むぅ……すごい、%K17_CALL_P(K17C_部位B)%見てるわね……）
				PRINTFORMDL %CALLNAME:TARGET%の背中越しから%OPPAI_DESCRIPTION(TARGET,1)%を眺める楽しい仕事だった
		ENDSELECT
		PRINTFORML 「ありがとう、すごく%K17_RS("気持ちよかった/上手だった/巧かった")%わよ%K17_HEART()%」
		SIF K17_BODY_WASH(TARGET)
			PRINTFORMDL %CALLNAME:TARGET%を隅々まで綺麗にしてあげた
		
	;---------------------------
	;頭を洗ってもらう
	;---------------------------
	CASE 3
		PRINTFORMDL %CALLNAME:TARGET%に頭を洗ってもらうことにした
		PRINTW
		;同性として入ってる場合
		IF !GETBIT(TALENT:MASTER:2,1) && HETEROSEX(MASTER,TARGET) && !TALENT:TARGET:恋慕
			PRINTFORML 「はーい、流すわよー」
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %CALLNAME:MASTER%は隅々まで綺麗にしてもらった
			RETURN 1
		ENDIF
		
		;経験UP 
		EXP:K17C_ID:愛情経験++
		
		;初回
		IF FIRSTTIME(@"浴室身体接触3")
			PRINTFORML 「いいわよ、それくらい。でも洗われるのはちょっとやめてほしいわね……」
			;思いつかんかったから
			PRINTFORML 「言ったかもしれないけど、私の髪の毛ってちょっと癖っ毛だから、自分でやらないとなんかしっくりこないのよね」
			PRINTFORMDL 誰かに洗ってもらったことがあるんだろうか……
			PRINTFORML 「%K17_CNAME(K17C_神綺ID)%ね」
			PRINTFORMDL ああ……なぜだかすごく納得してしまった
			PRINTW
			PRINTFORML 「痒いところありませんか～？　って聞くのが定番かしら」
			PRINTFORMDL せっかく%CALLNAME:TARGET%が正面にいるのに目を瞑っていてはつまらない……
			PRINTFORML 「あんっ%K17_HEART()%　こら、動かないのぉ～やんっ%K17_HEART()%　ワザとでしょーもうっ%K17_HEART()%」
			PRINTFORMDL おでこの辺りに柔らかい感触を感じて、%CALLNAME:MASTER%は頭でぐりぐりと探っていた
			PRINTFORMDL %CALLNAME:TARGET%はそんな頭を捕まえると、ぐいと胸に押し当てる
			PRINTFORML 「そのまま大人しくしてなさい、もう……ってあら、ホントに大人しくなった」
			PRINTFORML 「ほんと、%K17_CNAME()%って、おっぱい好きよね……まったく」
			PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の%OPPAI_DESCRIPTION(TARGET,1)%に顔を挟まれたまま、大人しく髪を洗ってもらった
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %CALLNAME:MASTER%は隅々まで綺麗にしてもらった
			RETURN 1
		ENDIF
		
		;二回目以降
		iRand = RAND(0,LIMIT(ABL:奉仕精神,0,5)+1)
		SELECTCASE iRand
			CASE 5
				PRINTFORML 「はい、いらっしゃい♪　あんっ%K17_HEART()%　こんな時だけ坦率ね～」
				PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の胸の谷間に顔を埋める
				PRINTFORMDL 顔の両方向から柔らかな感触に包まれて、%CALLNAME:MASTER%は安らいだ
				PRINTFORML 「いい子でちゅねーって……やなの？　ふふっ、可愛い%K17_HEART()%」
				PRINTFORML 「%K17_喘ぎ声(K17C_受け_合意襲い系,-1,3)%こらぁ、いたずらっ子はだめでちゅよー」
				PRINTFORML 「あははっ、ばかね、私たち」
			CASEELSE
				PRINTFORML 「%K17_CALL_P(K17C_部位B)%に挟まれたいだけじゃないの？　図星でしょーもうっ、えっちね%K17_HEART()%」
				PRINTFORMDL 落ち着くんだから仕方がない
				PRINTFORML 「甘えちゃってもう……%K17_喘ぎ声(K17C_受け_おねだり系,-1,1)%%K17_喘ぎ声(K17C_受け_合意襲い系,-1,2)%はーい、%K17_RS("大人しく/いい子に")%しましょうねー♪」
				PRINTFORML 「そう……いい子ねぇ……そのままぁ……平気？　痒くない？」
		ENDSELECT
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の%OPPAI_DESCRIPTION(TARGET,1)%に顔を挟まれたまま、髪を洗ってもらった
		SIF K17_BODY_WASH(MASTER)
			PRINTFORMDL %CALLNAME:MASTER%は隅々まで綺麗にしてもらった
		
	;---------------------------
	;前も洗ってもらう
	;---------------------------
	CASE 4
		PRINTFORMDL %CALLNAME:TARGET%に前も洗ってもらうことにした
		PRINTW
		;経験UP
		EXP:K17C_ID:奉仕快楽経験++
		
		;初回
		IF FIRSTTIME(@"浴室身体接触4")
			PRINTFORML 「こっちの人たちは恋人同士でみんな、これやってるんでしょ？」
			PRINTFORMDL まだ何か勘違いをしていた……
			PRINTFORML 「……よしっ、頑張るわよ」
			PRINTFORMDL なんだか%CALLNAME:TARGET%が両手拳をぐっと作って気合を入れる
			PRINTFORMDL 両腕を胸の前で閉めるから、谷間を強調してるようにも見えた
			PRINTFORML 「もう目がえっちよ……？　普通よっ、普通にするからねっ」
			PRINTFORMDL そう言うと%CALLNAME:TARGET%は普通に自分の身体を泡まみれにして、普通に体を擦り付けて%CALLNAME:MASTER%の身体を洗い始めた
			PRINTW
			PRINTFORML 「どうっ、かな……上手っ…く出来てるっ？　あんっ%K17_HEART()%」
			PRINTFORML 「あのね……私っ……%K17_CNAME()%の……身体洗ってあげるのぉ%K17_HEART()%　上手になったかも……」
			;PRINTFORML 「こういう文化が普通のこっちの人にだって、負けないわよ？」
			PRINTFORMDL ありがとう、本の人……
			;好きかも……
			PRINTFORML （本気で……これ好きになっちゃったかも）
			PRINTFORMDL %CALLNAME:TARGET%は献身的に%CALLNAME:MASTER%の全身を洗った
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %CALLNAME:MASTER%は隅々まで綺麗にしてもらった
			RETURN 1
		ENDIF
		
		;二回目以降
		;勃起　竿チェック
		IF BASE:MASTER:勃起 >= 1000 && TALENT:MASTER:性別 >= 2
			PRINTFORML 「んもっ、%K17_CALL_G(MASTER,0)%硬く%K17_RS("勃起/おっき/大きく")%させちゃって……」
			PRINTFORML 「こうすればいいのかしら……」
			PRINTFORMDL そう言って%CALLNAME:MASTER%の%TINKO(MASTER)%を谷間に挟むと、下から上へ擦り上げるので思わず腰を動かしてしまう
			PRINTFORML 「%K17_SEXY_CONVERT("だぁめ、洗ってるだけよ",5,K17_HEART())%」
			PRINTFORML 「こらぁ%K17_HEART()%　%K17_喘ぎ声(K17C_受け_合意襲い系,-1,2)%もうっ、大人しくしなさい」
		ELSE
			SELECTCASE ARG
				CASE K17C_恋人
					PRINTFORML 「こうやって……もう膝の上に座っちゃうわね……んしょっと」
					PRINTFORMDL %CALLNAME:TARGET%が擦るたびにおっぱいが弛むのを見ながら、%CALLNAME:MASTER%は全身を委ねた
					PRINTFORML 「ねえ、これ……もう、しちゃってる……みたいっ……」
					PRINTFORMDL そう言われて%CALLNAME:MASTER%は興奮して腰の動きを始める
					PRINTFORML 「%K17_SEXY_CONVERT("またっ、汚れちゃうってばぁ",5,K17_HEART())%」
					PRINTFORML 「%K17_SEXY_CONVERT("だぁめ、これ洗ってるんだから",5,K17_HEART())%」
				CASEELSE
					PRINTFORML 「どうっ……？　かゆいところない？　ふふっ、大人しくなっちゃって可愛い%K17_HEART()%」
					PRINTFORMDL 身体中がぬるぬるで、幸せすぎて動くこともできなかった
			ENDSELECT
		ENDIF
		PRINTFORMDL %CALLNAME:TARGET%は献身的に%CALLNAME:MASTER%の全身を洗った
		SIF K17_BODY_WASH(MASTER)
			PRINTFORMDL %CALLNAME:MASTER%は隅々まで綺麗にしてもらった
		
	;---------------------------
	;前も洗ってあげる
	;---------------------------
	CASE 5
		PRINTFORMDL %CALLNAME:TARGET%の前も洗ってあげることにした
		PRINTW
		;経験UP
		EXP:K17C_ID:Ｂ経験++
		
		;初回
		IF FIRSTTIME(@"浴室身体接触5")
			PRINTFORML 「……うん……やさしく……ね」
			PRINTFORMDL 背中を流すのと同様、%CALLNAME:MASTER%は%CALLNAME:TARGET%をまるで、お姫様を扱うかのように優しく扱った
			PRINTFORML （……前、見えてるってば……なんでこんな堂々としてるのよ、もう）
			PRINTFORML 「……ふっ、普通ね、あ、いえ、丁寧に洗ってもらってるけど……」
			PRINTFORMDL %CALLNAME:MASTER%はしばらく丁寧に優しく%CALLNAME:TARGET%の身体を磨いた
			PRINTW
			PRINTFORML （……肝心なところ……避けてる……の？　なんだか……焦らされてるみたい）
			PRINTFORML 「ね、ねえ、ここ……汚れちゃってる……から、ね？」
			PRINTFORMDL そう言って%CALLNAME:TARGET%は%CALLNAME:MASTER%の手を引いて自分の胸へと導いた
			PRINTFORML 「%K17_喘ぎ声(K17C_受け_合意襲い系,ABL:TARGET:Ｂ感覚,2)%ね、ねえ、ここっまだぁ汚れてるよ？　%K17_喘ぎ声(K17C_受け_おねだり系,ABL:TARGET:Ｂ感覚,3,1)%」
			PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の身体を丹念に洗ってあげた
			SIF K17_BODY_WASH(MASTER)
				PRINTFORMDL %CALLNAME:TARGET%を隅々まで綺麗にしてあげた
			RETURN 1
		ENDIF
		
		;二回目以降
		SELECTCASE ABL:TARGET:Ｂ感覚
			CASE IS >= 5
				PRINTFORML 「はぅん%K17_HEART()%　ね、ねぇ……これ%K17_RS("綺麗にしてる/洗ってる")%っ……のよね？　%K17_喘ぎ声(K17C_受け_合意襲い系,ABL:Ｂ感覚,2,1)%」
				PRINTFORMDL %CALLNAME:TARGET%が敏感すぎるのがいけない、ただ素手で胸を洗い上げているだけだ
				PRINTFORML 「ぜったい……うそよっ%K17_HEART()%　%K17_RS("揉んでっる/ふにっふにしてる/もみっもみしてる")%もん%K17_HEART()%」
			CASEELSE
				PRINTFORML 「んっ……へいき……%K17_喘ぎ声(K17C_受け_合意襲い系,ABL:Ｂ感覚,1)%そのままぁ……%K17_喘ぎ声(K17C_受け_合意襲い系,ABL:Ｂ感覚,2,1)%」
		ENDSELECT
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の身体を丹念に洗ってあげた
		SIF K17_BODY_WASH(TARGET)
			PRINTFORMDL %CALLNAME:TARGET%を隅々まで綺麗にしてあげた
ENDSELECT
RETURN 1

;****************************************
;身体洗うだけのやっつけ コピペ　回復なし
;ついでに3時間開けると成功 あとで清書する
;****************************************
@K17_BODY_WASH(ARG)
#FUNCTION
#DIM iID
#DIM 前回洗い時間 =0,0;MASTER 0 相手1
VARSET iID
SIF ARG == K17C_ID
	iID = 1
SIF DAY * 1440 + TIME - 前回洗い時間:iID < 180
	RETURNF 0
RESET_STAIN ARG
STAIN:ARG:4 = 0
PALAM:ARG:4 /= 2
CFLAG:ARG:膣内射精 = 0
CFLAG:ARG:アナル射精 = 0
CFLAG:ARG:口に精液 = 0
CFLAG:ARG:顔に精液 = 0
CFLAG:ARG:手に精液 = 0
前回洗い時間:iID = DAY * 1440 + TIME
RETURNF 1


;====================================================================================================
;303,道歉
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_303
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_303_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_303_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL

;	IF TFLAG:193 == -2 || TFLAG:193 == 2
;		;PRINTFORML %CALLNAME:PLAYER%は%CALLNAME:TARGET%に非礼を詫びて点心盒を渡した
;	ELSE
;		;PRINTFORML %CALLNAME:PLAYER%は%CALLNAME:TARGET%に非礼を詫びた
;	ENDIF
	IF TFLAG:193 == 1
		;PRINTFORML %CALLNAME:TARGET%は笑って許してくれた…
		PRINTFORML 「わかったわよ、許してあげる……」
		PRINTFORM 「まったく、そんなしょぼくれた顔しないの……もうっ」
		TRYCALL K17_人形台詞(-1,1,K17_RS("ヨカッタナ/ユルス/ユルサレタ"))
	ELSEIF TFLAG:193 == 2
		;PRINTFORML %CALLNAME:TARGET%は過去のことは水に流してくれた…
		;PRINTFORMW %CALLNAME:TARGET%は反発刻印LV1を失った
		PRINTFORML 「言った街道態度を改めたってわけね」
		PRINTFORML 「またすぐ調子乗らないのよ」
	ELSEIF TFLAG:193 == 0
		;PRINTFORML %CALLNAME:TARGET%は仕方なく%CALLNAME:PLAYER%を許した…
		PRINTFORM 「まったく、%K17_CNAME()%もしょうがないわね……」
		TRYCALL K17_人形台詞(-1,1,K17_RS("シカタナイナー/モウ　オコラセ露娜ヨ"))
	;ELSEIF TFLAG:193 == -2
		;PRINTFORML %CALLNAME:TARGET%は点心盒を受け取ってはくれなかった…
		;PRINTFORML %CALLNAME:TARGET%はまだ許してはくれないようだ…
	ELSE
		;まだ許さない
		IF TALENT:胆量 < 0
			;PRINTFORML しかし%CALLNAME:TARGET%はまだ泣いている…
			PRINTFORM 「……ほっといて……ぐすっ……ひぐっ……」
			TRYCALL K17_人形台詞(-1,1,"愛麗絲…")
		ELSE
			;PRINTFORML しかし%CALLNAME:TARGET%はまだ怒っている…
			PRINTFORM 「……ふんっ」
			TRYCALL K17_人形台詞(-1,1,K17_RS("バカジャネーノ/モット ガンバレ/プンプン"))
			SIF K17_GRT(TARGET) >= K17C_思慕
				PRINTFORML （なんだか、タイミングを逃しちゃってるわね……）
		ENDIF
	ENDIF
	
	;許した＆思慕以上
	SIF K17_GRT(TARGET) >= K17C_思慕 && TFLAG:193 >= 0
		PRINTFORML （これも惚れた弱みかしらね……）
	
	PRINTW
ENDIF
RETURN 1
;====================================================================================================
;304,幇忙干活
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_304
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_304_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_304_1
#DIM DYNAMIC iRT
iRT = K17_GRT_EX(TARGET)
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;304,幇忙干活
;憤怒　心情悪い
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CFLAG:ブチギレ || TALENT:心情 == -1
	PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("はぁ/ふう/うーん"))%」
	PRINTFORMDL %CALLNAME:TARGET%は心情が悪いようで、%CALLNAME:MASTER%は黙々と作業を続けた
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;304,幇忙干活
;通常
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	SELECTCASE iRT
		CASE IS >= K17C_恋慕
			PRINTFORML 「ああ、いいわよ。%K17_RS("座って/待って")%て、これは私の仕事だから……」
			PRINTFORML 「%K17_RS("手伝いたいの/一緒にやりたの")%？　ふふっ、ありがとう、%K17_CNAME(MASTER,1)%」
			;職種見る
			IF CFLAG:職種 == 44
				;家事
				PRINTFORML 「なんか……いいわね、こうやって二人で廚房に立つって……%K17_HEART()%」
			ENDIF
		CASEELSE
			PRINTFORML 「あら、手伝ってくれるの？　ありがとう」
	ENDSELECT
	PRINTFORMDL %CALLNAME:TARGET%はなんだかご心情だった
	
	;仕事残量を見て、終わった瞬間をとる
	IF BASE:工作量 <= 0
		PRINTW
		PRINTFORML 「ふう、%K17_RS("終わったわ/片付いたわ")%ね」
		SELECTCASE CFLAG:職種
			;家事
			CASE K17C_職種_家事
				
				IF iRT >= K17C_思慕逢引
					PRINTFORML 「お疲れ様、%K17_CNAME()%……ほらっ、こっち%K17_RS("きなさい/いらっしゃい")%」
					TRYCALL K17_甘やかし
				ENDIF
				
			;人形劇の片付け
			CASE K17C_職種_人形劇
				PRINTFORML 「はい、これはお礼よ」
				PRINTFORMDL 糖ちゃんを貰った……兒童たちにと同じ扱いだった
		ENDSELECT
	ENDIF
ENDIF
RETURN 1
;====================================================================================================
;305,索求膝枕
;コマンド判定 親密3,5,8,11,以上で得られるソース値変わる
;スキップしてコピペ細分化
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_305
;CALL TRAIN_MESSAGE
TRYCALL K17_SKIP_TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_305_1
PRINTW
CALL K17_DATE_HITOGOMI_MESSAGE
RETURN 1

@M_KOJO_MESSAGE_COM_K17_305_1
#DIM iRT=0
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	
	;憤怒つく
	IF K17_CHECK_ANGER_COM(TARGET)
		PRINTFORMDL %CALLNAME:PLAYER%は%CALLNAME:TARGET%に膝枕してくれないか、と訊いてみた
		PRINTW
		PRINTFORML 「いやよ……」
		RETURN 1
	ENDIF
	
	;マ斯塔の体型が大きすぎ
	IF TFLAG:193 == -5
		PRINTFORMDL %CALLNAME:PLAYER%は%CALLNAME:TARGET%に膝枕してもらった
		PRINTW
		PRINTFORML 「ふぎゃ……ちょ、これは無理よ……」
		PRINTFORMDL %CALLNAME:MASTER%の頭を載せられた%CALLNAME:TARGET%は蛙が踏みつぶされたような声を上げた
		PRINTFORMDL %CALLNAME:MASTER%は慌てて頭をどけた
		RETURN 1
	ENDIF
	
	;思慕初回
	IF FIRSTTIME(@"{SELECTCOM}口上",1) && K17_GRT() >= K17C_思慕
		PRINTFORMDL %CALLNAME:PLAYER%は%CALLNAME:TARGET%に膝枕してくれないかと、訊いてみた
		PRINTW
		PRINTFORML 「膝枕？　いいわよ、してあげる……さっ、いらっしゃい」
		PRINTFORML 「なによ、照れてるの？　……可愛いわね、ふふっ」
		PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の頭を優しく撫でてくれた
		PRINTFORMDL なんだか今日はいつもより優しいような気がする
		PRINTW
		PRINTFORML 「昔ね、%K17_CNAME(K17C_神綺ID)%によくこうして貰っていたのよ……だからなんとなく%K17_CNAME()%の気持ちがわかるの」
		PRINTFORML 「私もこういうことするようになったのねぇ、ってちょっと感慨深いものがあっただけ……」
		PRINTFORMDL そう言って遠くを見つめる%CALLNAME:TARGET%の顔は、とても穏やかで母性に溢れていた
		CALLF FIRSTTIME(@"{SELECTCOM}口上")
		RETURN 1
	ENDIF
	
	;-----------------
	;通常処理開始
	;-----------------
	iRT = K17_GRT_EX()
	;成否判定を上乗せ
	iRT += TFLAG:193
	PRINTFORMDL %CALLNAME:PLAYER%は%CALLNAME:TARGET%に膝枕してもらった
	PRINTW
	;-----------------
	;台詞回し
	;-----------------
	SIF FIRSTTIME(@"{SELECTCOM}口上",1) && iRT >= K17C_思慕キス
		iRT = K17_MAX_LIMIT_RAND(iRT,K17C_思慕キス,K17C_恋慕告白)
	SELECTCASE iRT
		CASE IS >= K17C_恋慕告白
			PRINTFORML 「どう？　気持ちいい？　%K17_CNAME()%……ホント甘えん坊%K17_RS("さんね/さんでちゅねー、あはは/ね")%%K17_HEART()%」
		CASE IS >= K17C_恋慕
			PRINTFORML 「なぁに？　甘えちゃって……ふふっ、可愛い、あははっ」
		CASE IS >= K17C_思慕キス
			PRINTFORML 「いいわよ、さぁいらっしゃい」
		CASE IS >= K17C_お友達
			PRINTFORML 「……ちょっとー、%K17_RS("重い/暑苦しい")%ったら、あはは」
		CASE IS >= K17C_知り合い
			PRINTFORML 「…………重いわ」
	ENDSELECT
	
	;-----------------
	;拡張
	;-----------------
	IF iRT >= K17C_思慕キス && (TFLAG:畑仕事成功度 || EX:MASTER:今日の掃除回数)
		;仕事or掃除した
		PRINTFORML 「今日も\@TFLAG:畑仕事成功度?お仕事#お掃除\@頑張ったのね……疲れちゃったのかしら？」
		PRINTDATAL
			DATAFORM 「毎日頑張って……ふふっ、%K17_RS("いい子、いい子/えらい、えらい")%」
			DATAFORM 「このくらいなら、いつでも%K17_RS("安らいでね/甘えてくれていいのよ？/癒やしてあげるわよ")%」
			DATAFORM 「たまにはこうして、%K17_RS("甘えて/ここで休んで/愚痴っても")%いいのよ」
		ENDDATA
		PRINTW
		PRINTFORMDL 兒童のように甘やかされてしまった……
	ENDIF
	
	;-----------------
	;送り描写コピペ
	;-----------------
	SELECTCASE K17_GRT()
		CASE IS  >= K17C_恋慕
			PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の顔を覗き込みながら頭を優しく撫でてくれた
		CASE IS >= K17C_思慕
			PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の頭を優しく撫でてくれた
		CASE IS >= K17C_お友達
			PRINTFORMDL %CALLNAME:TARGET%は暴れる%CALLNAME:TARGET%の頭をぺしぺしと叩いていた
		CASE IS >= K17C_知り合い
			PRINTFORMDL %CALLNAME:TARGET%は身を縮めてじっとしていた
	ENDSELECT
	
	;-----------------
	;キス要求
	;-----------------
	IF K17_GRT() >= K17C_思慕キス && BASE:TARGET:情緒 >= 500
		PRINTFORML 「ね？　次何してほしいか、わかる？　ふふっ」
		PRINTFORMDL そう言って%CALLNAME:TARGET%はいたずらっぽく笑い、%CALLNAME:MASTER%の唇を突いている
	ENDIF
	
ENDIF
RETURN 1
;====================================================================================================
;306,撫摸肚子
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_306
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_睡眠
IF !FLAG:時間停止 || !RESULT
	CALL M_KOJO_MESSAGE_COM_K17_306_1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_306_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;306,撫摸肚子
;妊娠中
LOCAL = 0
;-------------------------------------------------
IF LOCAL && TFLAG:193 == 1
	
ENDIF
RETURN 1
;====================================================================================================
;307,捏臉蛋
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_307
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_睡眠
SIF !RESULT
	CALL M_KOJO_MESSAGE_COM_K17_307_1

RETURN 1

@M_KOJO_MESSAGE_COM_K17_307_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:時間停止

	;憤怒つく
	IF K17_CHECK_ANGER_COM(TARGET)
		PRINTFORML 「ちょっと……やだっ」
		PRINTW
		RETURN 1
	ENDIF
	;初回
	IF FIRSTTIME(@"{SELECTCOM}口上")
		PRINTFORML 「にゃん%K17_BLUSH()%　なにするのよもう」
		PRINTFORML 「%K17_CNAME()%の頬も引っ張ってあげる」
		PRINTFORML 「あら、意外と伸びるわね」
		PRINTW
		RETURN 1
	ENDIF
	
	;通常処理
	IF TALENT:恋慕
		;PRINTFORML %CALLNAME:TARGET%は照れくさそうな表情を浮かべながらやり返してきた…
		PRINTFORML 「お返しよ、%K17_RS("えいっえいっ/つんつんっ/ちょんちょん")%%K17_HEART2()%」
	ELSEIF ABL:親密 > 5
		;PRINTFORML %CALLNAME:TARGET%もおずおずと%CALLNAME:PLAYER%の頬に手を伸ばした…
		PRINTFORML 「%K17_RS("なに/やん/あん")%……もうっ%K17_BLUSH()%」
	ELSEIF ABL:従順 >= 5
		;PRINTFORML %CALLNAME:TARGET%は照れくさそうな表情を浮かべながらも%CALLNAME:PLAYER%にされるがままになっている…
		PRINTFORML 「%K17_RS("ふにゅ/ふにゃ/むにゃ")%ー……」
	ELSE
		;PRINTFORML %CALLNAME:TARGET%は頬を膨らますと%CALLNAME:PLAYER%の手を払った…
		PRINTFORML 「%K17_RS("やだ/いたい/いやだ")%ってば……」
	ENDIF
PRINTW
ENDIF
RETURN 1
;====================================================================================================
;308,捅臉頰
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_308
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_308_1
RETURN 1

@M_KOJO_MESSAGE_COM_K17_308_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
;添い寝時＆睡眠中
;-------------------------------------------------
IF LOCAL
	IF CFLAG:TARGET:睡眠
	;PRINTFORML %CALLNAME:PLAYER%は眠っている%CALLNAME:TARGET%の頬を指でつついた
		IF TFLAG:193 == 1
			;PRINTFORML %CALLNAME:TARGET%は嬉しそうに微笑んでいる…
		
		ELSEIF TFLAG:193 == -1
			;PRINTFORML %CALLNAME:TARGET%は嫌そうに顔を背けた…
			PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("やんっ/っ/んっ/うぅん"))%」
			RETURN 1
		ENDIF
		PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("ふにゃ/えへへっ/ふにぃ/にゃん"))%」
		RETURN 1
	ELSE
		;PRINTFORML %CALLNAME:PLAYER%は陪睡%CALLNAME:TARGET%の頬を指でつついた
		IF TFLAG:193 == 1
			;PRINTFORML %CALLNAME:TARGET%はにやにやしながら仕返ししてきた…
			;憤怒つく
			IF K17_CHECK_ANGER_COM(TARGET)
				PRINTFORML 「ちょっと……やだっ」
				PRINTW
				RETURN 1
			ENDIF
			;初回
			IF FIRSTTIME(@"{SELECTCOM}口上")
				PRINTFORML 「ひゃん%K17_BLUSH()%　くすぐったいわ」
				PRINTFORML 「他人に頬を触られるのって、なんだかちょっと新鮮ね」
				PRINTFORML 「こっちからもお返しよ……えいえいっ……あら、案外面白いわね」
				PRINTFORMDL お互いほっぺをつんつんしあった
				RETURN 1
			ELSE
				PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ")%%K17_BLUSH()%」
				PRINTFORML 「お返しよ、%K17_RS("えいっえいっ/つんつんっ/ちょんちょん")%」
				PRINTFORMDL しばらくつつき合っていると、つい勢い余って%CALLNAME:TARGET%の口の中に指を差し込んでしまった
				PRINTFORML 「%K17_RS("ひゃん/にゃん/やんっ")%%K17_HEART()%　%K17_RS("はむっ/ぱくっ/あむっ")%、あむあむっ、ん～ちゅっ%K17_HEART()%」
			ENDIF
		ELSEIF TFLAG:193 == -1
			;PRINTFORML %CALLNAME:TARGET%は頬を膨らますと%CALLNAME:PLAYER%の手を払った…
			PRINTFORML 「ん……%K17_RS("くすぐったいったら/あはははっ")%」
		ENDIF
	ENDIF
PRINTW
ENDIF
RETURN 1
;====================================================================================================
;309,摸頭
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_309
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_309_1
RETURN 1

@M_KOJO_MESSAGE_COM_K17_309_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;時間停止時以外
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:時間停止
	
	IF (K17_CHECK_ANGER_COM(TARGET) || CFLAG:TARGET:ブチギレ == 1 || TALENT:心情 == -1 )&& !CFLAG:TARGET:睡眠
		PRINTFORML 「ちょっと……やだっ」
		PRINTW
		RETURN 1
	ENDIF
	
	;初回　意識あり
	IF FIRSTTIME(@"{SELECTCOM}口上",1) && !CFLAG:TARGET:睡眠
		PRINTFORML 「言ったかもしれないけど、私癖っ毛だから触られるのちょっと嫌なのよね……」
		PRINTFORML 「……もう……聞きなさいよ%K17_BLUSH()%」
		PRINTFORMDL 撫で続けると次第に大人しくなる%CALLNAME:TARGET%が珍しくて、%CALLNAME:MASTER%はしばらく続けていた
		CALLF FIRSTTIME(@"{SELECTCOM}口上")
		PRINTW
		RETURN 1
	ENDIF
	IF CHK_DATENOW(CFLAG:TARGET:デート中) && CFLAG:MASTER:現在位置 != OMANEKIBEYA()
		;PRINTFORML %CALLNAME:PLAYER%は\@ DATE_REMAINTIME() ? 隣を歩く # 隣に寄り添う \@%CALLNAME:TARGET%の頭を撫でた
		SELECTCASE TFLAG:193
			CASE 1
				;PRINTFORML %CALLNAME:TARGET%はリラックスしたような表情を浮かべて目を細めた…
				SELECTCASE K17_GRT_EX()
					CASE IS >= K17C_思慕うふふ
						PRINTFORML 「%K17_RS("えへへっ/ふふっ/えへ～")%……ありがとう、%K17_RS("大事にして/可愛がって/構って")%くれて」
					CASE IS >= K17C_知り合い
						PRINTFORML 「%K17_RS("あぅ/へぅ/うぅ")%……」
				ENDSELECT
				
			CASE 0
				IF ABL:親密 > 5
					;PRINTFORML %CALLNAME:TARGET%は照れくさそうな表情を浮かべながらもじっと%CALLNAME:PLAYER%に撫でられている…
					PRINTFORML 「%K17_RS("んっ/あっ/あう")%……%K17_BLUSH()%　な、なぁに？　%K17_CNAME()%」
					
				ELSE
					;PRINTFORML %CALLNAME:TARGET%は顔を赤らめて%CALLNAME:PLAYER%の手を払いのけた…
					PRINTFORML 「%K17_RS("やめなさいよ/やめてよ/やだっ")%、もう……」
				ENDIF
			CASE -1
				;PRINTFORML …少々馴れ馴れしくしすぎたようだ
				PRINTFORML 「%K17_RS("っ/くっ/んっ/……")%……」
		ENDSELECT
	ELSEIF CFLAG:TARGET:睡眠
		;PRINTFORML %CALLNAME:PLAYER%は眠っている%CALLNAME:TARGET%の頭を優しく撫でた
		IF ABL:親密 > 5
			;PRINTFORML %CALLNAME:TARGET%は気持よさそうに笑っている…
			PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("あふっ/ふぇ/はぅん"))%」
		ELSE
			;PRINTFORML %CALLNAME:TARGET%は嫌がる素振りもなく%CALLNAME:PLAYER%に撫でられている…
			PRINTFORML 「%K17_RS("ふにゃぁ/ふにぃ/にゅぅ")%……」
		ENDIF
	ELSE
		;PRINTFORML %CALLNAME:PLAYER%は\@ CFLAG:TARGET:添い寝中 ? 陪睡 # 優しく \@%CALLNAME:TARGET%の頭を撫でた
		SELECTCASE TFLAG:193
			CASE 1
				;PRINTFORML %CALLNAME:TARGET%はリラックスしたような表情を浮かべて目を細めた…
				SELECTCASE K17_GRT_EX()
					CASE IS >= K17C_恋慕告白
						PRINTFORML 「%K17_RS("えへへっ/ふふっ/えへ～")%……ありがとう、%K17_RS("大事にして/可愛がって/構って")%くれて」
					CASE IS >= K17C_思慕うふふ
						PRINTFORML 「%K17_RS("えへへっ/ふふっ/えへ～")%……なんだかこれ%K17_RS("癖に/好きに/気持ちよく")%なっちゃったわ」
					CASE IS >= K17C_知り合い
						PRINTFORML 「%K17_RS("あぅ/へぅ/うぅ")%……」
				ENDSELECT
			CASE 0
				IF ABL:親密 > 5
					;PRINTFORML %CALLNAME:TARGET%は照れくさそうな表情を浮かべながらもじっと%CALLNAME:PLAYER%に撫でられている…
					IF RAND:2
						PRINTFORML 「……%K17_RS("むぅ/なによ/うぅ")%」
					ELSE
						PRINTFORML 「%K17_RS("んっ/あっ/あう")%……%K17_BLUSH()%　な、なぁに？　%K17_CNAME()%」
					ENDIF
				ELSE
					;PRINTFORML %CALLNAME:TARGET%は顔を赤らめて%CALLNAME:PLAYER%の手を払いのけた…
					PRINTFORML 「%K17_RS("やめなさいよ/やめてよ/やだっ")%、もう……」
				ENDIF
			CASE -1
				;PRINTFORML …少々馴れ馴れしくしすぎたようだ
				PRINTFORML 「%K17_RS("っ/くっ/んっ/……")%……」
		ENDSELECT
	ENDIF
PRINTW
ENDIF
RETURN 1
;====================================================================================================
;310,摸屁股
;親密5以下	払いのけ　or胆量-で耐える
;親密9以下	悲鳴
;恋慕		されるがまま
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_310
IF FLAG:時間停止 || CFLAG:TARGET:睡眠 || CFLAG:うふふ==2
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_睡眠愛撫
ELSEIF !FLAG:時間停止 && CFLAG:うふふ != 2
	CALL K17_SKIP_TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_310_1
	PRINTW
	;モブ描写
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF

RETURN 1

@M_KOJO_MESSAGE_COM_K17_310_1
#DIM iRT		;EXでとる
#DIM iDoll		;人形入れ
#DIM iFriends	;友人ID保管
#DIM iMOB		;他人がいるかのフラグ
#DIMS cShade	;物陰orSHIGEMI
#DIMS cHip		;お尻の状態描写
;--------------------
;初期化
;--------------------
VARSET cShade
VARSET cHip
VARSET iMOB

;EXでとる
iRT = K17_GRT_EX()
;DEBUGPRINTFORML 【M_KOJO_MESSAGE_COM_K17_310_1 関係性値({iRT})】
;人形ランダム
iDoll = K17_GET_DOLL(-1)
;他キャラがいるか見る
SIF GET_TARGETNUM() > 1
	iMOB =1
;-------------------------------------------------
;開始地の文
;-------------------------------------------------
IF PREVCOM == 305
	PRINTFORMDL %CALLNAME:PLAYER%は膝に寝転んだまま%CALLNAME:TARGET%の%HIP(TARGET)%に手を伸ばした
ELSE
	PRINTFORMDL %CALLNAME:PLAYER%は背後から%CALLNAME:TARGET%の%HIP(TARGET)%に手を伸ばした
ENDIF

;-------------------------------------------------
;310,摸屁股
;記入チェック（=0, 非表示、1, 表示）
;失敗
;親密5以下
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 == 1 || ( CFLAG:TARGET:ブチギレ == 1 || TALENT:心情 == -1 || (K17_CHECK_ANGER_COM(TARGET)&& !(TFLAG:193 == 4 && iRT >= K17C_思慕) )|| iRT <= K17C_お友達 )
	IF TALENT:TARGET:胆量 == -1
		PRINTFORMDL %CALLNAME:TARGET%はぎゅっと目をつぶり、目の端に涙を浮かべながら%CALLNAME:PLAYER%のセクハラに耐えている…
		PRINTFORMDL %CALLNAME:PLAYER%はちょっと罪悪感を覚えた
		PRINTW
		PRINTFORM 「……やめて……%K17_BLUSH()%」
		TRYCALL K17_人形台詞(iDoll,1,K17_RS("ナイテルゾ/ヤメロ/オトメノ　テキ/愛麗絲…"))
	ELSE
		PRINTFORMDL %CALLNAME:TARGET%は不快感をあらわにした表情で%CALLNAME:PLAYER%の手を払いのけた…
		PRINTW
		PRINTFORM 「%K17_RS("いやっ/やだっ/きゃぁっ")%！！　……%K17C_人形名:iDoll%\@iDoll ? #たち\@！！」
		TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
		PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%にローキックを決め、最後に%K17C_人形名:iDoll%が槍で突き刺した
	ENDIF
	RETURN 1
ENDIF
;-------------------------------------------------
;310,摸屁股
;記入チェック（=0, 非表示、1, 表示）
;親密9までorRT思慕未満
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 <= 3 || iRT < K17C_思慕
	IF OTOKOGIRAI(TARGET)
		PRINTFORMDL %CALLNAME:TARGET%は小さく悲鳴を上げて身を竦めた
		PRINTFORMDL %CALLNAME:PLAYER%はちょっと罪悪感を覚えた
		PRINTW
		PRINTFORM 「%K17_RS("いやっ/やだっ/きゃぁっ")%！！　……やめて……」
		TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
	ELSE
		PRINTFORMDL 顔を赤らめて%CALLNAME:PLAYER%の手を払いのけた……
		PRINTW
		PRINTFORM 「%K17_RS("いやっ/やだっ/きゃぁっ")%……やめてよ、もうっ……」
		TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
	ENDIF
	RETURN 1
ENDIF
;-------------------------------------------------
;310,摸屁股
;記入チェック（=0, 非表示、1, 表示）
;RT思慕以上
;親密10以上or 恋慕点灯
;憤怒点灯
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (TFLAG:193 == 4 && iRT >= K17C_思慕) && K17_CHECK_ANGER_COM(TARGET)
	PRINTFORML 「%K17_RS("あっ/はぅ/うぅ")%……今は%K17_RS("だぁめ/やぁん/やだぁ")%%K17_喘ぎ声( K17C_受け_無理矢理系,-1,2,1)%」
	PRINTFORMDL %CALLNAME:TARGET%はお尻を振って%CALLNAME:MASTER%の手から逃れようとするが、構わず撫で回した
	PRINTFORML 「%K17_喘ぎ声( K17C_受け_無理矢理系,-1,3)%怒っる……からっ……ねっ%K17_喘ぎ声( K17C_受け_無理矢理系,-1,2,1)%」
	PRINTFORMDL %CALLNAME:TARGET%は嫌がりながらも、感じてしまっている
	RETURN 1
ENDIF
;-------------------------------------------------
;310,摸屁股
;記入チェック（=0, 非表示、1, 表示）
;RT思慕以上
;親密10以上or 恋慕点灯
;二人きり
;膝枕コンボ
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (TFLAG:193 == 4 && iRT >= K17C_思慕) && (PREVCOM == 305 && !iMOB)
	PRINTFORML 「%K17_RS("ひゃん/あぁん/にゃん")%%K17_HEART()%　%K17_RS("こらぁ/やだぁ/やぁん")%……暴れないの、もうっ」
	PRINTFORML 「あぁん、こら、どこに顔埋めてるの……ばかっ」
	PRINTFORMDL 腰を捻って逃跑%CALLNAME:TARGET%のお尻を捕まえようと腕を伸ばしていたら、%CALLNAME:MASTER%はいつの間にか股間に顔を突っ込んでいた
	PRINTW
	;潤滑見る
	IF PALAM:潤滑 > PALAMLV:4
		PRINTFORML （やだ……匂い嗅いじゃダメぇ……%K17_CALL_G(TARGET,1,0)%、%K17_RS("ぐしょぐしょ/びちょびちょ/びちゃびちゃ")%なのバレちゃうよぅ……）
	ELSEIF PALAM:潤滑 > PALAMLV:2
		PRINTFORML （やだ……匂い嗅いじゃダメぇ……%K17_CALL_G(TARGET,1,0)%、%K17_RS("じゅんってしてるの/濡れ始めてるの/くちゅってしてるの")%バレちゃうよぅ……）
	ENDIF
	PRINTFORMDL なんだか%CALLNAME:TARGET%からいい匂いがした

	;竿持ち
	IF BASE:勃起 >= 1000 && TALENT:性別 >= 2
		PRINTFORML （%K17_RS("あぅ/はぅ/うぅ")%……私の%K17_CALL_G(TARGET,3,1)%……ぐりぐりしないで……）
		PRINTFORMDL 顔で股間を探るとこりこりとした感触がした
	ENDIF
	RETURN 1
ENDIF
;-------------------------------------------------
;310,摸屁股
;記入チェック（=0, 非表示、1, 表示）
;RT思慕以上
;親密10以上or 恋慕点灯
;許可初回チェック
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (TFLAG:193 == 4 && iRT >= K17C_思慕) && FIRSTTIME(@"{SELECTCOM}口上",1)
	;人形チェック
	iDoll = K17_GET_DOLL(0)
	IF iDoll ==  K17C_人形数
		;両方平気なら上海優先
		iDoll = K17C_上海
	ENDIF
	PRINTW
	PRINTFORM 「きゃっ、急にどこ触ってるの……えっち%K17_HEART()%」
	TRYCALL K17_人形台詞(iDoll,1,"エッチー")
	PRINTFORM 「そんなにお尻を触りたいなら、%K17C_人形名:iDoll%のでも触ってなさい」
	TRYCALL K17_人形台詞(iDoll,1,"チカンダー")
	PRINTFORMDL %CALLNAME:MASTER%が試しに%K17C_人形名:iDoll%のお尻を触ってみると、%CALLNAME:TARGET%が人形に照れたような演技をさせた
	
	IF CFLAG:K17C_ID:K17C_CF_上海イベント<=0
		PRINTFORMDL 本当に操作が上手で、まるで人形が生きているように見えた
	ELSE
		PRINTFORMDL 上海のことを考えると、ちょっと悪いと思った……
	ENDIF
	PRINTW
	PRINTFORML 「急に触られたらびっくりするでしょ、もうっ」
	PRINTFORML 「誰かにこんなところ見られたらどうするのよ……」
	CALLF FIRSTTIME(@"{SELECTCOM}口上")
	
;-------------------------------------------------
;二回目以降
;-------------------------------------------------
ELSE
	PRINTW
	PRINTFORM 「%K17_RS("あんっ/ひゃん/やんっ")%%K17_HEART()%　%K17_RS("こらぁ/やだぁ/やめてぇ")%、こんなところじゃダメって言ってるでしょ」
	TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/スケベ/ヘンタイ/エッチ"))
ENDIF
;-------------------------------------------------
;310,摸屁股
;記入チェック（=0, 非表示、1, 表示）
;既読済み　通常の拡張
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FIRSTTIME(@"{SELECTCOM}口上",1)
	;--------------------
	;各種初期化
	;--------------------
	IF INROOM(CFLAG:現在位置)
		cShade += "物陰"
	ELSE
		cShade += "茂み"
	ENDIF
	;尻描写　バスルームでもでるので追記
	IF K17_GET_CLOTHNAME_BOTTOM(TARGET,1) == ""
		cHip = 剥き出しのお尻
	ELSE
		cHip = %K17_GET_CLOTHNAME_BOTTOM(TARGET,1)%の上からお尻
	ENDIF
	PRINTFORMDL そう言って%CALLNAME:TARGET%は周囲を警戒した
	IF iMOB || (DATE_HITOGOMI() || WITH_MOB() == 9)
		PRINTFORML 「……ほらっ、こっちいらっしゃい……」
		;他に人がいる場合友人か見る
		iFriends = K17_GET_FRIENDS_TARGET(MASTER)
		IF iFriends
			PRINTFORML （%K17_CNAME(iFriends)%に見られちゃうでしょ……）
		ELSE
			PRINTFORML （他の人に見られちゃうでしょ……）
		ENDIF
	ELSE
		;他に人がいない場合
		PRINTFORML 「誰か来るかもしれないでしょ……ほらっ、こっちいらっしゃい……」
	ENDIF
	PRINTFORMDL %CALLNAME:TARGET%はそう%CALLNAME:MASTER%の耳元で囁いて、手を引いて%cShade%に連れて行った
	;モブ描写先にやっちゃう
	CALL K17_DATE_HITOGOMI_MESSAGE
	PRINTW
	
	;関係性別に描写変え
	;露出癖既定値超えてたらどっちか
	IF iRT >= K17C_恋慕 && (ABL:露出癖 >= 3 && RAND:2) && (EQUIP:裙子 || EQUIP:連衣裙 || EQUIP:和服)
		;露出癖3以上 めくれる服
		PRINTFORMDL %CALLNAME:TARGET%は\@INROOM(CFLAG:現在位置)? 壁#木\@に手をつくと、お尻を突き出し自ら%K17_GET_CLOTHNAME_BOTTOM(TARGET)%をゆっくりとめくり上げた
		PRINTFORML 「こ、%K17_RS("こんな感じでどう/これでいい")%かしら……って見すぎよ%K17_RS("えっち/すけべ/変態さん")%%K17_HEART()%」
		IF CFLAG:ノーパン
			cHip = 内袴を履いていない剥き出しのお尻
		ELSE
			cHip = %PANTS_DESCRIPTION(EQUIP:TARGET:下半身内袴２)%%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%の上からお尻
		ENDIF
	ELSEIF iRT >= K17C_恋慕 && EQUIP:裙子 || EQUIP:連衣裙 || EQUIP:和服
		;露出癖3未満恋慕 めくれる服
		PRINTFORMDL %CALLNAME:MASTER%は背後から%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM(TARGET)%に手を伸ばし、ゆっくりめくり上げた
		PRINTFORML 「ちょ……めくるの……？　%K17_RS("えっち/すけべ/変態")%っ%K17_BLUSH()%」
		IF CFLAG:ノーパン
			cHip = 内袴を履いていない剥き出しのお尻
		ELSE
			cHip = %PANTS_DESCRIPTION(EQUIP:TARGET:下半身内袴２)%%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%の上からお尻
		ENDIF
	ENDIF
	;めくれない服　其他
	PRINTFORMDL %CALLNAME:PLAYER%は改めて背後から%CALLNAME:TARGET%の%HIP(TARGET)%に手を伸ばし、%cHip%を撫で回した
	PRINTFORML 「もうっ、どこでも触りたがるんだから……%K17_RS("ばかっ/えっち/すけべっ/変態っ")%」
	PRINTFORMDL %CALLNAME:TARGET%は照れくさそうな表情を浮かべながらも%CALLNAME:PLAYER%にされるがままになっていた……
	
	;他人を見て反応分け
	IF !iMOB
		PRINTFORML 「……%K17_喘ぎ声( K17C_受け_合意襲い系,-1)%……%K17_RS("だぁめ/やぁん/やだぁ")%%K17_HEART()%……%K17_RS("撫で/触り/揉み")%っ過ぎぃ%K17_喘ぎ声(K17C_受け_おねだり系,-1,2,1)%」
	ELSE
		PRINTFORML 「%K17_RS("あっ/はぅ/うぅ")%……%K17_RS("だぁめ/やぁん/やだぁ")%%K17_BLUSH()%　……%K17_喘ぎ声( K17C_受け_合意襲い系,-1,1,1)%」
		IF iFriends
			PRINTFORML （声……でちゃう……%K17_CNAME(iFriends)%にバレちゃうよぅ……）
		ELSE
			PRINTFORML （声……でちゃう……他の人にバレちゃうよぅ……）
		ENDIF
	ENDIF
ENDIF
RETURN 1

;====================================================================================================
;311,擁抱
;
;大きくなっちゃったのでブロック分割
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_311
IF FLAG:時間停止 || CFLAG:TARGET:睡眠
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_睡眠
ELSEIF CFLAG:うふふ == 2
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_311_うふふ
ELSEIF !FLAG:時間停止 && !CFLAG:TARGET:睡眠
	CALL K17_SKIP_TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_311_1
	PRINTW
	;終了モブ描写
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF
RETURN 1

;-------------------------------------------------
;カウンターうふふ時のコマンド
;-------------------------------------------------
@M_KOJO_MESSAGE_COM_K17_311_うふふ
#DIM iType	;タイプ一時保存
iType = CFLAG:K17C_ID:K17C_CF_喘ぎタイプ
CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_受け_おねだり系
SELECTCASE TCVAR:カウンター行動
	CASE 60
		;キス
		CALL K17_SET_AUTO_PVOICE(,K17C_部位M_キス)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	CASE 73
		;乳交
		CALL K17_SET_AUTO_PVOICE(,K17C_部位B)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	CASE 77
		;乳首
		CALL K17_SET_AUTO_PVOICE(,K17C_部位B_乳首)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	CASE 85,86,88
		;V挿入
		CALL K17_SET_AUTO_PVOICE(,K17C_部位V,iType)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	CASE 87,89
		;A挿入
		CALL K17_SET_AUTO_PVOICE(,K17C_部位A,iType)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
	
	CASEELSE
		PRINTFORML 「%K17_RS("あぁん/ひゃん/にゃん")%%K17_AP_DEC(1)%」
ENDSELECT
CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = iType
PRINTW
RETURN 1


@M_KOJO_MESSAGE_COM_K17_311_1
#DIM iRT
#DIM iDoll
;EXでとって成否判定をプラス
iRT = K17_GRT_EX() + TFLAG:193
;DEBUGPRINTFORML 【M_KOJO_MESSAGE_COM_K17_311 関係性値({iRT})】
;人形ランダム
iDoll = K17_GET_DOLL(-1)
;-------------------------------------------------
;311,擁抱
;記入チェック（=0, 非表示、1, 表示）
;失敗
LOCAL = 1
;-------------------------------------------------
IF iRT < K17C_お友達 || CFLAG:TARGET:ブチギレ == 1 || CFLAG:好感度 < 100 || TALENT:心情 == -1 || K17_CHECK_ANGER_COM(TARGET)
	PRINTFORMDL 大声を上げて%CALLNAME:MASTER%を突き飛ばした
	PRINTW
	PRINTFORM 「%K17_RS("いやっ/やだっ/きゃぁっ")%！！　……%K17C_人形名:iDoll%\@iDoll ? #たち\@！！」
	TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
	PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%にローキックを決め、最後に%K17C_人形名:iDoll%が槍で突き刺した
	RETURN 1
ELSEIF iRT < K17C_お友達
	IF TALENT:MASTER:性別==2
		PRINTFORMDL %CALLNAME:TARGET%は突然の事に驚き、行き場を失った腕が空中で固まっている……
	ELSE
		PRINTFORMDL %CALLNAME:TARGET%は突然の事に驚き固まっている……
	ENDIF
	PRINTW
	PRINTFORML 「な、なに%K17_RS("よ/")%？　急に……」
	RETURN 1
ENDIF
;-------------------------------------------------
;311,擁抱
;記入チェック（=0, 非表示、1, 表示）
;デート移動中
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CHK_DATENOW(CFLAG:TARGET:デート中) && CFLAG:MASTER:現在位置 != OMANEKIBEYA() ;&& (CFLAG:TARGET:現在位置 % 100) % 10
	
	;PRINTFORML %CALLNAME:PLAYER%は\@ DATE_REMAINTIME() ? 隣を歩く # 隣に座る \@%CALLNAME:TARGET%をギュッと抱きしめた
	PRINTFORMDL %CALLNAME:MASTER%は\@ DATE_REMAINTIME() ? 隣を歩く # 隣に座る \@%CALLNAME:TARGET%の腕を取って抱き付いた
	PRINTW
	IF (K17_GRT(TARGET)+MARK:反発刻印) < K17C_思慕
		PRINTFORML 「ん？　えっと……こうかしら……なんだか恥ずかしいわね」
		PRINTFORML 「ごめんなさい、やっぱり、ちょっと……ね」
		PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに、すぐに%CALLNAME:MASTER%から出口てしまった
		RETURN 1
	ENDIF
	
	;思慕以上取得初回
	IF FIRSTTIME(@"{SELECTCOM}デート移動",1) && (K17_GRT(TARGET)+MARK:反発刻印) >= K17C_思慕
		PRINTFORML 「腕、組みたいの……？　その前に一ついいかしら……」
		PRINTFORML 「これ、人里でもたまに見かけるけど、なんて言うか私からしたら、はしたないように思えるのよ」
		PRINTFORMDL そう言って%CALLNAME:MASTER%の腕を取る%CALLNAME:TARGET%だが、その形はどこかぎこちない
		PRINTW
		PRINTFORML 「だから言っておくけど、%K17_CNAME()%が期待しているようには出来ないと思うわ、ごめんなさい」
		PRINTFORMDL %CALLNAME:MASTER%はそれでも構わず、指まで絡めて%CALLNAME:TARGET%の身体を引き寄せる
		PRINTFORML 「ホントにもう……恥ずかしいわ……」
		PRINTFORMDL ……
		PRINTFORMDL …………
		PRINTFORMDW ………………
		PRINTFORMDL 少しして、身体を離そうとするが、
		PRINTFORML 「ね、ねぇ……ちょっと、もう出口ちゃうの？　ってなに笑ってるのよ」
		PRINTFORMDL しばらくして緊張が解けたのか、先程よりも密着しているように思える
		PRINTFORMDL むしろ%CALLNAME:TARGET%の方から%CALLNAME:MASTER%に胸を押し当て、引っ付いている
		PRINTW
		PRINTFORML 「み、認めるわよ。みんなこれやりたがるの、わかったわよっ」
		PRINTFORML 「……これ、すごく、いいわ……」
		PRINTFORMDL %CALLNAME:TARGET%はうっとりした様子でしばらくそのまま、%CALLNAME:MASTER%の腕に張り付いていた
		PRINTFORMDL %CALLNAME:MASTER%は腕から伝わる、%OPPAI_DESCRIPTION(TARGET,1)%の感触を楽しんだ
		PRINTFORML （……%K17_CNAME()%も、よさそう……だしね？　ふふっ、えっち%K17_HEART()%）
		CALLF FIRSTTIME(@"{SELECTCOM}デート移動")
		RETURN 1
	ENDIF
	
	iRT = K17_MAX_LIMIT_RAND(iRT,K17C_思慕,K17C_恋慕告白)
	SELECTCASE iRT
		CASE IS >= K17C_恋慕告白
			PRINTFORML 「%K17_RS("えへへっ/うん/ふふっ")%……これ好きでしょ？　私もよ%K17_HEART()%」
			PRINTFORMDL %CALLNAME:TARGET%はぐいぐいと胸を押し付け、%CALLNAME:MASTER%の腕に絡みついていた
			PRINTFORML 「%K17_RS("あんっ/にゃん/ひゃん")%%K17_HEART()%　こら、%K17_RS("擦らないで/弄らないで/ふにふにしないで")%……%K17_RS("やぁん/だぁめ/もうっ")%」
			PRINTFORML 「%K17_RS(@"%K17_CALL_P(K17C_部位B)%感じちゃう/%K17_CALL_P(K17C_部位B_乳首)%立っちゃう")%でしょ……そういうのは後で、ね？」
		CASE IS >= K17C_思慕
			PRINTFORML 「%K17_RS("えへっ/あぅ/あっ")%……うん、やっぱりこれいいわね%K17_BLUSH()%」
			PRINTFORMDL %CALLNAME:TARGET%は遠慮がちに胸を押し付け、%CALLNAME:MASTER%の腕に絡みついていた
			PRINTFORML 「%K17_RS("あんっ/うぅん/ひゃん")%%K17_BLUSH()%　こら、%K17_RS("動かないの/暴れないの/じっとしてなさい")%、%K17_RS("えっち/すけべ")%」
		CASE IS >= K17C_知り合い
			PRINTFORML 「%K17_RS("んー/むぅ/あぅ")%……なんだかやっぱりちょっと%K17_RS("照れちゃう/恥ずかしい")%わ……」
			PRINTFORMDL %CALLNAME:TARGET%は遠慮がちに、%CALLNAME:MASTER%の腕に絡みついていた
	ENDSELECT
	PRINTFORMDL %CALLNAME:MASTER%は腕から伝わる、%OPPAI_DESCRIPTION(TARGET,1)%の感触を楽しんだ
	RETURN 1
ENDIF

;-------------------------------------------------
;311,擁抱
;記入チェック（=0, 非表示、1, 表示）
;カウンターうふふ以外
;添い寝中
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CFLAG:TARGET:添い寝中
	PRINTFORMDL %CALLNAME:PLAYER%は陪睡%CALLNAME:TARGET%にギュッと抱きついた
	PRINTW
	PRINTFORML 「%K17_RS("こらぁ/やぁん/ひゃん")%、%K17_RS("イタズラ/もぞもぞ")%しないの～」
	PRINTFORML 「私は%K17_CNAME()%の%K17_RS("抱枕/お人形さん/ネコちゃん")%じゃないのよ？　%K17_RS("あんっ/にゃん/ひゃん")%%K17_HEART()%　もうっ」
	PRINTFORMDL しばらく%CALLNAME:MASTER%は%CALLNAME:TARGET%を抱きしめて、ゴロゴロしていた
	RETURN 1
ENDIF
;-------------------------------------------------
;311,擁抱
;記入チェック（=0, 非表示、1, 表示）
;時間停止、睡眠、カウンターうふふ以外
;要するに通常
;こっちは部屋で二人きり＆思慕逢引以上
LOCAL = 1
;-------------------------------------------------
IF (LOCAL && CFLAG:うふふ != 2 && INROOM(CFLAG:現在位置) && GET_TARGETNUM()==1) && iRT >= K17C_思慕逢引

	PRINTFORMDL 二人きりだしどうせならと%CALLNAME:MASTER%は、%CALLNAME:TARGET%の抱っこして膝の上に乗せてみた
	
	;------------------------------
	;思慕逢引初回　こっち先
	;------------------------------
	IF FIRSTTIME(@"{SELECTCOM}膝乗せ-思慕",1) && iRT >= K17C_思慕逢引
		PRINTW
		PRINTFORMDL %CALLNAME:MASTER%の膝の上に後ろ向きになって乗る%CALLNAME:TARGET%
		PRINTFORML 「んっ……ここに座っちゃっていいの？　……こうかしら？」
		PRINTFORMDL それでは普通なので少し変えてみようと思い、座ったまま膝の上で%CALLNAME:TARGET%をお姫様抱っこして抱き寄せた
		PRINTFORML 「ひゃっ……あら……こう……？　ち、近いわね%K17_BLUSH()%」
		PRINTW
		PRINTFORML 「えっと重くない？　平気？」
		PRINTFORMDL 体重は全く問題ない。というよりも軽すぎた、体重をかけられてないのかもしれない
		PRINTFORML 「私だって女なのよ、気になるじゃないって、あんっ、こらぁ……あんまり動いちゃだぁめ」
		PRINTFORMDL %CALLNAME:MASTER%の首に両腕をかけて、小首を傾げる%CALLNAME:TARGET%の顔がよく見られる、密着したいい体勢だ
		PRINTFORML 「囚われちゃったわね、動けないわ……」
		PRINTFORMDL そう言いながらも%CALLNAME:TARGET%は、%CALLNAME:MASTER%にギュッとしがみついて出口なかった
		CALLF FIRSTTIME(@"{SELECTCOM}膝乗せ-思慕")
		
	;------------------------------
	;次段階へ進む前
	;------------------------------
	ELSEIF iRT < K17C_恋慕告白
		PRINTFORMDL %CALLNAME:MASTER%はいつも街道、%CALLNAME:TARGET%をお姫様抱っこの形で抱き寄せて、膝の上に座らせた
		PRINTW
		PRINTDATAL
			DATAFORM 「%K17_RS("こらぁ/やぁん/ひゃぁん")%、私は%K17_CNAME()%のお人形さんじゃないわよ？」
			DATAFORM 「%K17_RS("やぁん/にゃん/あんっ")%、%K17_RS("捕まっちゃった/囚われちゃった/捕らえられちゃったわね")%」
			DATAFORM 「じゃ、座るわね……%K17_RS("平気/大丈夫")%？　重くない？」
			DATAFORM 「そんなに%K17_RS("強く/ギュッて/")%しなくても逃げないわよ？」
		ENDDATA
		
		PRINTFORML 「ふふっ……この%K17_RS("体勢/場所/位置")%、%K17_RS("好きよ/いいわね/落ち着いちゃうわ")%……%K17_BLUSH()%」
		PRINTFORMDL %CALLNAME:MASTER%はしばらくその体勢のまま、%CALLNAME:TARGET%とイチャイチャした
		
	;------------------------------
	;恋慕告白初回
	;------------------------------
	ELSEIF FIRSTTIME(@"{SELECTCOM}膝乗せ-恋慕",1) && iRT >= K17C_恋慕告白
		PRINTFORMDL 今日は%CALLNAME:TARGET%を正面にして、%CALLNAME:MASTER%の膝の上に乗ってもらった
		PRINTW
		PRINTFORML 「ちょ……この体勢は……あんっ%K17_HEART()%　こうしたかったの？」
		PRINTFORMDL 思いがけず対面座位の形にまでなってしまった……
		PRINTFORML 「なんだかこれ、えっちな体勢じゃない？　二人きりの時だけ……よ？」
		PRINTFORMDL %CALLNAME:MASTER%の首に両腕をかけた%CALLNAME:TARGET%は、ギュッと抱きつき返してくれた
		PRINTW
		;MASTERの性別判定　女なら当てに行く
		IF TALENT:MASTER:性別 >= 2
			PRINTFORML （%K17_CNAME()%の%K17_CALL_G(MASTER,0,1)%、私のあそこにぐいぐいって……当たって……これ気持ちいいかも%K17_BLUSH(1)%）
		ELSEIF TALENT:MASTER:性別 == 1
			PRINTFORML （私の%K17_CALL_G(TARGET,0,1)%擦れて……気持ちいいかも%K17_BLUSH(1)%）
		ENDIF
		PRINTFORML 「……はっ……んっ……くっ……あぁん%K17_HEART()%」
		PRINTFORMDL %CALLNAME:TARGET%が%CALLNAME:MASTER%の膝の上でもじもじと、遠慮がちに腰を揺すっては熱い吐息をこぼしている
		PRINTFORMDL %CALLNAME:MASTER%がその様子を観察していると、少ししてから我に返った%CALLNAME:TARGET%が勢い良く顔を上げた
		;マッサージ感覚でひとりえっち始める愛麗絲　自慰経験100は格が違った
		PRINTFORML 「ハッ……いや、ちがっ……これは……%K17_BLUSH(2)%」
		PRINTW
		PRINTFORMDL 真っ赤になってしまった%CALLNAME:TARGET%の頭を%CALLNAME:MASTER%は優しく撫でつけ、片手は繋いであげた
		PRINTFORML 「あのね、ごめんなさい、この体勢だと私、変な気分になっちゃうみたい、なの……%K17_BLUSH()%」
		PRINTFORML 「……ごめんっあん%K17_HEART()%……ちょ、動かなぃんでっ%K17_HEART()%……」
		PRINTFORMDL しばらく%CALLNAME:MASTER%は%CALLNAME:TARGET%を膝の上に乗せたまま、時折腰を揺すってイチャつきながら過ごした
		CALLF FIRSTTIME(@"{SELECTCOM}膝乗せ-恋慕")
	
	;------------------------------
	;恋慕告白2回目以降処理
	;------------------------------
	ELSE
		PRINTFORMDL %CALLNAME:MASTER%はいつも街道、%CALLNAME:TARGET%を正面に向き合って、膝の上へ座らせた
		PRINTW
		PRINTDATAL
			DATAFORM 「%K17_RS("やぁん/にゃん/あんっ")%%K17_HEART()%　またこの体勢なの？　%K17_RS("えっち/すけべ/変態")%%K17_HEART()%」
			DATAFORM 「%K17_RS("ぎゅ～/むぎゅ～/ふにゅ～")%……大丈夫？　重たくなぁい？　どかないけどね%K17_HEART()%　ふふっ」
			DATAFORM 「もっと%K17_RS("強く/ギュッて/ぎゅ～って")%して、離さないで、ね？%K17_HEART()%」
		ENDDATA
		PRINTFORML 「%K17_RS("ひゃん/あぁん/やんっ")%%K17_HEART()%　%K17_RS("動かないの/すりすりはだぁめ/もぞもぞしちゃだめよ")%……%K17_喘ぎ声(K17C_受け_おねだり系,-1,1,1)%」
		PRINTFORML 「もうっ……%K17_喘ぎ声( K17C_受け_合意襲い系,-1,1)%……%K17_RS("だぁめ/やぁん/やだぁ")%%K17_HEART()%……%K17_喘ぎ声(K17C_受け_おねだり系,-1,1,1)%」
		PRINTFORMDL しばらく%CALLNAME:MASTER%は%CALLNAME:TARGET%を膝の上に乗せたまま、時折腰を揺すってイチャつきながら過ごした
	ENDIF
	
	;------------------------------
	;終了処理 追加勃起バレ
	;------------------------------
	
	IF BASE:MASTER:勃起 >= 1000 && TALENT:MASTER:性別 >= 2 && CFLAG:TARGET:既成事実 & 合意_うふふ
		;うふふ経験済み
		PRINTW
		PRINTFORML （……%K17_RS("あっ/んっ/これっ")%……%K17_CNAME()%の%K17_CALL_G(MASTER,2,1)%……%K17_RS("押し付け/主張し/興奮し")%すぎよ……）
		;抱き寄せ判定見る
		IF CFLAG:TARGET:合意判定 >= 抱き寄せ必要値(TARGET)
			PRINTFORML （普通にすればいいのに……%K17_RS("我慢、させちゃってるの/して、くれないの/焦らしてるの")%……？）
			PRINTFORMDL %CALLNAME:TARGET%は潤んだ瞳で%CALLNAME:MASTER%を見上げていた
		ELSE
			PRINTFORML （もうっ……%K17_RS("えっちなことばっかり考えてるんだから/すぐ興奮するんだから")%……%K17_RS("えっち/すけべ/変態")%）
			PRINTFORMDL %CALLNAME:TARGET%は少し呆れたように%CALLNAME:MASTER%を見上げていた
		ENDIF
		
	ELSEIF BASE:MASTER:勃起 >= 1000 && TALENT:MASTER:性別 >= 2 && !(CFLAG:TARGET:既成事実 & 合意_うふふ)
		;うふふ未経験
		PRINTW
		PRINTFORML （……えっ……この当たってる硬いのって……えっ……！？）
		
		;ここで抱き寄せ判定見る
		IF CFLAG:TARGET:合意判定 >= 抱き寄せ必要値(TARGET)
			PRINTFORML （%K17_CNAME()%……%K17_RS("私に欲情/えっちの準備/発情")%……してくれてる……の？　もしかして……%K17_RS("し、しちゃう/し、しちゃいたい/さ、されちゃう")%……の？）
		ELSE
			PRINTFORML （%K17_CNAME()%……%K17_RS("私に欲情/えっちの準備/発情")%……してる……の？　%K17_RS("だめぇ/やだぁ/はぅ")%……まだ心の準備できてないわよ……）
		ENDIF
		PRINTFORML 「っ～～～～～%K17_BLUSH()%」
		PRINTFORMDL なぜか%CALLNAME:TARGET%は急にそわそわしだし、顔を真っ赤にして俯いて固まってしまっていた……
		
	ELSEIF TALENT:MASTER:性別 == 1
		;MASTERが女
		PRINTW
		PRINTFORML （%K17_CNAME()%の%K17_CALL_P(K17C_部位B,1,MASTER)%が当たって、なんだか変な気分になっちゃう……）
		PRINTFORMDL なぜか%CALLNAME:TARGET%は顔を真っ赤にして俯いていた
	ENDIF
	
	;愛麗絲Futanari
	SIF TALENT:TARGET:性別 == 3 && BASE:TARGET:勃起 >= 1000
		PRINTFORML （%K17_RS("あぅ/はぅ/うぅ")%……%K17_RS("この距離/近すぎて")%……私の%K17_CALL_G(TARGET,3,1)%……バレちゃうぅ……）
		
	
	RETURN 1
ENDIF
;-------------------------------------------------
;311,擁抱
;記入チェック（=0, 非表示、1, 表示）
;時間停止、睡眠、カウンターうふふ以外
;汎用 思慕逢引↑でも外など
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CFLAG:うふふ != 2
	PRINTFORMDL %CALLNAME:PLAYER%は%CALLNAME:TARGET%をギュッと抱きしめた
	
	SELECTCASE iRT
		CASE IS >= K17C_恋慕告白
			PRINTFORMDL %CALLNAME:TARGET%は嬉しそうに抱き返してきた……
			PRINTW
			PRINTDATAL
				DATAFORM 「んっ……ふふっ、なぁに？　ぎゅっしたくなっちゃったの？　はい、どうぞ。ぎゅ～」
				DATAFORM 「%K17_RS("むぎゅ/うにゅ/ふにゅ")%～……%K17_RS("落ち着く/幸せだ/")%わ」
				DATAFORM 「%K17_RS("ひゃん/あぁん/やんっ")%%K17_HEART()%　%K17_RS("強いわ/苦しいわ/痛いわ")%よ～……お返しよ～ぎゅ～」
			ENDDATA
			PRINTFORMDL しばらく%CALLNAME:MASTER%は、身体を擦り寄せる%CALLNAME:TARGET%と抱き合っていた
			
			;お姫様抱っこ
			;二人きり＆ 男性 体型普通体型以上　女性なら愛麗絲より大きくないとだめかな
			IF ( (TALENT:MASTER:体型 >= 0 && TALENT:MASTER:性別 == 2) || (TALENT:MASTER:性別 & 1 && TALENT:MASTER:体型 > TALENT:TARGET:体型) )&& GET_TARGETNUM()==1
				PRINTW
				PRINTFORMDL 二人きりだしどうせならと%CALLNAME:MASTER%は、%CALLNAME:TARGET%を抱き上げてお姫様抱っこしてみた
				PRINTFORML 「%K17_RS("ひゃああ/わああ/こらああ")%、いきなりなにするのっ」
				PRINTFORML 「流石に%K17_RS("恥ずかしい/照れくさい")%ったら……もうっ、ばかっ」
				PRINTFORMDL そう言いながら%CALLNAME:TARGET%は顔を赤らめて、%CALLNAME:MASTER%にギュッとしがみついていた
			ENDIF
			
		CASEELSE
			PRINTFORMDL %CALLNAME:TARGET%は照れくさそうにしながらも、満更でもないようだ……
			PRINTW
			PRINTFORML 「%K17_RS("ぁぅ/ひぅ/うぅ")%……なんだか、%K17_RS("恥ずかしいわ/照れくさいわ/熱くなっちゃうわ")%……」
			PRINTFORMDL しばらく%CALLNAME:MASTER%は、もじもじと身体を揺らす%CALLNAME:TARGET%の身体を抱きしめていた
	ENDSELECT
	
ENDIF
RETURN 1
;====================================================================================================
;312,接吻
;地の文コピペ 作りがIF大きめだったのでRETURN 1で整地
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_312
CALL TRAIN_MESSAGE
IF !FLAG:時間停止
	CALL M_KOJO_MESSAGE_COM_K17_312_1
	PRINTW
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_312_1
#DIM iRT	= 0
#DIM iType	= 0
#DIM iKiss = 0
#DIM iRand =0
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:時間停止

	IF CFLAG:TARGET:睡眠
		;;PRINTFORML %CALLNAME:PLAYER%は眠っている%CALLNAME:TARGET%の口を、自分の口で塞いだ…
		IF ABL:親密 >= 5
			;PRINTFORM 唇を離すと%CALLNAME:TARGET%は僅かに微笑んでいる…
			PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("んっ/えへ～/"+K17_HEART()+"っ"))%」
		ELSEIF ABL:親密 >= 3
			;PRINTFORM %CALLNAME:TARGET%は少し苦しそうに眉をひそめた…
			PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("んっ/うぅ～/ふにゃ"))%」
		ELSE
			;PRINTFORM %CALLNAME:TARGET%は顔をしかめると無意識に顔をそむけた…
			PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("くっ/うぅ/やっ"))%」
		ENDIF
		RETURN 1
	ENDIF
	
	IF TFLAG:193 == 99
		;PRINTFORM %CALLNAME:PLAYER%がキスをしようとすると%CALLNAME:TARGET%は嫌そうに身を引いた…
		PRINTFORML 「くっ……今何しようとしたの、やめなさいッ！」
		RETURN 1
	ENDIF

	;-----------------
	;フラグ初回チェック
	;-----------------
	IF !CFLAG:K17C_ID:K17C_CF_FKマ斯塔
		CALL K17_FIRSTKISS(TARGET)
		RETURN 1
	ENDIF
	
	;-----------------
	;各種初期化
	;-----------------
	iRT = K17_GRT_EX()
	iKiss = 0
	iRand = 0
	
	;-----------------
	;押し倒され中　タイプ一時変更
	;-----------------
	IF CFLAG:うふふ == 2
		iType = CFLAG:K17C_ID:K17C_CF_喘ぎタイプ
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_部位M_キス,K17C_受け_おねだり系)
		PRINTFORML 「%K17_AUTO_PVOICE()%」
		CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = iType
		RETURN 1
	ENDIF
	
	;-----------------
	;通常キス
	;-----------------
	;この後憤怒
	IF K17_CHECK_ANGER_COM(TARGET)
		PRINTFORML 「んっ……%K17_RS("だめだ/いやだ/やだ")%ったら」
		PRINTFORMDL %CALLNAME:TARGET%は両手で%CALLNAME:MASTER%を突っぱねた
		RETURN 1
	ENDIF
	
	;驚きパターン
	IF ABL:欲望 < 5 && ABL:親密 < 5
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_部位M_キス,K17C_受け_無理矢理系)
		PRINTFORML 「%K17_AP_NUM(1,1)%」
		PRINTFORML 「んっ……こんな…の…いけないわ……%K17_BLUSH()%」
		PRINTFORMDL %CALLNAME:TARGET%は顔を背けると%CALLNAME:MASTER%を押し返した
		RETURN 1
	ENDIF
	
	
	
	;ちゅっちゅするほう
	IF (PREVCOM == 305 || CFLAG:TARGET:添い寝中) && RESULT:1 <= 300
		iRand = K17_MAX_LIMIT_RAND(iRT,K17C_恋慕告白,K17C_恋人)
		SELECTCASE iRand
			CASE IS >= K17C_恋人
				PRINTFORML 「ん～～%K17_RS("ちゅ/ちゅっ/んちゅ")%%K17_HEART()%」
				PRINTFORML 「%K17_RS("えへへ/えへ/ふにゅ")%……ねえ、もっと、しよ？　ね？%K17_HEART()%」
				PRINTFORML 「%K17_RS("ちゅ/ちゅっ/んちゅ")%%K17_HEART()%　%K17_RS("ちゅ/ちゅっ/んちゅ")%%K17_HEART()%」
			CASE IS >= K17C_恋慕告白
				PRINTFORML 「%K17_RS("ん～ちゅ/はむっ/んちゅっ")%%K17_HEART()%　……%K17_CNAME()%の唇、なんでそんなに%K17_RS("いいの/柔らかい/好きなの")%かしら……」
				PRINTFORML 「何度しても飽きないわ……%K17_RS("ん～ちゅ/はむっ/んちゅっ")%%K17_HEART()%」
			CASE IS >= K17C_思慕
				PRINTFORML 「ん～～%K17_RS("ちゅ/ちゅっ/んちゅ")%」
				PRINTFORML 「%K17_RS("えへへ/えへ/ふにゅ")%……%K17_BLUSH()%」
			CASEELSE
				PRINTFORML 「%K17_チュパ音(K17C_受け_無理矢理系,iKiss,2,1)%」
				PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに少し赤くなって、%CALLNAME:MASTER%から目を背けた
				RETURN 1
		ENDSELECT
		PRINTFORMDL %CALLNAME:TARGET%はご満悦の様子だった
		RETURN 1
	ENDIF
	
	;ディープ判定
	IF ABL:欲望 >= 5
		iKiss = K17_ABL_RT_EX(iRT,K17C_部位M_キス)
	ELSE
		iKiss = -1
	ENDIF
	
	;関係査定EX
	;ぶちゅぶちゅするやつ
	;K17_チュパ音(タイプ,感覚値,回数,終端
	;反感固定ソース　300
	SELECTCASE BASE:情緒
		CASE IS >= 650
			SELECTCASE iRT
				CASE IS >= K17C_恋人
					PRINTFORML 「%K17_チュパ音(K17C_受け_おねだり系,iKiss,2,1)%はぁはぁ%K17_HEART()%　もっと―%K17_チュパ音(K17C_受け_おねだり系,iKiss,3,1)%」
					PRINTFORMDL %CALLNAME:TARGET%は興奮したように頬を上気させ、何度もねだってくる
				CASE IS >= K17C_恋慕告白
					PRINTFORML 「%K17_チュパ音(K17C_受け_おねだり系,iKiss,2)%もっと……しよっ―%K17_チュパ音(K17C_受け_おねだり系,iKiss,2,1)%」
					PRINTFORMDL %CALLNAME:TARGET%が早く続きをねだってくる
				CASE IS >= K17C_思慕キス
					PRINTFORML 「%K17_チュパ音(K17C_受け_おねだり系,iKiss,2,1)%」
					PRINTFORMDL %CALLNAME:TARGET%の目がとろんと溶けているように見えた
				CASEELSE
					PRINTFORML 「%K17_チュパ音(K17C_受け_無理矢理系,iKiss,2,1)%」
					PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに少し赤くなって、%CALLNAME:MASTER%から目を背けた
			ENDSELECT
		CASE IS >= 450
			SELECTCASE iRT
				CASE IS >= K17C_恋人
					PRINTFORML 「%K17_チュパ音(K17C_受け_おねだり系,iKiss,2)%もっと……ね？　%K17_チュパ音(K17C_受け_おねだり系,iKiss,2,1)%」
					PRINTFORMDL %CALLNAME:TARGET%が早く続きをねだってくる
				CASE IS >= K17C_恋慕告白
					PRINTFORML 「%K17_チュパ音(K17C_受け_おねだり系,iKiss,2,1)%」
					PRINTFORMDL %CALLNAME:TARGET%の目がとろんと溶けているように見えた
				CASE IS >= K17C_思慕キス
					PRINTFORML 「%K17_チュパ音(K17C_受け_無理矢理系,iKiss,2,1)%」
					PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに少し赤くなって、%CALLNAME:MASTER%から目を背けた
				CASEELSE
					PRINTFORML 「%K17_チュパ音(K17C_受け_無理矢理系,iKiss,1,1)%」
					PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに少し赤くなって、%CALLNAME:MASTER%から目を背けた
			ENDSELECT
			
		;情緒足りない
		CASEELSE
				PRINTFORML 「%K17_チュパ音(K17C_受け_無理矢理系,-1,1,1)%」
				PRINTFORML 「もうっ、急には%K17_RS("だめだったら/やめてったら/だめよ")%……%K17_BLUSH()%」
				PRINTFORMDL %CALLNAME:TARGET%は少しむくれて顔を背けた
				RETURN 1
	ENDSELECT
	
	;屋内で二人きり追加　実値逢引以上 押し倒され中以外
	IF INROOM(CFLAG:現在位置) && GET_TARGETNUM()==1 && K17_GRT() >= K17C_思慕逢引 && CFLAG:うふふ != 2
		;グローバル保存
		CALL K17_SET_AUTO_PVOICE(iRT, K17C_部位M_キス,K17C_受け_おねだり系)
		PRINTW
		PRINTFORML 「……んっ……はぁ……%K17_AP_DEC()%まだ……%K17_RS("する/するの/したい/したいの")%？」
		PRINTFORML 「%K17_AP_NUM(1)%%K17_RS("まっ/まって/ひゃん")%……%K17_AP_NUM(3)%好きっ%K17_HEART()%」
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%を押さえつけて、何度もキスを繰り返した
		PRINTFORML 「%K17_AUTO_PVOICE()%」
		IF RAND:2
			PRINTFORMDL 二人の%K17_RS("接吻音/吐息")%だけが部屋の中で%K17_RS("響いて/こだまして")%いた
		ELSE
			PRINTFORMDL 二人が唇を離すと%K17_RS("唾液/銀色")%の橋がかかっていた
		ENDIF
	ENDIF
	
ENDIF
RETURN 1
;====================================================================================================
;313,胸愛撫
;
;服のはだけが少ないのでなんでも肌蹴て内袴を脱がせるフレーバー
;人いたら服の上から
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_313
IF FLAG:時間停止
	CALL TRAIN_MESSAGE
ELSEIF CFLAG:うふふ==2
	CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_313_うふふ
ELSEIF CFLAG:TARGET:睡眠
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_睡眠愛撫
ELSE
	CALL K17_SKIP_TRAIN_MESSAGE
	;CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_313_1
	PRINTW
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF
RETURN 1
@M_KOJO_MESSAGE_COM_K17_313_うふふ
;-------------------------------------------------
;カウンターうふふ時のコマンド
;-------------------------------------------------
#DIM iType	;タイプ一時保存
iType = CFLAG:K17C_ID:K17C_CF_喘ぎタイプ
CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_受け_おねだり系
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(),K17C_部位B)
PRINTFORML 「%K17_AUTO_PVOICE()%」
CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = iType
PRINTW
RETURN 1

@M_KOJO_MESSAGE_COM_K17_313_1
;-------------------------------------------------
;313,胸愛撫
;時間停止、カウンターうふふ、睡眠以外
;各種初期化
;-------------------------------------------------
#DIM iRT		;EXでとって
#DIMS cAction,2	;感度による行動
#DIMS cReAction	;感度による反応
#DIM iBust		;胸の状態　服上からなら0 はだけ内袴上なら1 生2
#DIM iFriends	;知り合いがいるか見る
#DIM iMOB		;他人がいるか見る
#DIM iExFlag	;追加条件フラグ
#DIM iAnger		;このコマンド選択で怒るかどうか

iRT = K17_GRT_EX()
iAnger = K17_CHECK_ANGER_COM(TARGET)
;DEBUGPRINTFORML 【M_KOJO_MESSAGE_COM_K17_313_1 関係性値({iRT})】

;-----------------
;喘ぎタイプ選択
;-----------------
CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B)
VARSET cAction
cReAction =
iBust = 0
iFriends = 0
iMOB = 0
iExFlag = 0

;他人もしくはモブがいるか見る　ついでに知り合いかどうかもみる
IF DATE_HITOGOMI(CFLAG:PLAYER:現在位置) || GET_TARGETNUM() > 1
	iMOB = 1
	iFriends = K17_GET_FRIENDS_TARGET(TARGET)
ENDIF

;追加条件式
;Ｂ感覚4以上＆思慕逢引以上
SIF ABL:Ｂ感覚 >= 4 && iRT >= K17C_思慕逢引 && BASE:情緒 >= 500
	iExFlag = 1
;4未満なら　愛でカバー
SIF iRT >= K17C_恋慕 && BASE:情緒 >= 500
	iExFlag = 2
;憤怒付くようなら無理矢理に
SIF iAnger && iRT >= K17C_思慕逢引
	iExFlag = 2

;カウンター&脱ぎ条件
IF TCVAR:カウンター行動 == 27 && iExFlag && !iMOB && !FIRSTTIME(@"{SELECTCOM}口上",1)
	;通常カウンター優先
	IF TALENT:TARGET:胸囲 >= 1
		cAction += @"%CALLNAME:PLAYER%は%CALLNAME:TARGET%の、\n剥き出しの%OPPAI_DESCRIPTION(TARGET,1)%の谷間に手を差し入れ、"
	ELSE
		cAction += @"%CALLNAME:PLAYER%は%CALLNAME:TARGET%の寄せ上げられた、\n剥き出しの%OPPAI_DESCRIPTION(TARGET,1)%の谷間に手を差し入れ、"
	ENDIF
;カウンターあり優先
ELSEIF TCVAR:カウンター行動 == 27
	;谷間見せ　胸サイズ見る
	IF TALENT:TARGET:胸囲 >= 1
		cAction += @"%CALLNAME:PLAYER%は%CALLNAME:TARGET%の谷間に手を差し入れ、"
	ELSE
		cAction += @"%CALLNAME:PLAYER%は%CALLNAME:TARGET%の寄せ上げられた谷間に手を差し入れ、"
	ENDIF
;以下カウンターなし　脱ぎ条件
ELSEIF iExFlag && !iMOB && !FIRSTTIME(@"{SELECTCOM}口上",1)
	cAction = %CALLNAME:PLAYER%は%CALLNAME:TARGET%の剥き出しの%OPPAI_DESCRIPTION(TARGET,1)%を
	
;はだけあり
ELSEIF !iMOB && !iFriends
	;TEQUIP:4 = 1
	cAction = %CALLNAME:PLAYER%は%CALLNAME:TARGET%の
	;服装チェック
	IF EQUIP:上半身上衣１ || EQUIP:上半身上衣２ || EQUIP:連衣裙 || EQUIP:和服
		;上半身上衣の検索
		IF EQUIP:和服
			cAction += @"%K17_GET_CLOTHNAME_TOP(TARGET)%%K17_RS("を肌蹴て/の襟から手を差し入れて")%、"
		ELSEIF EQUIP:連衣裙 == 1
			cAction += @"%K17_GET_CLOTHNAME_TOP(TARGET)%%K17_RS("の前留めを外し/の隙間から手を差し入れて")%、"
		ELSE
			cAction += @"%K17_GET_CLOTHNAME_TOP(TARGET)%を肌蹴て、"
		ENDIF
	ENDIF
	IF EQUIP:TARGET:上半身内袴１ || EQUIP:TARGET:上半身内袴２ || EQUIP:TARGET:緊身内衣 || EQUIP:TARGET:連体内衣
		cAction += @"%OPPAI_DESCRIPTION(TARGET,1)%を内袴越しに"
		iBust = 1
	ELSEIF TEQUIP:上半身着衣状況 == 0
		;着てない
		cAction = %CALLNAME:PLAYER%は%CALLNAME:TARGET%の剥き出しの%OPPAI_DESCRIPTION(TARGET,1)%を
		iBust = 2
	ELSE
		;上衣あり　内袴なし
		SIF !(EQUIP:TARGET:上半身内袴１ || EQUIP:TARGET:上半身内袴２ || EQUIP:TARGET:緊身内衣 || EQUIP:TARGET:連体内衣)
			cAction += "下に何も着ておらず"
		cAction += @"露わになった%OPPAI_DESCRIPTION(TARGET,1)%を"
		iBust = 2
	ENDIF
;はだけなし
ELSEIF iMOB || iFriends
	cAction = %CALLNAME:PLAYER%は%CALLNAME:TARGET%の
	;服装チェック
	IF EQUIP:上半身上衣１ || EQUIP:上半身上衣２ || EQUIP:連衣裙
		;上半身上衣の検索
		FOR i,GETNUM(EQUIP,"和服"),GETNUM(EQUIP,"上半身１"),-1
			IF EQUIP:TARGET:i 
				cAction += @"%CLOTHNAME(i,EQUIP:TARGET:i)%の上から"
				BREAK
			ENDIF
		NEXT
	ENDIF
	iBust = 0
ENDIF

;感度別アクション
IF ABL:Ｂ感覚 <= 1
	cAction += "撫でるように"
ELSEIF ABL:Ｂ感覚 <= 3
	cAction += "優しく"
ELSE
	cAction += "じっくりと"
ENDIF
cAction += "揉みしだいた………"


;感度別リアクション
IF ABL:Ｂ感覚 <= 1
	cReAction = %CALLNAME:TARGET%はくすぐったそうにしている………
ELSEIF ABL:Ｂ感覚 <= 4
	cReAction = %CALLNAME:TARGET%は愛撫に熱い吐息を漏らし始めている………
ELSE
	cReAction = %CALLNAME:TARGET%はトロンとした表情になってされるがままになっている………
ENDIF
	

;-------------------------------------------------
;313,胸愛撫
;地の文開始
;-------------------------------------------------
PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の胸へ手を伸ばした……

;-------------------------------------------------
;313,胸愛撫
;記入チェック（=0, 非表示、1, 表示）
;失敗　憤怒が付く
LOCAL = 1
;-------------------------------------------------
IF LOCAL && ( iAnger || CFLAG:ブチギレ ) && !iExFlag
	PRINTFORMDL %CALLNAME:TARGET%は素早く胸を押さえて、%CALLNAME:MASTER%の手を払いのけた
	PRINTW
	PRINTFORM 「やだっ……もうっ……」
	TRYCALL K17_人形台詞(-1,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
	RETURN 1
ENDIF

;-------------------------------------------------
;313,胸愛撫
;記入チェック（=0, 非表示、1, 表示）
;失敗　憤怒が付く がEX条件満たしてる時　強引にレイプっぽく
LOCAL = 1
;-------------------------------------------------
IF LOCAL && ( iAnger || CFLAG:ブチギレ ) && iExFlag
	PRINTFORMDL %CALLNAME:TARGET%は素早く胸を押さえて、%CALLNAME:MASTER%の手を拒んだ
	PRINTW
	;喘ぎのタイプを変える
	CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_無理矢理系)
	cAction:1 = %CALLNAME:MASTER%は嫌がる%CALLNAME:TARGET%に興奮を覚え、
	;服装チェック
	;上半身上衣
	SIF TEQUIP:上半身着衣状況
		cAction:1 += @"%K17_GET_CLOTHNAME_TOP(TARGET)%を強引に肌蹴て"
	;内袴検索
	IF K17_GET_CLOTHNAME_TOP_UNDER(TARGET) != ""
		;内袴
		cAction:1 += K17_GET_CLOTHNAME_TOP_UNDER(TARGET)
		;上衣脱いだか見る
		IF K17_GET_CLOTHNAME_TOP(TARGET) != ""
			cAction:1 += "も"
		ELSE
			cAction:1 += "を"
		ENDIF
		cAction:1 += "剥ぎ取り、\n"
	ENDIF
	cAction:1 += @"%K17_RS("露わ/剥き出し")%になった%OPPAI_DESCRIPTION(TARGET,1)%を揉み続けた"
	
	;通常処理
	
	PRINTFORML 「%K17_AP_NUM(2)%……ちょ、っと%K17_RS("やりすぎっ/激しすぎ")%%K17_RS("だめぇ/いやぁ/やだぁ")%%K17_AP_NUM(2,1)%」
	PRINTFORMDL %cAction:1%
	PRINTFORML 「%K17_CALL_P(K17C_部位B)%%K17_RS("やめて/いやだ/揉まないで")%ったら……%K17_AP_NUM(3,1)%」
	SIF K17_ABL_RT_EX(iRT,K17C_部位B)
		PRINTFORMDL %CALLNAME:TARGET%は嫌がりながらも感じてしまっている……
	RETURN 1
ENDIF

;-------------------------------------------------
;313,胸愛撫
;記入チェック（=0, 非表示、1, 表示）
;初回成功
LOCAL = 1
;-------------------------------------------------
IF LOCAL && FIRSTTIME(@"{SELECTCOM}口上")
	;タイプ変え
	CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_合意襲い系)
	PRINTFORMDL %CALLNAME:TARGET%はびくりと反応すると、胸の上に置かれた%CALLNAME:MASTER%の手に手を重ねた
	PRINTW
	PRINTFORM 「ちょ……まっ……そこ……触りたいの……？」
	TRYCALL K17_人形台詞(-1,1,K17_RS("チカン/エッチ/ヘンタイ"))
	PRINTFORMDL 思わず手を出してしまったけれど、嫌だっただろうか
	PRINTFORMDL %CALLNAME:TARGET%は答えずに、弱々しく手を重ね、顔を真っ赤にして目を瞑ってしまっている
	PRINTFORMDL %cAction%
	
	;通常処理
	PRINTW
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	PRINTFORMDL %cReAction%
	;胸の状態分岐
	SELECTCASE iBust
		CASE 0
			PRINTFORML （これ……服が擦れて……ちょっと%K17_RS("痛い/もどかしい/むずむずする")%かも……）
		CASE 1
			PRINTFORML （これ……内袴が擦れて……ちょっと%K17_RS("痛い/もどかしい/むずむずする")%かも……）
		CASE 2
			PRINTFORML （これ……生で……ばかぁえっち%K17_HEART()%……）
	ENDSELECT
	;人がいるか見る
	IF iFriends
		PRINTFORML （声……でちゃう……%K17_CNAME(iFriends)%に%K17_RS("バレちゃう/声聞かれちゃう")%よぅ……）
	ELSEIF iMOB
		PRINTFORML （声……でちゃう……他の人に%K17_RS("バレちゃう/声聞かれちゃう")%よぅ……）
	ENDIF
	RETURN 1
ENDIF

;-------------------------------------------------
;313,胸愛撫
;記入チェック（=0, 非表示、1, 表示）
;2回目以降 感度4以上 思慕から or 恋慕
;上半身脱ぎ
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iExFlag && !iMOB

	;--------------
	;服をフレーバーで脱がせる
	;--------------
	cAction:1 = そう言うと%CALLNAME:TARGET%は、
	;服装チェック
	IF EQUIP:上半身上衣１ || EQUIP:上半身上衣２ || EQUIP:連衣裙|| EQUIP:和服
		IF EQUIP:連衣裙 == 1
			;普段着の連衣裙　愛麗絲のワンピは前留め前開きなはず
			cAction:1 += @"%K17_GET_CLOTHNAME_TOP(TARGET)%の前留めを外し"
		ELSE
			cAction:1 += @"%K17_GET_CLOTHNAME_TOP(TARGET)%を肌蹴て"
		ENDIF
	ENDIF
	IF SHOW_上半身内袴(TARGET) != ""
		cAction:1 += SHOW_上半身内袴(TARGET)
		IF EQUIP:上半身上衣１ || EQUIP:上半身上衣２ || EQUIP:連衣裙|| EQUIP:和服
			cAction:1 += "もズラして"
		ELSE
			cAction:1 += "をズラして"
		ENDIF
	ENDIF
	cAction:1 += @"%CALLNAME:MASTER%の前で、\n%K17_RS("露わ/剥き出し")%になった%OPPAI_DESCRIPTION(TARGET,1)%"
	
	;カウンター見る
	IF TCVAR:カウンター行動 == 27 && TALENT:TARGET:胸囲 >= 1
		cAction:1 += "で、谷間を作って見せつけてきた"
	ELSEIF TCVAR:カウンター行動 == 27
		cAction:1 += "を、寄せ上げて谷間を作って見せつけてきた"
	ELSE
		cAction:1 += "を、恥ずかしそうにしながら披露した"
	ENDIF
	cAction:1 += "\n"
	;乳首描写
	cAction:1 += NIPPLE_DESCRIPTION(TARGET,1)+"を"
	;披肩チェック
	IF EQUIP:TARGET:外衣==1
		cAction:1 += "披肩で隠しているが"
	ELSE
		cAction:1 += "手で隠しているが"
	ENDIF
	cAction:1 += "、チラチラと見え隠れている"

	;-----------------
	;喘ぎタイプ選択　屋内のみおねだり
	;-----------------
	IF INROOM(CFLAG:現在位置)
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_おねだり系)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_お手伝い系)
	ENDIF
	;-----------------
	;表示開始
	;-----------------
	PRINTFORMDL %CALLNAME:TARGET%は%K17_RS("うっとりした表情で/顔を紅潮させ/甘い吐息を吐いて")%、胸の上に置かれた%CALLNAME:MASTER%の手に手を重ねた
	PRINTW
	;脱ぎ初回
	;内袴つけてるか見る
	IF FIRSTTIME(@"{SELECTCOM}口上-2",1) && (EQUIP:TARGET:上半身内袴１ || EQUIP:TARGET:上半身内袴２ || EQUIP:TARGET:緊身内衣 || EQUIP:TARGET:連体内衣)
		PRINTFORML 「あの……ちょっと待って……前から言いたかったんだけど……その……」
		PRINTFORMDL やっぱり嫌だっただろうか
		PRINTFORML 「そうじゃなくって……その、ブラの上からだと、ちょっと痛いのよね……」
		PRINTFORML 「だからね……」
		PRINTW
		PRINTFORML （いいよね……これくらい……だって痛いし、ね……うん）
		PRINTFORMDL %cAction:1%
		PRINTFORML （ほんとに……ぬ、脱いじゃった……）
		PRINTW
		CALLF FIRSTTIME(@"{SELECTCOM}口上-2")
	ELSEIF K17_GET_CLOTHNAME_TOP(TARGET,1) != ""
		PRINTFORML 「あっ……待って……ね」
		PRINTFORMDL %cAction:1%
		PRINTW
	ENDIF

	PRINTFORML 「誰かに見られちゃうかも……だから……早く、ね？」
	PRINTFORMDL %cAction%
	PRINTFORML 「%K17_AP_NUM(2)%……%K17_CNAME()%、%K17_CALL_P(K17C_部位B)%好きっよね……%K17_AP_NUM(3,1)%」
	PRINTFORMDL %cReAction%
	PRINTFORML （やっぱり……%K17_RS("生/直/直接")%の方が……%K17_RS("好き/気持ちいい/感じちゃう")%）
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	
ENDIF

;-------------------------------------------------
;313,胸愛撫
;記入チェック（=0, 非表示、1, 表示）
;2回目以降 感度3までor思慕未満or誰かいるなどの汎用
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (iExFlag && iMOB) || !iExFlag
	
	;-----------------
	;喘ぎタイプ選択
	;-----------------
	IF iFriends
		;友人がいれば嫌がり
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_無理矢理系)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_合意襲い系)
	ENDIF
	
	PRINTFORMDL %CALLNAME:TARGET%はびくりと反応すると、胸の上に置かれた%CALLNAME:MASTER%の手に手を重ねた
	PRINTFORML 「またぁ%K17_CALL_P(K17C_部位B)%、%K17_AP_NUM(2)%……%K17_RS("やさしくぅ/ゆっくりぃ/まってぇ")%%K17_AP_NUM(3,1)%」
	PRINTW
	
	;通常処理
	PRINTFORMDL %cAction%
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	PRINTFORMDL %cReAction%
	PRINTW
	;胸の状態分岐
	SELECTCASE iBust
		CASE 0
			PRINTFORML （これ……服が擦れて……ちょっと%K17_RS("痛い/もどかしい/むずむずする")%かも……）
		CASE 1
			PRINTFORML （これ……内袴が擦れて……ちょっと%K17_RS("痛い/もどかしい/むずむずする")%かも……）
		CASE 2
			PRINTFORML （これ……生で……ばかぁえっち%K17_HEART()%……）
	ENDSELECT
	
	;人がいるか見る
	IF iFriends
		PRINTFORML （声……でちゃう……%K17_CNAME(iFriends)%に%K17_RS("バレちゃう/声聞かれちゃう")%よぅ……）
	ELSEIF iMOB
		PRINTFORML （声……でちゃう……他の人に%K17_RS("バレちゃう/声聞かれちゃう")%よぅ……）
	ENDIF
	RETURN 1
ENDIF



RETURN 1
;====================================================================================================
;314,肛門愛撫
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_314
IF FLAG:時間停止 || CFLAG:TARGET:睡眠
	CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_睡眠愛撫
ELSE
	;CALL K17_SKIP_TRAIN_MESSAGE
	CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_314_1
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_314_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;315,陰蒂愛撫
;構成は胸と一緒
;裸んぼうでもコマンドでるので服装チェック注意
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_315
IF FLAG:時間停止
	CALL TRAIN_MESSAGE
ELSEIF CFLAG:うふふ==2
	CALL TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_315_うふふ
ELSEIF CFLAG:TARGET:睡眠
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_睡眠愛撫
ELSE
	;CALL TRAIN_MESSAGE
	CALL K17_SKIP_TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_315_1
	PRINTW
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF
RETURN 1
@M_KOJO_MESSAGE_COM_K17_315_うふふ
;-------------------------------------------------
;カウンターうふふ時のコマンド
;-------------------------------------------------
#DIM iType	;タイプ一時保存
iType = CFLAG:K17C_ID:K17C_CF_喘ぎタイプ
CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_受け_おねだり系
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(),K17C_部位C)
PRINTFORML 「%K17_AUTO_PVOICE()%」
CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = iType
PRINTW
RETURN 1
@M_KOJO_MESSAGE_COM_K17_315_1
;-------------------------------------------------
;日常コマンド
;-------------------------------------------------
;各種初期化
;-------------------------------------------------
#DIM iRT		;EXでとって
#DIM iFriends	;知り合いがいるか見る
#DIM iMOB		;他人がいるか見る
#DIM iExFlag	;追加条件フラグ
#DIM iAnger		;このコマンド選択で怒るかどうか
#DIM iTouch		;タッチしてる場所
#DIMS cAction,2	;感度による行動
#DIMS cReAction	;感度による反応
#DIMS cCli		;クリの描写　普通のクリかFutanari兒童クリおちんぽか
#DIMS cWet		;濡れ具合のテキスト

iRT = K17_GRT_EX()
iAnger = K17_CHECK_ANGER_COM(TARGET)
iTouch = 0
VARSET cAction
cReAction =
cCli =
cWet =
;-----------------
;喘ぎタイプ選択
;-----------------
CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位C)
iFriends = 0
iMOB = 0
iExFlag = 0

;クリのタイプ選択　ついでに勃起度も
IF GETBIT(TALENT:TARGET:性別,1)
	IF BASE:勃起 >= 1000
		cCli += "ピンとそそり立つ"
	ELSE
		cCli += "柔らかく垂れ下がる"
	ENDIF
	cCli += K17_RS("兒童の様な/可愛らしい") + "Futanari"
ELSE
	SIF PALAM:欲情 >= PALAMLV:4
		cCli += "ピンと尖った"
	cCli += K17_RS("クリトリス/突起")
ENDIF

;濡れ具合の描写
IF PALAM:潤滑 > PALAMLV:4
	cWet = ぐしょぐしょに濡れた
ELSEIF PALAM:潤滑 > PALAMLV:2
	cWet = ほんのりと湿った
ENDIF

;他人もしくはモブがいるか見る　ついでに知り合いかどうかもみる
IF (DATE_HITOGOMI() || WITH_MOB() == 9) || GET_TARGETNUM() > 1
	iMOB = 1
	iFriends = K17_GET_FRIENDS_TARGET(TARGET)
ENDIF

;追加条件式
;Ｃ感覚5以上＆思慕逢引以上
SIF ABL:Ｃ感覚 >= 5 && iRT >= K17C_思慕逢引 && BASE:情緒 >= 500
	iExFlag = 1
;5未満なら　愛でカバー
SIF iRT >= K17C_恋慕 && BASE:情緒 >= 500
	iExFlag = 2
;憤怒付くようなら無理矢理に
SIF iAnger && iRT >= K17C_思慕逢引
	iExFlag = 2
;ズラせない内袴　袴子だと拡張は回避
SIF TEQUIP:0 & 16 || !(EQUIP:裙子 || EQUIP:連衣裙 || EQUIP:和服)
	iExFlag = 0

;後ろにつけるAction
IF ABL:Ｃ感覚 <= 3
	cAction:1 = そっと撫で回した
ELSEIF ABL:Ｃ感覚 <= 5
	cAction:1 = 軽く摘み上げた
ELSE
	cAction:1 = ゆっくりと揉みしだいた
ENDIF
;感覚別リアクション
IF ABL:Ｃ感覚 <= 3
	cReAction = %CALLNAME:TARGET%はくすぐったそうにしている………
ELSEIF ABL:Ｃ感覚 <= 5
	cReAction = %CALLNAME:TARGET%は愛撫に熱い吐息を漏らし始めている………
ELSE
	cReAction = %CALLNAME:TARGET%はトロンとした表情になってされるがままになっている………
ENDIF

;-------------------------------------------------
;315,陰蒂愛撫
;地の文開始
;-------------------------------------------------
PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の股間へ手を伸ばした……
;-------------------------------------------------
;315,陰蒂愛撫
;記入チェック（=0, 非表示、1, 表示）
;失敗　憤怒が付く
LOCAL = 1
;-------------------------------------------------
IF LOCAL && ( iAnger || CFLAG:ブチギレ ) && !iExFlag
	PRINTFORMDL %CALLNAME:TARGET%は素早く\@TEQUIP ? %K17_GET_CLOTHNAME_BOTTOM(TARGET,1)%#股間\@を押さえて、%CALLNAME:MASTER%の手を払いのけた
	PRINTW
	PRINTFORM 「やだっ……もうっ……」
	TRYCALL K17_人形台詞(-1,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
	RETURN 1
ENDIF
;-------------------------------------------------
;315,陰蒂愛撫
;記入チェック（=0, 非表示、1, 表示）
;失敗　憤怒が付く　RT条件満たしてる時　強引に
LOCAL = 1
;-------------------------------------------------
IF LOCAL && ( iAnger || CFLAG:ブチギレ ) && iExFlag
	PRINTFORMDL %CALLNAME:TARGET%は素早く\@TEQUIP ? %K17_GET_CLOTHNAME_BOTTOM(TARGET,1)%#股間\@を押さえ、%CALLNAME:MASTER%の手を拒んだ
	PRINTW
	;喘ぎのタイプを変える
	CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位C,K17C_受け_無理矢理系)
	;テキスト初期化
	cAction = %CALLNAME:MASTER%は嫌がる%CALLNAME:TARGET%に興奮を覚え
	IF TEQUIP:下半身着衣状況 & 1
		;とりあえずめくれるものはめくる
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM(TARGET)%を強引にめくり、"
	ELSEIF K17_GET_CLOTHNAME_BOTTOM(TARGET) != ""
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM(TARGET)%を脱がせ、"
	ENDIF
	;内袴チェック
	SIF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%も剥ぎ取り、\n"
	cAction += @"%K17_RS("露わ/剥き出し")%になった%cCli%をいじり続けた"
	PRINTFORML 「%K17_AP_NUM(2)%……ちょ、っと%K17_RS("やりすぎっ/激しすぎ")%%K17_RS("だめぇ/いやぁ/やだぁ")%%K17_AP_NUM(2,1)%」
	PRINTFORMDL %cAction%
	PRINTFORML 「%K17_CALL_P(K17C_部位C)%%K17_RS("やめて/いやだ/いじらないで")%ったら……%K17_AP_NUM(3,1)%」
	SIF K17_ABL_RT_EX(iRT,K17C_部位C)
		PRINTFORMDL %CALLNAME:TARGET%は嫌がりながらも感じてしまっている……
	RETURN 1
ENDIF
;-------------------------------------------------
;315,陰蒂愛撫
;記入チェック（=0, 非表示、1, 表示）
;初回成功　or　モブなしEX前　モブありのEX
;上ありならめくるだけ
LOCAL = 1
;-------------------------------------------------
IF LOCAL && FIRSTTIME(@"{SELECTCOM}口上",1) || (!iMOB && !iExFlag) || (iMOB && iExFlag)
	PRINTFORMDL %CALLNAME:TARGET%はびくりと反応すると、\@TEQUIP ? %K17_GET_CLOTHNAME_BOTTOM(TARGET,1)%#股間\@の上に置かれた%CALLNAME:MASTER%の手に手を重ねた
	PRINTW
	
	IF FIRSTTIME(@"{SELECTCOM}口上")
		PRINTFORM 「えっ……えっ……そ、そこ……触りたいの……？」
		TRYCALL K17_人形台詞(-1,1,K17_RS("チカン/エッチ/ヘンタイ"))
		PRINTFORMDL 思わず手を出してしまったけれど、嫌だっただろうか
		PRINTFORMDL %CALLNAME:TARGET%は答えずに、弱々しく手を重ね、顔を真っ赤にして目を瞑ってしまっている
	ELSE
		PRINTFORML 「またっぁそこっ、%K17_AP_NUM(2)%……%K17_RS("やさしくぅ/ゆっくりぃ/まってぇ")%、%K17_AP_NUM(1,1)%」
	ENDIF
	;-----------------
	;喘ぎタイプ選択
	;-----------------
	;友人がいれば嫌がり
	IF iFriends
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位C,K17C_受け_無理矢理系)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位C,K17C_受け_合意襲い系)
	ENDIF
	;初回は裙子めくってパンツ上から　パンツなかったら直
	cAction = %CALLNAME:MASTER%は%CALLNAME:TARGET%の
	IF TEQUIP:下半身着衣状況 & 1
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM(TARGET)%に手を%K17_RS("突っ込んで/差し込んで")%、"
		IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
			;裙子＆パンツ
			cAction += @"%cWet%%PANTS_DESCRIPTION(EQUIP:下半身内袴２)%%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%の上から\n"
			iTouch = 1
		ELSE
			;裙子ありノーパン
			cAction += "内袴を履いてなかった剥き出しの"
			iTouch = 0
		ENDIF
	ELSEIF TEQUIP:下半身着衣状況
		;裙子以外　服か内袴上から
		cAction += @"%cWet%%K17_GET_CLOTHNAME_BOTTOM(TARGET)%の上から"
		iTouch = RESULT
	ELSE
		;履いてないだと
		cAction += "剥き出しの"
		iTouch = 0
	ENDIF
	
	
	;裙子以外なにかあればクリの状態を書き直す
	;クリのタイプ選択　ついでに勃起度も
	IF !iTouch
		cCli =
		IF GETBIT(TALENT:TARGET:性別,1)
			SIF BASE:勃起 >= 1000
				cCli += "ぷっくりと目立つ、"
			cCli += K17_RS("兒童の様な/可愛らしい") + "Futanari"
		ELSE
			SIF PALAM:欲情 >= PALAMLV:4
				cCli += "ピンと目立つ、"
			cCli += K17_RS("クリトリス/突起")
		ENDIF
	ENDIF
	
	PRINTFORMDL %cAction%%cCli%を%cAction:1%
	;通常処理
	PRINTW
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	PRINTFORMDL %cReAction%
	PRINTW
	;股間の状態分岐
	SELECTCASE iTouch
		CASE 0
			PRINTFORML （これ……生で……ばかぁえっち%K17_HEART()%……）
		CASE 1
			PRINTFORML （これ……内袴が擦れて……ちょっと%K17_RS("痛い/もどかしい/むずむずする")%かも……）
		CASE 2
			PRINTFORML （これ……服が擦れて……ちょっと%K17_RS("痛い/もどかしい/むずむずする")%かも……）
	ENDSELECT
	;人がいるか見る
	IF iFriends
		PRINTFORML （声……でちゃう……%K17_CNAME(iFriends)%に%K17_RS("バレちゃう/声聞かれちゃう")%よぅ……）
	ELSEIF iMOB
		PRINTFORML （声……でちゃう……他の人に%K17_RS("バレちゃう/声聞かれちゃう")%よぅ……）
	ENDIF
	RETURN 1
ENDIF
;-------------------------------------------------
;315,陰蒂愛撫
;記入チェック（=0, 非表示、1, 表示）
;2回目移行　拡張
;ズラせないやつは回避
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iExFlag && !iMOB
	;--------------
	;裙子の中身を描写
	;-------------- 
	;濡れ具合の描写
	IF PALAM:潤滑 > PALAMLV:4
		cAction = ぐしょぐしょに濡れた
	ELSEIF PALAM:潤滑 > PALAMLV:2
		cAction = ほんのりと湿った
	ENDIF
	IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		;内袴あり
		cAction  += PANTS_DESCRIPTION(EQUIP:下半身内袴２)+K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)
	ELSE
		cAction += K17_RS("秘所/秘部/秘裂")+"と"+cCli
	ENDIF
	
	;-----------------
	;喘ぎタイプ選択　屋内のみおねだり
	;-----------------
	IF INROOM(CFLAG:現在位置)
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_おねだり系)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_お手伝い系)
	ENDIF
	
	;-----------------
	;表示開始
	;服をフレーバーで脱がせる
	;-----------------
	PRINTFORMDL %CALLNAME:TARGET%は%K17_RS("うっとりした表情で/顔を紅潮させ/甘い吐息を吐いて")%、\@TEQUIP ? %K17_GET_CLOTHNAME_BOTTOM(TARGET)%#股間\@の上に置かれた%CALLNAME:MASTER%の手に手を重ねた
	PRINTW
	;脱ぎ初回
	;内袴つけてるか見る
	IF FIRSTTIME(@"{SELECTCOM}口上-2",1) && K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		PRINTFORML 「あっ……待って、えっと……その……」
		PRINTFORMDL %CALLNAME:TARGET%は周囲を警戒しつつ、%CALLNAME:MASTER%に顔を寄せると小さな声で耳打ちをする
		PRINTFORML 「あのね、内袴の上からだと……痛いから……生で……ね？」
		PRINTFORML （いいよね……これくらい……だって痛いし、ね……うん）
		CALLF FIRSTTIME(@"{SELECTCOM}口上-2")
	ELSE
		PRINTFORML 「あっ……待って……ね」
	ENDIF
	PRINTW
	;見せつけ　既定値超えてたら65％
	IF iExFlag >= 2 && K17_PERCENT(65)
		PRINTFORML 「……はい、これで……その……しやすいでしょ？%K17_BLUSH()%　%K17_RS("やさしく/ゆっくり/乱暴にしないで")%……ね？」
		;裙子チェック
		IF TEQUIP:下半身着衣状況 & 1
			;裙子あり
			PRINTFORMDL %CALLNAME:TARGET%は%K17_GET_CLOTHNAME_BOTTOM(TARGET)%をゆっくりとたくし上げ、%CALLNAME:MASTER%の目の前で%cAction%を見せつけてきた……
		ELSE
			PRINTFORMDL %CALLNAME:TARGET%は自ら脚を開いて、%CALLNAME:MASTER%の目の前で%cAction%を見せつけてきた……
		ENDIF
		PRINTFORML 「%K17_RS("目が血走ってるわよ/喉が鳴ったわよ/えっちな顔してるわよ")%……%K17_RS("えっち/変態/すけべ")%……」
		;内袴チェック
		SIF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
			PRINTFORMDL そして%CALLNAME:TARGET%は自ら%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%をずらして%K17_RS("秘所/秘部/秘裂")%を露出させた
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の剥き出しの%cCli%を%cAction:1%

	;恥ずかしがり
	ELSE
		PRINTFORML 「その……%K17_RS("やさしく/ゆっくり/乱暴にしないで")%……ね？」
		;裙子チェック
		IF TEQUIP:下半身着衣状況 & 1
			;裙子あり
			PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM(TARGET)%をめくりあげ、%cAction%を晒すとむあっとした熱気を感じた
		ELSE
			PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の脚を開いて、%cAction%をマジマジと見つめた
		ENDIF
		;内袴チェック
		SIF TEQUIP:0 & 2
			PRINTFORMDL そして%CALLNAME:MASTER%は%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%をずらして秘部を露出させた
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の剥き出しの%cCli%を%cAction:1%
	ENDIF
	PRINTFORML 「%K17_AP_NUM(2)%……%K17_CALL_P(K17C_部位C)%%K17_RS("いいっ/気持ちっいいっ/感じちゃうっ")%%K17_AP_NUM(3,1)%」
	PRINTFORMDL %cReAction%
	PRINTFORML （やっぱり……%K17_RS("生/直/直接")%の方が……%K17_RS("好き/気持ちいい/感じちゃう")%）
	PRINTFORML 「%K17_AP_NUM(2)%%K17_RS("くりくり/こりこり/くにゅくにゅ")%ってするの%K17_RS("いいよぅ/好きなのぉ/もっとぉ")%%K17_HEART()%　……%K17_AP_NUM(2,1)%」
	RETURN 1
ENDIF
;-------------------------------------------------
;315,陰蒂愛撫
;記入チェック（=0, 非表示、1, 表示）
;2回目移行　モブあり汎用
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iMOB
	PRINTFORMDL %CALLNAME:TARGET%はびくりと反応すると、\@TEQUIP ? %K17_GET_CLOTHNAME_BOTTOM(TARGET)%#股間\@の上に置かれた%CALLNAME:MASTER%の手に手を重ねた
	PRINTW
	;-----------------
	;喘ぎタイプ選択
	;-----------------
	;友人がいれば嫌がり
	IF iFriends
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位C,K17C_受け_無理矢理系)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位C,K17C_受け_合意襲い系)
	ENDIF
	;汎用は一番上の服上から愛撫　すっぽんぽんなら直
	cAction = %CALLNAME:MASTER%は%CALLNAME:TARGET%の
	IF TEQUIP:下半身着衣状況
		cAction += @"%K17_GET_CLOTHNAME_BOTTOM(TARGET,1)%の上から"
		iTouch = RESULT
	ELSE
		;下半身丸出し
		cAction += @"剥き出しの"
	ENDIF
	;通常処理
	PRINTFORMDL %cAction%%cCli%を%cAction:1%
	PRINTFORML 「%K17_AUTO_PVOICE()%」
	PRINTFORMDL %cReAction%
	PRINTW
	;股間の状態分岐
	SELECTCASE iTouch
		CASE 0
			PRINTFORML （これ……生で……ばかぁえっち%K17_HEART()%……）
		CASE 1
			PRINTFORML （これ……内袴が擦れて……ちょっと%K17_RS("痛い/もどかしい/むずむずする")%かも……）
		CASE 2,3
			PRINTFORML （これ……服が擦れて……ちょっと%K17_RS("痛い/もどかしい/むずむずする")%かも……）
	ENDSELECT
	;人がいるか見る
	IF iFriends
		PRINTFORML （声……でちゃう……%K17_CNAME(iFriends)%に%K17_RS("バレちゃう/声聞かれちゃう")%よぅ……）
	ELSEIF iMOB
		PRINTFORML （声……でちゃう……他の人に%K17_RS("バレちゃう/声聞かれちゃう")%よぅ……）
	ENDIF
	RETURN 1
ENDIF
RETURN 1

;====================================================================================================
;316,手指挿入
;どれでも指は入れちゃう
;EXでは指フェラ追加
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_316
IF FLAG:時間停止 || CFLAG:うふふ==2 || CFLAG:TARGET:睡眠
	CALL TRAIN_MESSAGE
	TRYCALL M_KOJO_MESSAGE_COM_K17_睡眠愛撫
	SIF CFLAG:うふふ==2
		CALL M_KOJO_MESSAGE_COM_K17_316_うふふ
ELSE
	;CALL TRAIN_MESSAGE
	CALL K17_SKIP_TRAIN_MESSAGE
	CALL M_KOJO_MESSAGE_COM_K17_316_1
	PRINTW
	CALL K17_DATE_HITOGOMI_MESSAGE
ENDIF
RETURN 1
;-------------------------------------------------
;カウンターうふふ時のコマンド
;-------------------------------------------------
@M_KOJO_MESSAGE_COM_K17_316_うふふ
#DIM iType	;タイプ一時保存
iType = CFLAG:K17C_ID:K17C_CF_喘ぎタイプ
CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_受け_おねだり系
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(),K17C_部位V)
PRINTFORML 「%K17_AUTO_PVOICE()%」
CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = iType
PRINTW
RETURN 1
@M_KOJO_MESSAGE_COM_K17_316_1
;-------------------------------------------------
;日常コマンド
;-------------------------------------------------
;変数
;-------------------------------------------------
#DIM iRT			;EXでとって
#DIM iSub_TARGET	;愛麗絲以外のTARGET
#DIM iMOB			;モブの判定
#DIM iExFlag		;追加条件フラグ
#DIM iAnger			;このコマンド選択で怒るかどうか
#DIM iKiss			;チュパ音の感覚
#DIMS cAction		;感度による行動
#DIMS cReAction		;感度による反応
#DIMS cWet			;濡れ具合　+パンツor性器をつける
#DIMS cB_Action,2	;下半身服装についてのアクション 0服1内袴　剥ぎ取るとかめくるとかそういうの
#DIMS cALICE		;愛麗絲のセリフ
;-------------------------------------------------
;各種初期化
;-------------------------------------------------
iRT = K17_GRT_EX(TARGET)
iAnger = K17_CHECK_ANGER_COM(TARGET)
VARSET cAction
VARSET cB_Action
cReAction =
cWet =
iKiss = 0
;グローバルでやってみるので　RT、感覚部位を保存
CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位V)

;-------------------------------------------------
;モブ検索
;-------------------------------------------------
iMOB = 0
iSub_TARGET = 0
IF GET_TARGETNUM() > 1
	;愛麗絲以外のTARGETがいる
	iMOB = 1
	iSub_TARGET = K17_GET_TARGETS_ID()
ENDIF
;其他モブ
SIF (DATE_HITOGOMI() || WITH_MOB() == 9)
	iMOB = 1
;人いる時は喘ぎかたも変える
SIF iMOB
	CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位V,K17C_受け_無理矢理系)
;-------------------------------------------------
;追加条件式
;-------------------------------------------------
iExFlag = 0
;Ｃ感覚5以上＆思慕逢引以上
SIF ABL:Ｖ感覚 >= 5 && iRT >= K17C_思慕逢引 && BASE:情緒 >= 500 && !iMOB
	iExFlag = 1
;5未満なら　愛でカバー
SIF iRT >= K17C_恋慕 && BASE:情緒 >= 500 && !iMOB
	iExFlag = 2
;-------------------------------------------------
;服装判定
;-------------------------------------------------
;濡れ具合の描写
IF PALAM:潤滑 > PALAMLV:4
	cWet += "ぐしょぐしょに濡れた"
ELSEIF PALAM:潤滑 > PALAMLV:2
	cWet += "ほんのりと湿った"
ENDIF

IF TEQUIP:下半身着衣状況 & 1
	;裙子あり
	cB_Action:0 = %K17_GET_CLOTHNAME_BOTTOM(TARGET)%をめくり、
ENDIF
;内袴判定
IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
	;内袴あり
	cB_Action:1 = %cWet%%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%の隙間から%K17_RS("性器/秘所/秘裂")%に
ELSE
	cB_Action:1 = 剥き出しの%cWet%%K17_RS("性器/秘所/秘裂")%に
ENDIF
;-------------------------------------------------
;感覚判定　アクション
;-------------------------------------------------

IF TALENT:処女 == 1
	cAction = 、処女膜を傷つけないようゆっくりと指を挿入した……
ELSE
	;感覚判定
	IF ABL:Ｖ感覚 < 1
		cAction = 、ゆっくりと指を挿入した……
	ELSEIF ABL:Ｖ感覚 <= 2
		cAction = 指を挿入し、ゆっくりと動かした……
	ELSE
		;5から
		cAction = 指を挿入し、%K17_RS("かき混ぜるように/激しく/ポイントを探るように")%動かした……
	ENDIF
ENDIF
;-------------------------------------------------
;感覚判定　リアクション
;-------------------------------------------------
IF TALENT:処女
	cReAction = %CALLNAME:TARGET%は身を強張らせ、不安げな顔を%CALLNAME:MASTER%に向けている……
	
ELSE
	
	;感覚判定実数値
	IF ABL:Ｖ感覚 < 1
		cReAction = %CALLNAME:TARGET%は異物感が強いのか身を強ばらせている……
	ELSEIF ABL:Ｖ感覚 <= 4
		cReAction = %CALLNAME:TARGET%は愛撫に熱い吐息を漏らし始めている……
	ELSE
		;5から
		cReAction = %CALLNAME:TARGET%は涎をたらし、自ら腰を%K17_RS("突き出して/踊らせ/揺すって")%快楽を貪っている……
	ENDIF
	
ENDIF

;-------------------------------------------------
;地の文開始
;-------------------------------------------------
PRINTFORMDL %CALLNAME:PLAYER%は%CALLNAME:TARGET%の%cB_Action%%K17_RS("股間/秘所")%へ手を伸ばした……

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;316,指挿入れ
;失敗　憤怒付くやつ
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iAnger
	;タイプの変更
	CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位V,K17C_受け_無理矢理系)
	PRINTFORMDL %CALLNAME:TARGET%は素早く\@TEQUIP:下半身着衣状況 & 1 ? %K17_GET_SKIRT(TARGET)%#股間\@を押さえ、%CALLNAME:MASTER%の手を拒んだ
	PRINTW
	;描写変え
	;内袴判定　あだめだこれ
	;IF TEQUIP:0 & 2
	IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		;内袴あり
		cB_Action:1 = %cWet%%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%を剥ぎ取り%K17_RS("性器/秘所/秘裂")%に
	ELSE
		cB_Action:1 = むきだしの%cWet%%K17_RS("性器/秘所/秘裂")%に、
	ENDIF
	PRINTFORML 「%K17_AP_NUM(2)%……%K17_RS("乱暴に/激しく")%しすぎっ、%K17_AP_NUM(3,1)%」
	PRINTFORMDL %CALLNAME:MASTER%は嫌がる%CALLNAME:TARGET%に興奮を覚え、%cB_Action:1%指を突っ込んで%K17_RS("激しく/乱暴に")%かき混ぜる
	PRINTFORML 「きゃあっ！　%K17_AP_NUM(2)%%K17_RS("やめてぇ/やだぁ/いやぁ")%、もうっ%K17_AP_NUM(3,1)%」
	
	IF TALENT:処女
		PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:PLAYER%の指を拒むかのように太ももをきゅっと閉じている……
	ELSEIF K17_ABL_RT_EX(iRT,K17C_部位V)
		;補正付き感覚数値が0以外
		PRINTFORMDL %CALLNAME:TARGET%は嫌がりながらも感じてしまっていた……
	ENDIF
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;316,指挿入れ
;初回　EX前 人いるなど
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (FIRSTTIME(@"{SELECTCOM}口上",1) || !iExFlag)
	PRINTFORMDL %CALLNAME:TARGET%はびくりと反応すると、\@TEQUIP:下半身着衣状況 & 1 ? %K17_GET_SKIRT(TARGET)%#股間\@を手で押さえた
	PRINTW
	
	;人がいれば喘ぎタイプ変更
	IF iMOB
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位V,K17C_受け_無理矢理系)
		cALICE = 今はっ%K17_RS("だめぇ/やめてぇ/やだぁ")%
	ELSEIF TALENT:処女 != 0 &&  TALENT:処女 != -1
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位V,K17C_受け_合意襲い系)
		cALICE = 処女膜っ%K17_RS("なでなで/くるくる/すりすり")%っしないで、
	ELSEIF !TALENT:処女
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位V,K17C_受け_合意襲い系)
		;感覚判定口上
		SELECTCASE ABL:Ｖ感覚
			CASE IS < 1
				cALICE = %K17_RS("まだ変な感じ/ちょっと痛い")%、
			CASE IS <= 4
				cALICE = くちゅくちゅっ%K17_RS("いやぁ/だめぇ/やぁん")%、
			CASEELSE
				cALICE = くちゅくちゅっ%K17_RS("気持ちっよく/えっちに")%なっちゃうぅ、
		ENDSELECT
	ENDIF
	
	
	;初回　一応服着てるか、人いるかを見る
	IF FIRSTTIME(@"{SELECTCOM}口上",1) && TEQUIP:0 && !iMOB
		PRINTFORM 「ひゃぁっ！　えっ……えっ……そ、そこに指を、入れたい……の？」
		TRYCALL K17_人形台詞(-1,1,K17_RS("チカン/エッチ/ヘンタイ"))
		PRINTFORMDL 雰囲気に流されて思わず手を出してしまったが、嫌だったのだろうか
		;再生処女以外
		IF TALENT:処女==1 || TALENT:処女 == -1
			PRINTFORML 「えっと……わ、私……その経験ないの%K17_BLUSH()%　……だから絶対やさしく……よ？」
			PRINTFORMDL そう顔を真っ赤にして告白%CALLNAME:TARGET%
		ENDIF
		;無自覚
		SIF TALENT:処女 == -1
			PRINTFORMDL 既に開通済みだというのに、%CALLNAME:TARGET%は未だに処女だと思い込んでいるようだ……
		PRINTFORML 「触ってもいいけど……あんまり激しくしたら、だめぇ……なんだから……」
		CALLF FIRSTTIME(@"{SELECTCOM}口上")
	ELSE
		;二回目以降
		;人いるか見る
		IF iMOB
			PRINTFORML 「だめよっ、今はっ……%K17_AP_NUM(3,1)%」
		ELSE
			PRINTFORML 「%K17_RS("ひゃぁっ/ひゃぅん/はぅっ")%……%K17_RS("ゆっくり/やさしく")%……ね\@iRT >= K17C_恋慕? %K17_HEART()% # %K17_BLUSH()%\@　%K17_AP_NUM(2,1)%」
		ENDIF
	ENDIF
	PRINTW
	;アクション
	PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の%cB_Action:1%%cAction%
	PRINTFORML 「%K17_AP_NUM(2)%%cALICE%%K17_AP_NUM(3,1)%」
	
	;濡れ具合見るぐっしょりから 非処女　屋内　限定
	IF PALAM:潤滑 > PALAMLV:4 && !TALENT:処女 && INROOM(CFLAG:現在位置)
		PRINTW
		PRINTFORMDL %CALLNAME:MASTER%が指を動かす度に%CALLNAME:TARGET%の%K17_RS("秘所/秘裂/性器")%から%K17_RS("くちゅくちゅ/ぐちゅぐちゅ/ぴちゃぴちゃ")%と、音が静かな室内に%K17_RS("響いて/こだまして")%いた
		PRINTFORML 「音ぉっ、%K17_RS("だめぇ/出さないでぇ/やめてぇ")%%K17_AP_NUM(4,1)%」
	ENDIF
	
	;服装チェックする
	IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET) != ""
		PRINTFORML （これ……内袴が汚れちゃうよぅ……）
	ELSEIF K17_GET_CLOTHNAME_BOTTOM(TARGET) != ""
		;内袴なし服あり
		PRINTFORML （これ……服、汚れちゃうよぅ……）
	ENDIF
	;リアクション
	PRINTFORMDL %cReAction%
	
	IF K17_GET_FRIENDS(iSub_TARGET)
		PRINTW
		PRINTFORML （声抑えられないの……%K17_CNAME(iSub_TARGET)%に聞かれちゃう……）
		PRINTFORML （%K17_CNAME(iSub_TARGET)%に……えっちな娘だって思われちゃうよぅ……）
	ELSEIF iMOB
		PRINTW
		PRINTFORML （声抑えられないの……他の子に聞かれちゃう……）
	ENDIF
	
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;316,指挿入れ
;二回目以降 拡張　指フェラもする　二人きりなので音あり
LOCAL = 1
;-------------------------------------------------
IF LOCAL && iExFlag

	PRINTL

	PRINTFORML 「あ、待って……ね」
	PRINTFORMDL そう言って%CALLNAME:TARGET%は%CALLNAME:MASTER%の手を取った
	PRINTW
	
	;-----------------
	;喘ぎタイプ選択　屋内のみおねだり
	;-----------------
	IF INROOM(CFLAG:現在位置)
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_おねだり系)
	ELSE
		CALL K17_SET_AUTO_PVOICE(iRT,K17C_部位B,K17C_受け_お手伝い系)
	ENDIF
	
	IF TALENT:処女 != 0 &&  TALENT:処女 != -1
		cALICE = 処女膜っ%K17_RS("なでなで/くるくる/すりすり")%っされてる、
	ELSEIF !TALENT:処女
		;感覚判定口上
		SELECTCASE ABL:Ｖ感覚
			CASE IS < 1
				cALICE = %K17_RS("まだ変な感じ/ちょっと痛い")%、
			CASE IS <= 4
				cALICE = くちゅくちゅっ%K17_RS("気持ちっよく/えっちに")%なっちゃうぅ、
			CASEELSE
				cALICE = もっとぉ%K17_RS("気持ちっよく/欲しく/えっちに")%なっちゃうぅ、
		ENDSELECT
	ENDIF
	;M感覚見て2未満ならフレーバーで
	IF ABL:Ｍ感覚 >= 2
		iKiss = ABL:Ｍ感覚
	ELSE
		iKiss = -1
	ENDIF
	
	
	;初回
	IF FIRSTTIME(@"{SELECTCOM}口上-2")
		PRINTFORML 「前からちょっと言おうと思ってたんだけど……その……急にされると痛いから……ね」
		PRINTFORML 「んっ……じっと、してて……ねっ、%K17_チュパ音(K17C_受け_おねだり系,iKiss,3,1)%」
		PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の指を口に咥えて、唾液をまぶして舐め始めた
		PRINTW
	ELSE
		PRINTFORML 「はむっ%K17_HEART()%　……%K17_チュパ音(K17C_受け_おねだり系,iKiss,3,1)%」
		PRINTFORMDL %CALLNAME:TARGET%が%K17_RS("艶かしく/丁寧に")%%CALLNAME:MASTER%の指を%K17_RS("咥えて/しゃぶって")%濡らした
		
	ENDIF
	PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の指を咥えたまま、紅潮した顔で見上げてくる
	PRINTFORML 「これで……%K17_チュパ音(K17C_受け_おねだり系,iKiss,2)%……やさしく、ね……やりすぎちゃだめよ？」
	PRINTW
	
	;アクション
	PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の%cB_Action:1%%cAction%
	PRINTFORML 「%K17_AP_NUM(2)%%cALICE%%K17_AP_NUM(3,1)%」
	
	;濡れ具合見るぐっしょりから 非処女　屋内　限定
	IF PALAM:潤滑 > PALAMLV:4 && !TALENT:処女 && INROOM(CFLAG:現在位置)
		PRINTW
		PRINTFORMDL %CALLNAME:MASTER%が指を動かす度に、%CALLNAME:TARGET%の%K17_RS("秘所/秘裂/性器")%から%K17_RS("くちゅくちゅ/ぐちゅぐちゅ/ぴちゃぴちゃ")%と音が鳴る
		PRINTFORML 「音ぉっ、%K17_RS("恥ずかしい/やぁんだぁ/鳴らさっないでぇ")%%K17_AP_NUM(4,1)%」
	ENDIF
	
	;服装チェックする
	IF K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)  != ""
		PRINTFORML （これ……内袴が汚れちゃうよぅ……）
	ELSEIF K17_GET_CLOTHNAME_BOTTOM(TARGET) != ""
		;内袴なし服あり
		PRINTFORML （これ……服、汚れちゃうよぅ……）
	ENDIF
	;リアクション
	PRINTFORMDL %cReAction%
	
	
	RETURN 1
ENDIF

RETURN 1
;====================================================================================================
;317,Ｖ腰を振る
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_317
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_317_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_317_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(),K17C_部位V)
PRINTFORML 「%K17_AUTO_PVOICE()%」
ENDIF
RETURN 1
;====================================================================================================
;318,Ａ腰を振る
;====================================================================================================
;@M_KOJO_MESSAGE_COM_K17_318
;CALL TRAIN_MESSAGE
;CALL M_KOJO_MESSAGE_COM_K17_318_1
;RETURN RESULT

;@M_KOJO_MESSAGE_COM_K17_318_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;LOCAL = 0
;-------------------------------------------------
;IF LOCAL

;ENDIF
;RETURN 1

;====================================================================================================
;320,相手主導正常位
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_320
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_320_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_320_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(),K17C_部位V)
PRINTFORML 「%K17_AUTO_PVOICE()%」
ENDIF
RETURN 1
;====================================================================================================
;322,相手主導後背位
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_322
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_322_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_322_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL
CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(),K17C_部位V)
PRINTFORML 「%K17_AUTO_PVOICE()%」
ENDIF
RETURN 1

;====================================================================================================
;330,掀裙子
;コピペ整地 
;結局全部作り直し
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_330
IF FLAG:時間停止
	CALL TRAIN_MESSAGE
ELSE
	CALL K17_SKIP_TRAIN_MESSAGE
ENDIF
CALL M_KOJO_MESSAGE_COM_K17_330_1
CALL M_KOJO_MESSAGE_COM_K17_330_異常気象
RETURN 1

@M_KOJO_MESSAGE_COM_K17_330_1
#DIM iMOB = 0	;モブフラグ
#DIMS cPANTS	;裙子の中身の描写
#DIMS cALICE	;裙子の中身の口上
#DIMS cShade	;連れ込まれる場所
#DIM iDoll = 0	;人形フラグの入れ物
#DIM iOpen = 0	;見せつけ必要値
#DIM iRT = 0	;関係値 Exでとる
#DIM iAnger = 0 ;憤怒点灯を見る
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:時間停止

	;--------------------
	;各種初期化
	;--------------------
	iMOB = 0
	cShade =
	iOpen = 0
	iRT = K17_GRT_EX(TARGET)
	iAnger = K17_CHECK_ANGER_COM(TARGET)
	
	;他人がいるかチェック
	IF GET_TARGETNUM() == 1 && !DATE_HITOGOMI(CFLAG:PLAYER:現在位置) && !WITH_MOB()
		SIF ABL:露出癖 > 3
			iOpen = 1
	ELSE
		iMOB = 1
		SIF ABL:露出癖 >= 5
			iOpen = 1
	ENDIF
	;屋外チェック SHIGEMI
	IF INROOM(CFLAG:現在位置)
		cShade += "物陰"
	ELSE
		cShade += "茂み"
	ENDIF
	;裙子の中身
	VARSET cPANTS
	VARSET cALICE
	;ボディスーツ
	IF EQUIP:TARGET:緊身内衣 ||  EQUIP:TARGET:連体内衣
		IF CFLAG:ノーパン
			cPANTS += "くっきりと浮かぶ"
			IF GETBIT(TALENT:TARGET:性別,1)
				cPANTS += "突起"
			ELSE
				cPANTS += "割れ目"
			ENDIF
		ELSE
			cPANTS += SHOW_下半身内袴(TARGET,3)
			cALICE += "あそこ"
		ENDIF
	;パンツ
	ELSEIF !CFLAG:ノーパン
		IF GETBIT(TALENT:TARGET:性別,1)
			IF BASE:勃起 >= 1000
				cPANTS += "ぷっくりと目立つ突起"
			ELSE
				cPANTS += "目立つ突起"
			ENDIF
			cPANTS += "と、"
		ENDIF
		;濡れ具合
		IF PALAM:潤滑 > PALAMLV:4
			cPANTS += "ぐしょぐしょに濡れた"
		ELSEIF PALAM:潤滑 > PALAMLV:2
			cPANTS += "ほんのりと湿った"
		ENDIF
		;見せつけで描写変え
		IF iOpen
			cPANTS += PANTSNAME(EQUIP:TARGET:下半身内袴２)
		ELSE
			cPANTS += PANTS_DESCRIPTION(EQUIP:TARGET:下半身内袴２)+K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)
		ENDIF
		cALICE += K17_RS("パンツ/内袴/三角胖次")
		
	;性器
	ELSE
		IF GETBIT(TALENT:TARGET:性別,1)
			IF BASE:勃起 >= 1000
				cPANTS += "ピンとそそり立つ"
			ELSE
				cPANTS += "柔らかく垂れ下がる"
			ENDIF
			cPANTS += K17_RS("兒童の様な/可愛らしい") + "Futanariと"
		ENDIF
		IF PALAM:潤滑 > PALAMLV:4
			cPANTS += "太ももまで愛蜜をこぼす"
		ELSEIF PALAM:潤滑 > PALAMLV:2
			cPANTS += "ぬるりとした愛液に濡れた"
		ENDIF
		cPANTS += "剥き出しの"
		IF TALENT:体型 < 0
			cPANTS += K17_RS("幼いワレメ/幼いスジ")
		ELSE
			cPANTS += K17_RS("秘裂/秘所")
		ENDIF
		cALICE += K17_CALL_G(TARGET,0,1)
	ENDIF
	;人形ランダム
	iDoll = K17_GET_DOLL(-1)
	
	
	;--------------------
	;開始
	;--------------------
	IF CFLAG:うふふ == 2
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM(TARGET)%をめくり上げようと手を伸ばす……
		PRINTW
	ELSE
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM(TARGET)%をめくり上げようとした……
		PRINTW
	ENDIF
	;--------------------
	;条件式が長くなったので分割
	;一度判定で勝てたら、情緒値だけで勝てるように
	;--------------------
	RESULT = 0
	;未読＆好感度5000、RT_EXの思慕キス以上、情緒半分以上↑
	SIF FIRSTTIME(@"{SELECTCOM}口上",1) && (CFLAG:好感度 > 5000 && iRT > K17C_思慕キス && BASE:情緒 > 500)
		RESULT = 1
	;パンツ見せ既読＆情緒不足
	SIF !FIRSTTIME(@"{SELECTCOM}口上",1) && BASE:情緒 > 500
		RESULT = 1

	;--------------------
	;失敗
	;--------------------
	IF CFLAG:TARGET:ブチギレ == 1 || CFLAG:好感度 < 100 || TALENT:心情 == -1 || (iAnger && !RESULT)
		;拡張条件満たしてない時の失敗
		PRINTFORM 「%K17_RS("くっ/ひっ/このっ")%！！　%K17C_人形名:iDoll%\@iDoll ? #たち\@！！」
		TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
		PRINTFORMDL %CALLNAME:TARGET%は%K17_GET_CLOTHNAME_BOTTOM(TARGET)%を素早く押さえると、%CALLNAME:MASTER%にローキックを決め、最後に%K17C_人形名:iDoll%が槍で突き刺した
		PRINTW
		RETURN 1
	ELSEIF iAnger && RESULT
		;拡張条件満たしてる時の憤怒点灯
		PRINTFORM 「今は%K17_RS("だめ/いや/や")%だったら……もうっ」
		TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
		PRINTFORMDL %CALLNAME:TARGET%は嫌がって%K17_GET_CLOTHNAME_BOTTOM(TARGET)%を押さえている
		PRINTFORMDL %CALLNAME:MASTER%は構わず%K17_GET_CLOTHNAME_BOTTOM(TARGET)%をめくり、裾からチラチラと見え隠れする%cPANTS%を%K17_RS("鑑賞した/眺めた/覗いた")%
		PRINTW
		RETURN 1
	ENDIF
	
	;--------------------
	;汎用
	;--------------------
	IF !RESULT
		;好感度不足のうふふ中かな　なんかこれ出たんだよねぇ……
		IF CFLAG:うふふ == 2
			PRINTFORML 「%K17_RS("あんっ/やんっ/こらっ")%、今私の%cALICE%見ようとしたでしょ……だぁめ！」
			PRINTFORMDL もっとすごいことしてるんだけど……よくわからない
			PRINTW
			RETURN 1
		ENDIF
		SELECTCASE CFLAG:好感度
			CASE 100 TO 1000
				PRINTFORM 「%K17_RS("はっ/ふっ/このっ")%！！　%K17C_人形名:iDoll%\@iDoll ? #たち\@！！」
				TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/オトメノテキ/ヘンタイ"))
				PRINTFORMDL %CALLNAME:TARGET%は%K17_GET_CLOTHNAME_BOTTOM(TARGET)%を素早く押さえると、%CALLNAME:MASTER%は%K17C_人形名:iDoll%に襲われた
				
			CASE 1001 TO 3000
				PRINTFORM 「%K17_RS("やめなさい/やだ/いやだ")%ったら、%K17_RS("最低/最悪")%ね」
				TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/オトメノ　テキ/ヘンタイ"))
				PRINTFORMDL %CALLNAME:TARGET%は%K17_GET_CLOTHNAME_BOTTOM(TARGET)%を押さえ、%CALLNAME:MASTER%に抗議した
				
			CASE IS > 3001
				PRINTFORM 「%K17_RS("あんっ/やんっ/こらっ")%、%K17_RS("えっち/すけべ/変態/兒童")%ね、もうっばぁか」
				TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/スケベ/ヘンタイ/エッチ"))
				PRINTFORMDL %CALLNAME:TARGET%は%K17_GET_CLOTHNAME_BOTTOM(TARGET)%を押さえながら、どこか嬉しげに%CALLNAME:MASTER%に抗議した
				
		ENDSELECT
		;ラッキースケベ
		IF K17_LUCKY_SUKEBE(35) && !INROOM(CFLAG:現在位置)
			PRINTW
			PRINTFORMDL だが、その時一陣の風が吹き、%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM(TARGET)%をめくり上げた
			
			IF CFLAG:好感度 >= 1001
				IF CFLAG:ノーパン
					PRINTFORMDL めくり上がった裾から%HIP(TARGET)%がチラリと見えた
				ELSE
					PRINTFORMDL めくり上がった裾から%cPANTS%がチラリと見えた
				ENDIF
			ELSE
				PRINTFORMDL %THIGHS(TARGET)%がチラリと見えた
			ENDIF
			PRINTFORM 「きゃああっ、%K17_RS("なんでっ/どうしてっ/やだっ")%……%K17_RS("最低/最悪")%よ……」
			TRYCALL K17_人形台詞(iDoll,1,K17_RS("ラッキースケベ/キャー/ミエタ")+"！")
		ENDIF
		PRINTW
		RETURN 1
	ENDIF
	
	
	;--------------------
	;思慕か好感度5000↑の
	;押し倒され中
	;--------------------
	IF CFLAG:うふふ == 2
		PRINTFORML 「%K17_RS("やんっ/きゃん/にゃん")%%K17_HEART()%　そんなに私の%cALICE%見たいの？」
		PRINTFORMDL そう言って%K17_RS("腰/お尻")%を振りながら抗議する%CALLNAME:TARGET%
		PRINTFORMDL %K17_GET_CLOTHNAME_BOTTOM(TARGET)%から、チラチラ見える%cPANTS%を堪能した
		PRINTW
		RETURN 1
	ENDIF
	
	;--------------------
	;思慕か好感度5000↑
	;MOBありなしで反応分け
	;ありは露出癖5　なしは露出癖3で見せつけ
	;SIF PALAM:欲情 > PALAMLV:4　で期待
	;--------------------
	;--------------------
	;許可初回限定
	;--------------------
	IF FIRSTTIME(@"{SELECTCOM}口上")
		;人形チェック
		iDoll=K17_GET_DOLL(0)
		IF iDoll ==  K17C_人形数
			;両方平気なら上海優先
			iDoll = K17C_上海
		ENDIF
		PRINTFORM 「こらっ、なにしようとしてるの……えっち%K17_HEART()%」
		TRYCALL K17_人形台詞(iDoll,1,"スケベ")
		PRINTFORM 「そんなに内袴が気になるなら、%K17C_人形名:iDoll%のでも見てなさい」
		TRYCALL K17_人形台詞(iDoll,1,"キャー")
		PRINTFORMDL そう言って%K17C_人形名:iDoll%の掀起裙子と襯袴がチラリと見え、%CALLNAME:TARGET%が人形に照れたような演技をさせた
		IF CFLAG:K17C_ID:K17C_CF_上海イベント<=0
			PRINTFORMDL 本当に操作が上手で、まるで人形が生きているように見えた
		ELSE
			PRINTFORMDL 上海のことを考えると、ちょっと悪いと思った……
		ENDIF
		PRINTW
		PRINTFORML 「だいたい、女性の内袴を晒そうだなんて兒童じみたこと、やめなさい」
		PRINTFORMDL くどくどと説教する%CALLNAME:TARGET%だが、その時一陣の風が吹き、%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM(TARGET)%をめくり上げた
		PRINTFORM 「きゃああっ、やだっ……み、見えちゃった……？」
		TRYCALL K17_人形台詞(iDoll,1,"ミエタ！")
		IF CFLAG:ノーパン
			PRINTFORMDL めくり上がった裾からお尻がチラリと見えた気がする……
		ELSE
			PRINTFORMDL めくり上がった裾から内袴がチラリと見えた気がする……
		ENDIF
		PRINTFORML 「わっ……忘れ……なさい%K17_BLUSH()%」
		PRINTFORMDL もっとしっかり見たかった……
		PRINTW
		PRINTFORML 「うぅ……そんなに……見たい……の？」
		PRINTFORMDL なんだか見せてくれそうな雰囲気だったので、%CALLNAME:MASTER%は壁まで迫り%CALLNAME:TARGET%の顔の横へ手を付いて口説いた
		PRINTFORM （きゃーきゃー……なんでこんな……必死なの……）
		TRYCALL K17_人形台詞(iDoll,1,"バカジャネーノ")
		PRINTFORML 「まって、わかった、わかったから……あんまり騒いじゃだめ……」
		PRINTFORMDL どうやら%CALLNAME:TARGET%は内袴のことより、周りの方が気になるようだった
		
	;--------------------
	;二回目以降ここから
	;--------------------
	ELSE
		PRINTFORM 「%K17_RS("あんっ/やんっ/こらっ")%、……また見たくなっちゃったの？　%K17_RS("えっち/変態/すけべ")%」
		TRYCALL K17_人形台詞(iDoll,1,K17_RS("チカン/スケベ/ヘンタイ/エッチ"))
		PRINTFORML 「こんな場所じゃだめって言ってるでしょ……」
		PRINTFORMDL そう言って%CALLNAME:TARGET%は周囲を警戒した
	ENDIF
	
	;他キャラ、モブチェック
	IF iMOB || DATE_HITOGOMI(CFLAG:PLAYER:現在位置) || WITH_MOB()
		PRINTFORML 「晒すのは%K17_RS("いや/だめ/禁止")%……ね？　お願い……見てもいいけど、%K17_CNAME()%だけ、ね」
	ELSE
		PRINTFORML 「見せるのは%K17_CNAME()%だけ……%K17_RS("内緒/秘密")%……よ？」
	ENDIF
	PRINTFORMDL %CALLNAME:TARGET%はそう%CALLNAME:MASTER%の耳元で囁いて、手を引いて%cShade%に連れて行った
	
	;モブ描写先にやっちゃう
	CALL K17_DATE_HITOGOMI_MESSAGE
	PRINTW
	
	;見せつけ　既定値超えてたら65％
	IF iOpen && K17_PERCENT(65)
		IF EQUIP:下半身内袴２
			;今日のパンツあり
			PRINTFORML 「……はい、今日は%PANTSNAME(EQUIP:下半身内袴２)%%K17_RS("よ/でした")%……%K17_RS("じっくり/どうぞ/内緒で")%見て、ね%K17_BLUSH()%」
		ELSE
			;其他
			PRINTFORML 「……はい、%CALLNAME:TARGET%の%cALICE%……%K17_RS("じっくり/どうぞ/内緒で")%見て、ね%K17_BLUSH()%」
		ENDIF
		PRINTFORMDL %CALLNAME:TARGET%は自ら%K17_GET_SKIRT(TARGET)%をゆっくりとたくし上げ、%CALLNAME:MASTER%の目の前で%cPANTS%を見せつけてきた……
		PRINTFORML 「そんなにがっついちゃって……%K17_RS("えっち/変態/すけべ")%……」
		PRINTFORML 「%K17_RS("ひゃん/あぁん/にゃん")%%K17_HEART()%　もうっ興奮しすぎ、鼻息当たってるってば……」
	;恥ずかしがり
	ELSE
		PRINTFORML 「恥ずかしいから……%K17_CNAME()%が%K17_GET_SKIRT(TARGET)%めくって……？」
		PRINTFORMDL そう言われて%CALLNAME:MASTER%は%K17_GET_SKIRT(TARGET)%を勢い良くめくろうとするが手で押さえられてしまう
		PRINTFORML 「めっ、めくりすぎよっ……ちょっと……だけ」
		PRINTFORMDL 仕方がないので%CALLNAME:MASTER%は%CALLNAME:TARGET%の%K17_GET_SKIRT(TARGET)%に顔を突っ込み、じっくり%cPANTS%を%K17_RS("鑑賞した/眺めた/覗いた")%
		PRINTFORML 「%K17_RS("ひゃ～ん/きゃぁ～ん/ばかぁ～ん")%、もうっ%K17_RS("えっち/変態/すけべ")%」
	ENDIF
	
	;神綺様優先 バレるのか心配するのは友人だけでいいかな
	IF iMOB
		RESULT = K17_GET_FRIENDS_TARGET()
		SIF RESULT
			PRINTFORML （バレちゃう……%K17_CNAME(RESULT)%にバレちゃうよ……）
	ENDIF
	
	IF PALAM:欲情 > PALAMLV:4 && !iMOB
		PRINTW
		PRINTFORML 「ねぇ……見るだけ……なの？」
		PRINTFORMDL %CALLNAME:TARGET%の瞳は潤み、%CALLNAME:MASTER%に何かを期待するような視線を送っている…
	ENDIF
	PRINTW
ENDIF
RETURN 1

;====================================================================================================
;330,掀裙子　異常気象
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_330_異常気象
#DIM MEKURI
SIF FLAG:異常気象 != 6
	RETURN 0

;獲得ソースコピペ
MEKURI = MAX(0,3000 - 300 * ABL:親密)
SELECTCASE MARK:反発刻印
	CASE 0
		MEKURI /= 2
	CASE 2
		MEKURI *= 2
	CASE 3
		MEKURI *= 4
ENDSELECT

;快楽値0ならそのまま戻し
SIF !MEKURI
	RETURN 0
	
;-----------------------------
;異常気象で快楽を得た
;-----------------------------
PRINTFORML 「？？……%K17_RS("ひぅ/ひゃう/ひっ")%……ぁんっ%K17_HEART()%」
PRINTFORMDL %CALLNAME:TARGET%は内股になり股間をくねらせると慌てて、口を押さえた
PRINTFORML （なっ……なんで！？　%K17_CALL_P(K17C_部位V)%っ気持ちよくなってるぅ……！？）
PRINTW
RETURN 1

;====================================================================================================
;331,泡茶（下薬）
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_331
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_331_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_331_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;333,聽牢騷
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_333
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_333_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_333_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL
	SELECTCASE TFLAG:193
		CASE 6
		;大成功（酔い）
		CASE 5
		;成功（酔い）
		CASE 4
		;失敗（酔い）
		CASE 3
		;大成功
		CASE 2
		;成功
		CASE 1
		;失敗
	ENDSELECT
ENDIF
RETURN 1
;====================================================================================================
;334,盃を交わす
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_334
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_334_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_334_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL
	SELECTCASE TFLAG:193
		CASE 1
		;大成功
		CASE 0
		;成功
		CASE -1
		;失敗
	ENDSELECT
ENDIF
RETURN 1
;====================================================================================================
;335,照料
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_335
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_335_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_335_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL
	SELECTCASE TFLAG:193
		CASE 1
		;大成功
		CASE 0
		;成功
		CASE -1
		;失敗
	ENDSELECT
ENDIF
RETURN 1

;====================================================================================================
;336,膝枕
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_336
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_336_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_336_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;336,膝枕
;成功
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 > 0
	PRINTFORML 「……%K17_RS("ふにゃ/はにゃ/んにゃ")%？　あっ……眠っちゃってたのね……」
	PRINTFORML 「あぅ……%K17_CNAME()%に寝顔見られちゃうなんて、はっ、恥ずかしいわ%K17_BLUSH()%」
	PRINTFORMDL 眠っている間も%CALLNAME:TARGET%の%K17_RS("頭/髪/おでこ")%を、%CALLNAME:MASTER%は優しく撫で続けていた
	PRINTFORML 「ありがとう、%K17_CNAME()%。なんだか%K17_RS("安心しちゃって/安らいじゃって/甘えちゃって")%、気持ちよく眠っていたわ」
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;336,膝枕
;汎用　親密別
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	SELECTCASE ABL:TARGET:親密
		CASE IS < 5
			;PRINTFORML %CALLNAME:TARGET%は居心地悪そうにしている…
			PRINTFORML 「えっと、こうかしら……平気？　重くない？」
			PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の膝の上に控えめに頭を乗せて、何度も体勢を直していた
		CASE 5 TO 9
			;PRINTFORML %CALLNAME:TARGET%は気恥ずかしそうだ……
			PRINTFORML 「うーん……なんていうか、%K17_RS("恥ずかしい/照れちゃう/赤くなっちゃう")%わ……」
			PRINTFORMDL 緊張した面持ちの%CALLNAME:TARGET%の%K17_RS("頭/髪/おでこ")%を、%CALLNAME:MASTER%は優しく撫で続けた
		CASEELSE
			;PRINTFORML %CALLNAME:TARGET%は幸せそうだ……
			PRINTFORML 「%K17_RS("ふにゃ/にゃう/ふにー")%……ふふっ、なんだか幸せね……」
			PRINTFORMDL 膝の上で甘えてくる%CALLNAME:TARGET%の%K17_RS("頭/髪/おでこ")%を、%CALLNAME:MASTER%は優しく撫で続けた
	ENDSELECT
	
ENDIF
RETURN 1

;====================================================================================================
;350,推倒（時姦時猥褻
;TFLAG:194 (0=成功 1=人目がある　2=野外は嫌でござりまする　3=多人数プレイは勘弁　4=合意があっても情緒が足りぬ）
;TCVAR:抱き寄せ初回　1=普通に合意ゲット　2=先にキスぐらいしろよ　3=媚薬or発情には勝てなかったよお…　4=悔しい…刻印さえなければﾋﾞｸﾋﾞｸﾝ
;5=強引に迫られると断れぬ(素質胆怯持ち専用) 6=まんざらでもない　7=駄目　8=論外
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_350
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_睡眠
IF !RESULT
	CALL M_KOJO_MESSAGE_COM_K17_350_1
ENDIF
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_350_1
#DIM iFriends		;友人がいるか見る
#DIM iFriends_Room	;現在位置が友人部屋か見る
;現在値の友人検索
iFriends = K17_GET_FRIENDS_TARGET(TARGET)
iFriends_Room = K17_GET_FRIENDS_ROOM(TARGET)
TCVAR:K17C_ID:K17C_TC_中出しカウント = 0
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;350,推倒
;失敗パターン
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194
	SELECTCASE TFLAG:194
		;---------------
		;人目があるor野外拒否
		;---------------
		CASE 1,2
			IF CFLAG:TARGET:既成事実 & 合意_うふふ
				;合意取得後
				SELECTCASE K17_GRT(TARGET)
					CASE IS >= K17C_恋慕告白
						PRINTFORML 「だぁめ……二人っきりになれる場所で……ね？」
					CASE IS >= K17C_思慕うふふ
						;合意取得後
						PRINTFORML 「だっ……だめよ、こんなところで……誰かに%K17_RS("見られちゃう/見つかっちゃう")%……」
					CASEELSE
						PRINTFORML 「何考えてるのよっ、こんなところで、%K17_RS("ダメ/イヤ")%に決まってるでしょ」
				ENDSELECT
			ELSE
				;合意取得前
				PRINTFORML 「なっ……何考えてるのよ、%K17_RS("ダメ/イヤ")%に決まってるでしょっ」
			ENDIF
		;---------------
		;乱交拒否
		;---------------
		CASE 3
			PRINTFORML 「いっ……一緒にだなんて……無理よ……ばかっ」
		;---------------
		;情緒不足
		;---------------
		CASE 4
			PRINTFORML 「%K17_RS("もうっ/やだっ/だめっ")%……いくらなんでも%K17_RS("がっつき/即物的")%過ぎよ」
			PRINTFORML 「もう少し情緒も考えて……」
		;---------------
		;酔姦時　目撃者いる
		;---------------
		CASE 5
			PRINTFORML 「ふぇ～……なぁにしようとしたの？」
	ENDSELECT
	IF iFriends && !TCVAR:泥酔
		PRINTW
		PRINTFORML （%K17_CNAME(iFriends)%に%K17_RS("見られちゃう/見られながら")%なんて……%K17_RS("無理/だめ")%よぅ……）
	ENDIF
	PRINTW
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;350,推倒
;泥酔
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TCVAR:泥酔
	;-----------
	;開始時の主導権
	;溜まってる度の一時保存
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_おねだり系)
	TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
	TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
	PRINTFORML 「ふぇ～……なにするの～えへへ……」
	PRINTFORML （あー……これいつもの妄想かぁ……）
	PRINTFORMDL 前後不覚な%CALLNAME:TARGET%は夢でも見ているのだと、勘違いしているようだった……
	PRINTW
	RETURN 1
ENDIF
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;350,推倒
;成功　初回
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0 && TCVAR:抱き寄せ初回

	;初回判定
	SELECTCASE TCVAR:抱き寄せ初回
		;---------------
		;キスもしてない
		;---------------
		CASE 2
			PRINTFORML 「あっ……えーと……ふぅ……そういうことなのね……」
			PRINTFORML （まだチューもしてないのに……こんな……）
			;-----------
			;開始時の主導権
			;溜まってる度の一時保存
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_お手伝い系)
			TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
			TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
		;---------------
		;薬盛られた　時止めで開発された
		;---------------
		CASE 3,4
			PRINTFORML 「はぁはぁ……%K17_HEART()%」
			PRINTFORMDL %CALLNAME:TARGET%は顔を紅潮させて、コクリと頷いてしまった……
			PRINTFORML （しちゃう……の？　だって身体……したがっちゃってる……なんで？）
			;-----------
			;開始時の主導権
			;溜まってる度の一時保存
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_合意襲い系)
			TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
			TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
		;---------------
		;胆怯
		;---------------
		CASE 5
			PRINTFORML 「ひっ……ら、乱暴しないで……言うこと聞くから……」
			PRINTFORMDL %CALLNAME:TARGET%は怯えた様子で、%CALLNAME:MASTER%を受け入れてしまった……
			;-----------
			;開始時の主導権
			;溜まってる度の一時保存
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_無理矢理系)
			TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
			TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
		;---------------
		;先っちょだけ
		;---------------
		CASE 9
			PRINTFORML 「はぁはぁ……%K17_HEART()%」
			PRINTFORMDL %CALLNAME:TARGET%は顔を紅潮させて、コクリと頷いてしまった……
			PRINTFORML 「でも……本番えっちは……だめっ……お願い……」
			;-----------
			;開始時の主導権
			;溜まってる度の一時保存
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_お手伝い系)
			TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
			TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
		;---------------
		;↓拒否
		;---------------
		;まんざらでもない
		;---------------
		CASE 6
			PRINTFORML 「まっ……まだ……だめ……よ」
			PRINTFORML 「心の準備がまだなの……ごめんなさい」
			PRINTFORML （やっぱり……そういうこと……したいのね……%K17_CNAME()%）
		;---------------
		;あしらい
		;---------------
		CASE 7
			PRINTFORM 「ちょ……やめなさいよっ、私そんな%K17_RS("安い/軽い")%女じゃないわよっ」
			TRYCALL K17_人形台詞(-1,1,K17_RS("ヘンタイ！/バカジャネーノ！/スケベ！"))
		;---------------
		;悲鳴
		;---------------
		CASE 8
			PRINTFORM 「きゃあああっ！！　なっ、なにするのよっ」
			TRYCALL K17_人形台詞(-1,1,"ヘンタイ！")

		;---------------
		;合意初回コピペ　胆量系カット
		;---------------
		CASE 1
			IF TALENT:恋慕 && TALENT:恋人
				;PRINTFORML %CALLNAME:TARGET%も%CALLNAME:MASTER%に腕を回し抱き返してきた… 
				PRINTFORML 「やっと……その気になったんだ……」
				PRINTFORMDL 待たせてしまったのだろうか……
				PRINTFORML 「もうっ、こういうことに興味ないのかと思ったわよ」
				PRINTFORMDL 安心したように%CALLNAME:MASTER%に身体を委ねた……
			ELSEIF TALENT:調合知識
				;PRINTFORML %CALLNAME:TARGET%はあたふたしている…
				PRINTFORML 「えっ……えっ……しちゃう……の？」
				PRINTFORML （されちゃうの？　あんなことやこんなこと……）
				PRINTFORML 「っ～～～～～%K17_BLUSH()%」
				PRINTFORMDL なぜか%CALLNAME:TARGET%は急にそわそわしだし、顔を真っ赤にして俯いて固まってしまっていた……
				PRINTW
				PRINTFORML （えっち！　すけべ！　変態！）
				PRINTFORMDL 今度はなにかぶつぶつと呟きながら、しきりに両足をもじもじとしだす
				PRINTFORML 「その……最初だから……普通に、普通によ？」
				PRINTFORMDL なにを想像していたんだろう……
			ELSEIF TALENT:幼稚
				;PRINTFORML %CALLNAME:TARGET%はよくわかっていないようだ…
				PRINTFORML 「なぁに？　なにするの？」
			
			ELSE
				;PRINTFORML %CALLNAME:TARGET%は覚悟を決めたような目で%CALLNAME:MASTER%を見つめている…
				IF TALENT:処女 == -1 || TALENT:処女 == 1
					PRINTFORML 「……う、うん……」
					PRINTFORMDL %CALLNAME:TARGET%は蚊の鳴くような声で、小さく頷いた
				ELSE
					PRINTFORML 「いっ……いいよ？　……でも最初だから……そのやさしく……ね？」
				ENDIF
			ENDIF
			
			;処女判定　幼稚ならスキップでいいかな
			IF (TALENT:処女 == -1 || TALENT:処女 == 1) && !TALENT:幼稚
				;PRINTFORM %CALLNAME:TARGET%は不安と期待が入り混じったような表情を浮かべている…
				PRINTW
				IF TALENT:恋慕 || TALENT:恋人
					PRINTFORML 「その……わたっ……私、初めて、なの……だから、やさしく……ね？」
					PRINTFORMDL %CALLNAME:TARGET%は顔を真赤にしてそう%CALLNAME:MASTER%に伝えた
				ELSE
					PRINTFORML 「わ、私まだ……経験なくて……心の準備できてないの……だから、本番はちょっと待って、ね？」
					PRINTFORMDL %CALLNAME:TARGET%は顔を真赤にしてそう%CALLNAME:MASTER%に伝えた
				ENDIF
				SIF TALENT:処女 == -1
					PRINTFORMDL 既に開通済みだというのに、%CALLNAME:TARGET%は未だに処女だと思い込んでいるようだ……
			ENDIF
			;-----------
			;開始時の主導権
			;溜まってる度の一時保存
			;-----------
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_おねだり系)
			TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
			TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度

	ENDSELECT
	PRINTW
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;350,推倒
;成功　乱交　情事発覚のコピペ
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0 && GET_TARGETNUM() > 1
	
	;-----------
	;開始時の主導権
	;溜まってる度の一時保存
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_お手伝い系)
	TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
	TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
	
	
	;誰が居るかみる　友達優先
	iFriends = K17_GET_TARGETS_ID()
	
	;知り合いか見る
	SELECTCASE iFriends
		;気安い系
		CASE K17C_霊夢ID,K17C_魔理沙ID,K17C_琶秋莉ID,K17C_幽香ID,K17C_咲夜ID,K17C_梅蒂欣ID
			;愛麗絲が恋人な場合
			IF TALENT:TARGET:恋人
				PRINTFORML 「まったく……%K17_CNAME(iFriends)%と一緒にだなんて……」
				
			;相手が恋人か見る　あわわわ……
			ELSEIF TALENT:iFriends:恋人
				PRINTFORML 「%K17_CNAME(iFriends)%と一緒にって……」
				
			ELSE
				PRINTFORML 「%K17_CNAME(iFriends)%？」
				
			ENDIF
		;尊敬系
		CASE K17C_魅魔ID,K17C_露易茲ID
			
			;愛麗絲が恋人な場合
			IF TALENT:TARGET:恋人
				PRINTFORML 「まったく……%K17_CNAME(iFriends)%にも手を出していたのね……」
				PRINTFORML 「一緒にするのはいいけど……緊張するわ……」
			ENDIF
			
		;神綺様　夢子限定
		CASE K17C_神綺ID,K17C_夢子ID
			;愛麗絲が恋人な場合
			IF TALENT:TARGET:恋人
				IF FIRSTTIME(@"修羅場{iFriends}",1) && FIRSTTIME(@"{SELECTCOM}口上{iFriends}")
					PRINTFORML 「えっ、えっ……%K17_CNAME(iFriends)%と一緒にって、どういうことよ！？」
					PRINTFORMDL %CALLNAME:TARGET%は珍しくかなり動揺して、%CALLNAME:MASTER%に驚いた顔を向けた
					PRINTW
					PRINTFORML 「まったく……%K17_CNAME(iFriends)%にも手を出していたのね……いつからよ……」
					PRINTFORMDL %CALLNAME:iFriends%は『%CALLNAME:TARGET%\@iFriends==K17C_神綺ID ? ちゃん#\@、違うの！』と言い訳していた……
					PRINTFORMDL なんだか空気が一変した……
					PRINTFORMDL ……
					PRINTFORMDL …………
					PRINTFORMDW ………………
					PRINTFORML 「まあ……二人でコソコソされるのは……いや、だし……一緒にでも……いいけど」
					PRINTFORML 「あんまり%K17_CNAME(iFriends)%と比べちゃだめよ？」
					;PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:iFriends%に対抗意識があるようだった
					PRINTW
				ELSE
					;二回目以降
					PRINTFORML 「えっと……また……%K17_CNAME(iFriends)%と一緒に、なの……」
					PRINTFORMDL %CALLNAME:TARGET%は少し呆れた様子でため息を付き、%CALLNAME:MASTER%と%CALLNAME:iFriends%の間に割って入ってきた
					PRINTFORML 「あんまり%K17_CNAME(iFriends)%と比べちゃだめよ？」
					PRINTFORMDL %CALLNAME:iFriends%はまた『%CALLNAME:TARGET%\@iFriends==K17C_神綺ID ? ちゃん#\@、違うの……』と言い訳していた……
					
				ENDIF
			;神綺様が恋人
			ELSEIF TALENT:iFriends:恋人
				PRINTFORML 「えっ、えっ……%K17_CNAME(iFriends)%と一緒にっ！？」
				
			ELSE
				PRINTFORML 「まったく……よりにもよって%K17_CNAME(iFriends)%と一緒にだなんて……」
				
			ENDIF
	ENDSELECT
	TRYCALL K17_乱交開始(iFriends)
	PRINTW
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;350,推倒
;成功　野外
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0 && !(INROOM(CFLAG:現在位置))
	;-----------
	;開始時の主導権
	;溜まってる度の一時保存
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_お手伝い系)
	TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
	TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
	
	PRINTFORML 「こんな場所で……%K17_RS("したいの/するの")%？　もうっ、%K17_RS("変態/ばかぁ")%」
	PRINTFORMDL %CALLNAME:TARGET%は周囲を警戒しながら、緊張した面持ちで%CALLNAME:MASTER%に%K17_RS("身を委ねた/体を預けた")%
	PRINTW
	RETURN 1
ENDIF


;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;350,推倒
;成功　友人部屋（初期位置）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0 && iFriends_Room
	
	PRINTFORML 「ちょ、こんな場所で……%K17_RS("したいの/するの")%？　%K17_RS("あんっ/やんっ/ひゃん")%%K17_HEART()%　%K17_RS("だめぇ/いやぁ")%……」
	PRINTFORML 「待って、ここはやめましょう……？　私的房間で……ねっ？　ね？」
	PRINTFORML （%K17_CNAME(iFriends_Room)%にバレちゃうよぅ……）
	PRINTW
	
	;-----------
	;開始時の主導権
	;溜まってる度の一時保存
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_合意襲い系)
	TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
	TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
	
	
	PRINTFORMDL 口では拒否するがその力は弱く、%CALLNAME:MASTER%は構わず%CALLNAME:TARGET%%K17_RS("に覆いかぶさった/を押し倒した")%
	PRINTFORML 「%K17_RS("あんっ/やんっ/ひゃん")%、ばかぁ……」
	PRINTW
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;350,推倒
;成功　汎用
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:194 == 0

	;-----------
	;開始時の主導権
	;溜まってる度の一時保存
	;-----------
	CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_おねだり系)
	TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
	TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
	
	;心情悪くても押したせたので無理矢理に
	IF TALENT:心情 == -1
		CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_無理矢理系)
		PRINTFORML 「ごめんなさい、今はそんな気になれ……ひゃぁう！」
		PRINTFORMDL %CALLNAME:TARGET%の心情など構わず%CALLNAME:MASTER%は抱き寄せた
		PRINTW
		RETURN 1
	ENDIF
	
	
	;二回目以降　通常処理
	SELECTCASE K17_GRT_EX()
		CASE IS >= K17C_恋人
			;喘ぎ選択つくる
			CALL K17_押し倒し喘ぎタイプ選択
			SIF RESULT
				RETURN 1
			PRINTFORML 「%K17_RS("したいの/するの")%？　うん……いいわよ%K17_HEART()%」
			PRINTFORML 「今日も沢山……%K17_RS("愛してね？/可愛がってね？/気持ちよくさせてね？")%　%K17_CNAME(MASTER,1)%」
			PRINTFORMDL %CALLNAME:TARGET%は潤んだ瞳を%CALLNAME:MASTER%に向け、%K17_RS("うっとりした表情で/頬を紅潮させ/期待に満ちた眼差しで/熱い吐息をついて")%身体を委ねてきた
			
		CASE IS >= K17C_恋慕
			PRINTFORML 「また……するの……？」
			PRINTFORML 「今日も沢山……%K17_RS("愛してね？/可愛がってね？/気持ちよくさせてね？")%　%K17_CNAME(MASTER,1)%」
			PRINTFORMDL %CALLNAME:TARGET%は潤んだ瞳を%CALLNAME:MASTER%に向け、%K17_RS("うっとりした表情で/頬を紅潮させ/期待に満ちた眼差しで/熱い吐息をついて")%身体を委ねてきた
		CASE IS >= K17C_思慕
			PRINTFORML 「また……したいの……？」
			PRINTFORML 「%K17_RS("い……いいよ/わ……わかった/……うん")%……好きよ、%K17_CNAME(MASTER,1)%」
			PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうにコクリと頷き、緊張して%K17_RS("身体を強張らせながら/びくりと反応しながら/少しだけ震えながら")%%CALLNAME:MASTER%に身を任せた
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_お手伝い系)
		CASEELSE
			PRINTFORML 「もうっ、%K17_RS("けだもの/えっちね/すぐこれなんだから")%……」
			PRINTFORMDL %CALLNAME:TARGET%は口ではそう言いながらも、緊張してそわそわしていた
			CALL K17_SET_AUTO_PVOICE(K17_GRT_EX(TARGET),-1,K17C_受け_お手伝い系)
	ENDSELECT
	PRINTW
ENDIF
RETURN 1
;====================================================================================================
;351,帯出去
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_351
;連れ出しにはTRAIN_MESSAGEが無い
CALL M_KOJO_MESSAGE_COM_K17_351_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_351_1
#DIM iFriends = 0
#DIM iMOB = 0
#DIMS cMove
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:時間停止
	PRINTL
	;泥酔
	IF TCVAR:(TARGET:LOCAL):泥酔
		PRINTFORML 「ふぇ～……どこ連れていくの～えへへ……」
		PRINTW
		RETURN 1
	ENDIF
	
	;友達優先で同行している人を尋找
	iFriends = 0
	iMOB = 0
	;MASTERに同行がついてる場合　誰かを尋找
	IF CFLAG:MASTER:同行
		;友達を見る
		FOR i,0,K17C_友人人数
			IF CFLAG:(K17C_友人ID:i):同行
				iFriends = K17C_友人ID:i
				BREAK
			ENDIF
		NEXT
		;普通に見る
		IF !iFriends
			FOR i,1,CHARANUM
				IF (CFLAG:(TARGET:i):同行) && TARGET:i != K17C_ID
					iMOB = TARGET:i
					BREAK
				ENDIF
			NEXT
		ENDIF
	ENDIF
	
	;二人の移動方式を選択
	VARSET cMove
	IF ( !FIRSTTIME(@"311デート移動",1) && K17_LUCKY_SUKEBE(30) ) && (!iFriends && !iMOB)
		;腕抱き経験済み
		cMove = %CALLNAME:TARGET%は自然と%CALLNAME:MASTER%の腕に抱き付いて、%K17_RS("おっぱい/胸")%を%K17_RS("押し付け/押し当て")%ながらついてきた
	ELSEIF ( !FIRSTTIME(603,1) || !FIRSTTIME(@"身体接触0",1) ) && (!iFriends && !iMOB)
		;牽手経験済み
		IF K17_LUCKY_SUKEBE(40)
			cMove = %CALLNAME:TARGET%は少し%K17_RS("顔を赤らめて/照れたように")%、%CALLNAME:MASTER%の手を握ってついてきた
		ELSE
			cMove = %CALLNAME:MASTER%が%CALLNAME:TARGET%の手を握ると、少し%K17_RS("顔を赤らめて/照れたように")%握り返しついてきた
		ENDIF
	ELSEIF iFriends || iMOB
		;他に同行がいる
		cMove = %CALLNAME:TARGET%は%CALLNAME:(iFriends!=0 ? iFriends#iMOB)%に軽く%K17_RS("会釈/挨拶")%して%CALLNAME:MASTER%についてきた
	ELSE
		;まだやってない
		cMove = %CALLNAME:MASTER%は%CALLNAME:TARGET%を連れ出した
	ENDIF
	
	;反応と描写
	SELECTCASE K17_GRT_EX(TARGET)
		CASE IS >= K17C_恋慕
			PRINTFORML 「さて、どこに%K17_RS("連れて行かれる/連れ込まれる/行く")%のかしら？」
			PRINTFORMDL %cMove%
		CASE IS >= K17C_思慕逢引
			PRINTFORML 「さて、どこに%K17_RS("連れて行かれる/連れ込まれる/行く")%のかしら？」
			PRINTFORMDL %cMove%
			
		CASE IS >= K17C_思慕
			PRINTFORML 「さて、どこに%K17_RS("連れて行かれる/行く")%のかしら？」
			PRINTFORMDL %cMove%
		CASEELSE
			PRINTFORML 「……えっと……変な所には行かないわよ？」
			PRINTFORMDL %CALLNAME:TARGET%は少し警戒しているようだ
	ENDSELECT
	
	;他同行者への反応
	IF iFriends
		PRINTFORML （……%K17_CNAME(iFriends)%も一緒に、%K17_RS("か/ね")%……%K17_RS("どういうことかしら/なにする気よ")%）
	ELSEIF iMOB
		PRINTFORML （……他の子も一緒に……%K17_RS("か/なにする気よ/ね")%）
	ELSE
		;同行者が他にいない時はうふふ合意基準
		SELECTCASE K17_GRT()
			CASE IS >= K17C_思慕うふふ
				PRINTFORML （……%K17_RS("静かな所/二人きりになれる所/人気のない場所")%に行くのかしら……？）
			CASE IS >= K17C_思慕逢引
				PRINTFORML （……変な所に%K17_RS("連れ込まれたり/連れて行かれたり")%しないよね……？）
		ENDSELECT
		;同行者が愛麗絲だけで他の人がその場にいる場合
		SIF GET_TARGETNUM() > 1
			PRINTFORMDL 自分だけが連れ出されて、%CALLNAME:TARGET%は少し恥ずかしそうだった
	ENDIF
	
ENDIF
PRINTW
RETURN 1
;====================================================================================================
;352,告白
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_352
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_352_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_352_1
;-------------------------------------------------
;成功
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193
	
	;愛麗絲告白イベ前
	IF !CFLAG:K17C_ID:K17C_CF_告白イベント
		PRINTFORML 「………………」
		PRINTFORML 「……えっと……ホントに私でいいの……？」
		PRINTFORMDL もちろん。%CALLNAME:TARGET%と恋人同士になりたい
		PRINTFORMDL そう話したつもりだ
		
	;愛麗絲告白イベ後
	ELSE
		PRINTFORML 「………………」
		PRINTFORML 「……えっと……どういう……えっ？　えっ？」
		IF CFLAG:K17C_ID:K17C_CF_告白イベント >= 5
			PRINTFORML 「私、前に何度も%K17_CNAME()%に振られてるわよね……？」
		ELSE
			PRINTFORML 「私、前に%K17_CNAME()%に振られてるわよね……？」
		ENDIF
		PRINTFORMDL たしかにそうだったかもしれない
		PRINTFORMDL けれど今は%CALLNAME:TARGET%と恋人同士になりたい
	ENDIF
	PRINTW
	
	SELECTCASE K17_GRT(TARGET)
		CASE IS >= K17C_恋慕告白
			PRINTFORML 「わたっ……私っ！　もっと可愛くて、綺麗な娘になる！」
			PRINTFORMDL 今でも十分だと思うが……
			PRINTFORML 「%K17_CNAME()%に相応しい恋人になりたいのっ」
			PRINTFORML 「ありがとう、%K17_CNAME()%。私、頑張るからっ」
			PRINTW
			PRINTFORML 「%K17_CNAME()%、愛してるわっ%K17_HEART()%」
			PRINTFORMDL 随分と興奮した様子で%CALLNAME:MASTER%に笑顔で抱きついてくる%CALLNAME:TARGET%
		CASEELSE
			PRINTFORML 「うん、わかった……すぐに変われるかは、わからないけれど……私、%K17_CNAME()%の恋人になるわ」
			;デートイベで気持ちを伝えているか見る
			SIF CFLAG:K17C_ID:K17C_CF_デートイベント
				PRINTFORML 「%K17_CNAME()%、好きよ%K17_BLUSH()%」
			PRINTFORMDL そう言って%CALLNAME:TARGET%は%CALLNAME:MASTER%に優しく微笑みかけた
	ENDSELECT
	PRINTFORMDL それはこれまでに見た最高の笑顔だった
	;恋人フラグの保存
	CALL K17_RELATION_EV(K17C_RTF_恋人)
	RETURN 1
ENDIF
;-------------------------------------------------
;失敗
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 == 0
	;失敗 恐らく失敗する程度でコマンド表示されないかな
	PRINTFORML 「…………ふむ。き、気持ちは嬉しいのだけれど……ごめんなさい」
	RETURN 1
ENDIF
RETURN 1
;====================================================================================================
;353,猥褻
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_353
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_353_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_353_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;354,陪睡（相手は起きて布団に招く感じ）
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_354
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_354_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_354_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;355,時止め（地の文の改変程度に留めるべき
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_355
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_355_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_355_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;360,任憑擺佈
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_360
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_360_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_360_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;363,朗読（[幼稚]持ち）
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_363
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_363_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_363_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;364,撒豆子(萃香、勇儀、斯喀雷特姉妹用
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_364
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_364_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_364_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;365,向守矢神社移動(早苗、神奈子、諏訪子用
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_365
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_365_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_365_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;402,就寝（添い寝時）
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_402
;就寝にTRAIN_MESSAGEは無い
CALL M_KOJO_MESSAGE_COM_K17_402_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_402_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;403,休憩
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_403
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_403_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_403_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;405,外出(同行時デートに外出
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_405
;外出にTRAIN_MESSAGEは無い
CALL M_KOJO_MESSAGE_COM_K17_405_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_405_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;410,掃除
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_410
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_睡眠
IF !RESULT
	CALL M_KOJO_MESSAGE_COM_K17_410_1
	PRINTW
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_410_1
#DIMS DYNAMIC cPants
#DIM DYNAMIC iRT=0
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;410,掃除
;見てるだけ
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !TFLAG:193
	PRINTFORM 「……%K17_RS("へぇ/ふーん/あら")%」
	TRYCALL K17_人形台詞(-1,1,K17_RS("ガンバレー/ファイトー/イイゾー"))
	RETURN 1
ENDIF
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;410,掃除
;憤怒　心情悪い
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (CFLAG:ブチギレ || TALENT:心情 == -1)
	PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("はぁ/ふう/うーん"))%」
	PRINTFORMDL %CALLNAME:TARGET%は心情が悪いようで、%CALLNAME:MASTER%は黙々と作業を続けた
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;410,掃除
;うふふ中
LOCAL = 1
;-------------------------------------------------
IF LOCAL && CFLAG:うふふ
	PRINTFORML 「%K17_SPLIT_SHUFFLE(@"……/%K17_RS("ちょっと/えっ/あのねぇ")%")%」
	PRINTFORMDL %CALLNAME:TARGET%は呆れた様子で%CALLNAME:MASTER%を見ていた
	RETURN 1
ENDIF
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;410,掃除
;通常処理
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !CFLAG:ブチギレ && TALENT:心情 != -1

	IF FIRSTTIME(@"{SELECTCOM}口上")
		;初回
		PRINTFORML 「掃除ね。さっ、一緒にやっちゃいましょ」
		PRINTFORMDL %CALLNAME:TARGET%は腕をまくってやる気満々の様子だ
		PRINTFORML 「ふんふーん……♪」
		IF CFLAG:TARGET:初期位置 != CFLAG:MASTER:初期位置
			;同居してないときのみ
			PRINTW
			PRINTFORML 「そういえば、%K17_CNAME()%、自分的房間もちゃんと掃除してる？」
			PRINTFORMDL 思いがけず矛先が%CALLNAME:MASTER%に向いてきた
			IF TALENT:MASTER:性別 == 2
				;男性
				PRINTFORML 「やっぱり男の人の一人暮らしって心配ね……」
			ELSE
				;女性
				PRINTFORML 「女の子だしちゃんとしてるわよね？」
			ENDIF
			PRINTFORM 「ちゃあんと定期的にお掃除しなきゃ、すぐ汚れちゃうんだから……」
			TRYCALL K17_人形台詞(-1,1,K17_RS("ヤルゾー/フンスッ/オソウジー/ソウジ　スルゾー"))
		ENDIF
	ELSE
		;二回目以降
		PRINTFORM 「さあっ、%K17_RS("綺麗にするわよ/掃除わよ/お掃除しちゃうわよ")%」
		TRYCALL K17_人形台詞(-1,1,K17_RS("ヤルゾー/フンスッ/オソウジー/ソウジ　スルゾー"))
	ENDIF
	PRINTFORMDL %CALLNAME:TARGET%はなんだか張り切っていた……
	
	;ラッキースケベ 40%+幸運補正*10%+関係性*3%　全裸なら100%入る
	IF (K17_LUCKY_SUKEBE(40) && (EQUIP:裙子 || EQUIP:連衣裙 || EQUIP:和服) ) || (!TEQUIP:下半身着衣状況 && !TEQUIP:上半身着衣状況)
		;-------------
		;各種初期化
		;-------------
		iRT = K17_GRT_EX(TARGET)
		cPants = %PANTS_DESCRIPTION(EQUIP:下半身内袴２)%%K17_GET_CLOTHNAME_BOTTOM_UNDER(TARGET)%
		SIF cPants ==""
			cPants = 内袴を履いてなかった%K17_RS("秘所/秘裂/秘部")%
			
		PRINTW
		PRINTDATAL
			DATAFORM 「%K17_RS("んしょっ……/えー/……はい、")%っと……」
			DATAFORM 「%K17_RS("ふんふーん/ふふ～ん/ん～")%……♪」
		ENDDATA
		
		IF TEQUIP:下半身着衣状況 || TEQUIP:上半身着衣状況
			;服あり
			PRINTDATAD
				DATAFORM 前屈みになって掃除%CALLNAME:TARGET%の%K17_RS("胸元/胸の谷間")%に、
				DATAFORM 動く度に揺れる%OPPAI_DESCRIPTION(TARGET,1)%に、
				DATAFORM 四つん這いになって掃除%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM(TARGET)%からちらりと覗く、\n%cPants%に、
				DATAFORM 狭い場所に手を伸ばす%CALLNAME:TARGET%が突き出している、%HIP(TARGET)%に
				DATAFORM 汚れないように少し捲くった%CALLNAME:TARGET%の%K17_GET_CLOTHNAME_BOTTOM(TARGET)%から伸びる、%THIGHS(TARGET)%に
				DATAFORM 一息ついて汗を拭った%CALLNAME:TARGET%の汗ばんだ%K17_RS("腋/うなじ/鎖骨の辺り")%に、
			ENDDATA
		ELSE
			;服なし
			PRINTFORMD 全裸で掃除%CALLNAME:TARGET%に異常な興奮を覚え、
		ENDIF
		PRINTFORMDL %CALLNAME:MASTER%は思わず目を奪われてしまった
		
		;関係性みる
		SELECTCASE iRT
			CASE IS  >= K17C_恋慕
				;恋慕から
				PRINTFORML 「んもうっ、どこ見てるのよ……%K17_BLUSH()%　%K17_RS("えっち/すけべ/変態")%」
				PRINTFORML 「そういうのは終わってから……ね」
				PRINTFORMDL %CALLNAME:MASTER%は急いで残りの作業に取り掛かった
				PRINTFORMDL ……
				PRINTFORMDL …………
				PRINTFORMDW ………………
				PRINTFORML 「ふぅ、お疲れ様、%K17_CNAME()%……ほらっ、こっち%K17_RS("きなさい/いらっしゃい")%」
				TRYCALL K17_甘やかし
			CASEELSE
				PRINTFORML 「……%K17_RS("うん？/えっ？/……？")%」
				PRINTFORML （えっ……もしかして、%K17_RS("えっちな目で/恥ずかしい所")%見られちゃった……の？）
				PRINTFORML 「っ～～～～～%K17_BLUSH()%」
				PRINTFORMDL %CALLNAME:TARGET%は急に赤面して俯いてしまった
		ENDSELECT
	ENDIF
ENDIF
RETURN 1

;*********************************************************************************
;	各所で使う愛麗絲がMASTERを甘やかすテキスト
;	そのうち増やすぞー
;
;*********************************************************************************
@K17_甘やかし
PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の頭を胸の中でしっかりと抱き、頭をよしよしと撫でてくれた
PRINTFORML 「まったく、%K17_CNAME()%ってホント甘えん坊%K17_RS("さんね/さんでちゅねー、あはは/ね")%%K17_HEART()%」
PRINTFORMDL %CALLNAME:TARGET%が甘やかしたがりなんだと思う……
RETURN 1


;====================================================================================================
;411,戦闘訓練
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_411
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_411_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_411_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;412,学習
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_412
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_412_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_412_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

;	IF TALENT:MASTER:性別 & 2
;		BASE:MASTER:勃起 = 500
;		BASE:MASTER:精力 = MAX(BASE:MASTER:精力 - 100,0)
;		EXP:MASTER:射精経験 ++
;	ENDIF
;	BASE:MASTER:気力 = MAX(BASE:MASTER:気力 - 300,0)
;	TIME += 10
;	EXP:MASTER:絶頂経験 ++
;	EXP:MASTER:自慰経験 ++
;	SOURCE:TARGET:強要 += 500
;	SOURCE:TARGET:侮辱 += 500
;	SOURCE:TARGET:加虐 += 700
;	SOURCE:TARGET:征服 += 700
;	SOURCE:TARGET:達成 += 300
ENDIF
RETURN 1
;====================================================================================================
;413,料理
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_413
;料理にTRAIN_MESSAGEは無い
CALL M_KOJO_MESSAGE_COM_K17_413_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_413_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;414,吃飯
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_414
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_414_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_414_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;415,招待吃飯
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_415
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_415_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_415_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;416,演奏(凍結中？
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_416
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_416_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_416_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;417,昼寝をする
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_417
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_417_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_417_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;421,祈願する
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_421
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_421_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_421_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;431,在浴室里放鬆
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_431
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_431_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_431_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;440,等待
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_440
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_440_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_440_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;441,聽課(慧音専用？
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_441
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_441_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_441_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;442,伐採
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_442
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_442_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_442_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※
;デート系コマンド
;※※※※※※※※※※※※※※※※※※※※※※※※※
[SKIPSTART]
;現状未実装
;====================================================================================================
;600,デート会話
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_600
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_600_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_600_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;601,デート身体接触
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_601
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_601_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_601_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;602,デートキス
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_602
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_602_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_602_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
[SKIPEND]
;====================================================================================================
;603,牽手
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_603
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_603_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_603_1
#DIM DYNAMIC iRT = 0
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	iRT = K17_GRT_EX(TARGET)
	;初回
	IF FIRSTTIME(SELECTCOM) || FIRSTTIME(@"身体接触0")
		PRINTFORML 「ん……ちょっと恥ずかしいわね」
		PRINTFORML 「私の手、裁縫とか魔法や人形操作で、傷、出来てるでしょ……」
		PRINTFORMDL そんなことは気にならない
		PRINTFORMDL この手があの人形達を巧みに操っているのかと思うと、なんだかすごいものに触れている気がする
		PRINTFORML 「そんなに褒めたって何も出ないけど、ありがとう%K17_CNAME()%」
		PRINTFORMDL そう言って顔を赤らめて、ぎゅっと握り返してくれた
		CALLF FIRSTTIME(@"身体接触0")
		RETURN 1
	ENDIF
	
	;思慕あれば下限切り上げ
	iRT = K17_MAX_LIMIT_RAND(iRT,K17C_思慕,K17C_恋慕告白)
	;二回目以降
	SELECTCASE iRT
		CASE IS >= K17C_恋慕告白
			PRINTFORML 「あんっ、もう、こうじゃなくて～～こうっでしょ？」
			PRINTFORMDL 指を絡めて所謂恋人繋ぎにすると、%CALLNAME:TARGET%は腕も一緒に抱いてくる
			PRINTFORML 「あら、今日はなんだか熱いわね……うん？　なぁに？　どうしたのよ」
			PRINTFORMDL 言いながら%CALLNAME:TARGET%はぐいぐいと%CALLNAME:MASTER%の腕に胸を押し当ててくる
			PRINTFORML 「今更こんなことで%K17_RS("照れる/赤くなる/恥ずかしがる")%なんて、なんだか可愛いわねぇ」
		CASE IS >= K17C_思慕うふふ
			PRINTFORML 「手、%K17_RS("温かい/冷たい")%わね」
			PRINTFORML 「手繋ぐの、%K17_RS("好きなの？/好きでしょ？")%……私もよ？」
		CASE IS >= K17C_思慕
			PRINTFORML 「ん……なんだか%K17_RS("照れるわね/赤くなりそうだわ/面映ゆいわね")%」
		CASE IS >= K17C_知り合い
			PRINTFORML 「ん……あらちょっと%K17_RS("冷たいわね/汗ばんでるわね")%」
			;男性で体型が普通以上　女性の場合体型が大きければ
			IF (TALENT:MASTER:性別 == 2 && TALENT:MASTER:体型 > -1) || (TALENT:MASTER:性別 & 1 && TALENT:MASTER:体型 > TALENT:TARGET:体型)
				PRINTFORML 「うーん、やっぱり私の手より大きいのね」
			ELSEIF (TALENT:MASTER:性別 == 2 && TALENT:MASTER:体型 < -1) || (TALENT:MASTER:性別 & 1 && TALENT:MASTER:体型 < TALENT:TARGET:体型)
				PRINTFORML 「うーん、やっぱり私の手より小さくて可愛いわね」
			ELSE
				PRINTFORML 「うーん、手もこう見ると細部は結構違うのね」
			ENDIF
	ENDSELECT


ENDIF
RETURN 1

;====================================================================================================
;604,散步
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_604
;散步にはTRAIN_MESSAGEが無い
CALL K17_SKIP_TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_604_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_604_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && FLAG:デート相手 == K17C_ID
	
	;移動先の名称を取得
	LOCALS = %DATENAME_SPOT()%
	
	;二人の移動方式を選択
	IF !FIRSTTIME(@"311デート移動",1)
		;腕抱き経験済み
		PRINTFORMDL %CALLNAME:TARGET%は自然と%CALLNAME:MASTER%の腕に抱き付いて、%K17_RS("おっぱい/胸")%を%K17_RS("押し付け/押し当て")%ながら一緒に%LOCALS%に移動した
	ELSEIF !FIRSTTIME(603,1) || !FIRSTTIME(@"身体接触0",1)
		;牽手経験済み
		PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の手を握って%K17_RS("寄り添い/並んで")%%LOCALS%に移動した
	ELSE
		;まだやってない
		PRINTFORMDL 二人は並んで一緒に%LOCALS%に移動した
	ENDIF
	
	;移動先がもう入ってるはず
	SELECTCASE CFLAG:MASTER:現在位置
		CASE 情人用宿屋
			IF CFLAG:既成事実 & 合意_うふふ
				PRINTFORML 「……えっち……%K17_RS("したい……の？/しちゃうん……だ")%%K17_BLUSH()%」
			ELSE
				PRINTFORML （ついて……来ちゃった……そういうこと、なんだよね）
				PRINTFORML 「……%K17_BLUSH()%」
			ENDIF
			PRINTFORMDL %CALLNAME:TARGET%は真っ赤になって俯いてしまった
			
		CASE 大図書館
			PRINTFORML 「あら、%K17_RS("学習/読書")%でもしたいの？　私もよくここに来るわよ」
		;其他
		CASEELSE
			IF K17_PERCENT(40)
				SELECTCASE K17_GRT_EX()
					CASE IS >= K17C_思慕
						PRINTFORML 「%K17_RS("ふふ～ん、/うん？　/あら、")%%K17_RS("あっち/こっち/そっち")%ね……」
					CASEELSE
						PRINTFORML 「んっ……%K17_RS("あっち/こっち/そっち")%ね……」
				ENDSELECT
			ENDIF
	ENDSELECT
	
	PRINTW
ENDIF
RETURN 1
;====================================================================================================
;605,繞道
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_605
;繞道にはTRAIN_MESSAGEが無い
CALL M_KOJO_MESSAGE_COM_K17_605_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_605_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;610,請吃飯
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_610
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_610_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_610_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;====================================================================================================
;613,賺錢
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_613
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_613_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_613_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;614,採購食材
;デート中　もしくは拠点人里で同行中
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_614
CALL TRAIN_MESSAGE
IF FLAG:デート相手==K17C_ID || CFLAG:TARGET:同行
	CALL M_KOJO_MESSAGE_COM_K17_614_1
	PRINTW
ENDIF
RETURN 1

@M_KOJO_MESSAGE_COM_K17_614_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;614,採購食材
;買わなかった（口上呼ばれなかった
LOCAL = 1
;-------------------------------------------------
IF LOCAL && TFLAG:193 == -1

	SELECTCASE K17_MAX_LIMIT_RAND(K17_GRT_EX(TARGET),K17C_恋慕,K17C_恋人)
		CASE IS >= K17C_恋人
			PRINTFORMDL 結婚はいつだとか、冷やかしの声が聞こえてきた……
			PRINTFORMDL なんだか恥ずかしくなってそのまま出てきてしまった……
		CASE IS >= K17C_恋慕
			PRINTFORML 「……あら？　なにも買わなかったの？」
			PRINTW
			PRINTFORML 「…………っ！？」
			PRINTFORML （あっ、荷物になるから、私に気を使って……？）
			PRINTFORMDL %CALLNAME:TARGET%は真っ赤になって俯き、%CALLNAME:MASTER%の%K17_RS("腕に抱き付いてきた/手を握ってきた")%
		CASEELSE
			PRINTFORMDL なにやら%CALLNAME:TARGET%は店の%K17_RS("女性店員/おばちゃん/女将さん")%と%K17_RS("話し込んで/談笑して")%いる
			IF TALENT:MASTER:性別 == 2 && RAND:2
				PRINTFORMDL 『男なんて胃袋を掴んでおけばこっちのもんなのよ……』と聞こえてくる
			ELSE
				PRINTFORMDL 近所の女性が結婚した、とかなんとか……世間話が聞こえてきた
			ENDIF
			PRINTFORMDL 長くなりそうだった……
			PRINTFORMDL ……
			PRINTFORMDL …………
			PRINTFORMDL ………………
			PRINTW
			PRINTFORML 「……あら？　なにも買わなかったの？」
			PRINTFORMDL すっかり目的を忘れてしまっていた！
	ENDSELECT
	
	RETURN 1
ENDIF
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;614,採購食材
;買った（成功
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	SELECTCASE K17_MAX_LIMIT_RAND(K17_GRT_EX(TARGET),K17C_恋慕,K17C_恋人)
		CASE IS >= K17C_恋人
			PRINTFORML 「最近なに食べたっけ……えーと……」
			PRINTFORMDL 二人でそんなやり取りをしていると、店の%K17_RS("女性店員/おばちゃん/女将さん")%に『もうすっかり夫婦ね』と冷やかされてしまった……
			PRINTW
			PRINTFORML 「なんだかこうして、二人で買い物来るのもいいわね……」
			PRINTFORMDL 面倒だったりしなかっただろうか……？
			PRINTFORML 「幸せって言ったのよ、もうっ%K17_BLUSH()%」
			PRINTFORMDL たしかにそうかもしれない……と%CALLNAME:MASTER%は思った
		CASE IS >= K17C_恋慕
			PRINTFORML 「なに作ろうかしらね、%K17_CNAME()%の好きなもの作ってあげるわよ？」
			PRINTFORML 「あー%K17_RS("だめだめ/だめよ")%、なんでもいいは禁止だからね」
			PRINTFORMDL 先読みされてしまった……%CALLNAME:TARGET%の作ってくれるものならなんでも嬉しいのだが……
			PRINTFORML 「ふふっ、こうして二人で一緒に考える時間も楽しいでしょ？」
		CASEELSE
			PRINTFORML 「ちゃんと自炊してるみたいね……ちょっと安心したわ」
			PRINTFORMDL なんだか兒童扱いされている気がする……
	ENDSELECT
ENDIF
RETURN 1
;====================================================================================================
;615,吃便当
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_615
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_615_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_615_1
#DIM iRT = 0
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;615,吃便当
;失敗 or 技能不足
LOCAL = 1
;-------------------------------------------------
IF LOCAL && (TFLAG:193 == -1 || ABL:料理技能 < 2)
	
	IF FIRSTTIME(@"{SELECTCOM}口上-失敗")
		;初回
		PRINTFORMDL %CALLNAME:TARGET%の料理はなんというか……悪く言えば古い、良く言えば素朴な味付けで、%CALLNAME:MASTER%にとっては少し物足りなかった
		PRINTFORML 「もしかして……口に合わなかったかしら？」
		PRINTFORML 「ああ、平気よ、気にせず坦率な感想を教えて？」
		PRINTFORMDL %CALLNAME:MASTER%は正直な感想を%CALLNAME:TARGET%に伝えた
		PRINTW
		PRINTFORML 「ごめんなさい、長い間自分用にだけしか作ったことがなかったから……他人のことなんて考えたことがなかったわ」
		PRINTFORML 「どうやらもっと練習が必要みたいね……頑張るわ」
	ELSE
		;二回目以降
		PRINTFORML 「うーん、%K17_RS("まだまだのようね/もっと練習が必要みたいね/次はもっと頑張るわ")%……」
	ENDIF
	RETURN 1
ENDIF

;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;615,吃便当
;成功 料理技能2以上
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	PRINTFORML 「……どう？　美味しい？　ふふっ、%K17_CNAME()%%K17_RS("の食べてる姿、かわいいわね/に手料理を食べて貰うのって、いいわね/、そんなに急いで食べなくても平気よ")%」
	iRT = K17_GRT_EX(TARGET)
	
	IF EXP:接吻経験 && iRT >= K17C_恋慕告白 && K17_PERCENT(50) && !FIRSTTIME(@"{SELECTCOM}口上-成功",1)
		;二回目以降 かつ50%
		PRINTW
		PRINTFORML 「あら、口にお弁当ついてるわよ……――ちゅっ%K17_HEART()%」
		PRINTFORMDL %CALLNAME:TARGET%が不意に顔を寄せると、%CALLNAME:MASTER%は唇を奪われていた
		PRINTFORMDL 唇を離すと%CALLNAME:TARGET%はぺろりと舌を出して、はにかんで見せる
		PRINTW
		PRINTFORMDL 本当に食べこぼしが付いていたのだろうか……？
		PRINTFORML 「ホントだって……ばぁ……――んちゅっ%K17_HEART()%　まだぁ……あるわ、ん～ちゅっ%K17_HEART()%　ぺろっ%K17_HEART()%」
		;経験値
		CFLAG:K17C_ID:K17C_CF_FK愛麗絲 = MIN(CFLAG:K17C_ID:K17C_CF_FK愛麗絲+1,10000)
		EXP:接吻経験 += 1
		EXP:Ｍ経験 += 1
		EXP:MASTER:Ｍ経験 += 1
		EXP:MASTER:接吻経験 += 1
		
	ELSEIF iRT >= K17C_恋慕
		PRINTW
		IF FIRSTTIME(@"{SELECTCOM}口上-成功")
			;初回
			PRINTFORML 「そうだ、やってみたいことがあるのだけれど……えっと、ほら……」
			PRINTFORMDL 顔を赤らめた%CALLNAME:TARGET%が%CALLNAME:MASTER%を上目遣いで見つめながら、お弁当のおかずを掴んだ箸を突き出してくる
			PRINTFORML 「恥ずかしいんだから、早く口開けなさいったら」
			PRINTFORMDL 恥ずかしそうにしながらも期待を込めて見つめてくる%CALLNAME:TARGET%に言われた街道、%CALLNAME:MASTER%は口を開けた
			PRINTW
		ENDIF
		PRINTFORML 「はいっ%K17_HEART()%　あ～ん%K17_HEART(2)%」
		PRINTFORML 「ふふっ、%K17_RS(@"なんだか餌付けしてるみたいで楽しいわ/%K17_CNAME()%、兒童みたいでなんだかかわいいわ/恥ずかしいって思ってたけれど、やってみると案外いいわね、これ")%」
	ENDIF
ENDIF


RETURN 1
;====================================================================================================
;617,甘味処に誘う
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_617
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_617_1
PRINTW
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_617_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;617,甘味処に誘う
;初回
LOCAL = 1
;-------------------------------------------------
IF LOCAL && FIRSTTIME(@"{SELECTCOM}口上")
	PRINTFORML 「ここ、入るの？」
	PRINTFORMDL もしかして%CALLNAME:TARGET%には、こういう和菓子のお店はだめだっただろうか……
	PRINTFORML 「そんなことないわ。むしろここ一人で入るのは気が引けて、気にはなっていたんだけれど来たことなかったの」
	PRINTFORML 「ちょっと期待しちゃうわ、楽しみよ」
	PRINTFORMDL ……
	PRINTFORMDL …………
	PRINTFORMDL ………………
	PRINTW
	PRINTFORML 「ちょっと苦めのお茶と、甘いお菓子で美味しかったわぁ……和菓子もいいわね」
	PRINTFORMDL どうやら%CALLNAME:TARGET%に好評のようでよかった
	PRINTFORML 「ありがとう、%K17_CNAME()%……また、連れてきて、ね」
	RETURN 1
ENDIF
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;617,甘味処に誘う
;二回目以降
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	CALLF K17_RS("お団子/おまんじゅう/羊羹/あんころ餅/大福/白玉ぜんざい/磯辺餅/栗ぜんざい","/",2)
	PRINTFORML 「今日はえーっと……%RESULTS%にしようかしら……ああでも、%RESULTS:1%も%K17_RS("いいわね/美味しそうね/気になるわ")%……」
	PRINTFORMDL そう呟きなながら楽しそうに悩む%CALLNAME:TARGET%の姿は、%K17_RS("なんだか兒童っぽくて/少し意外で")%可愛らしかった
	PRINTFORML 「あっ、ごめんなさい。なんだか%K17_CNAME()%とここに来ると、はしゃいじゃうみたいで……%K17_BLUSH()%」
	PRINTFORMDL 結局両方注文して、仲良く分け合って食べることにした
	PRINTFORMDL ……
	PRINTFORMDL …………
	PRINTFORMDL ………………
	PRINTW
	IF TFLAG:193 >= 0
		;成功
		PRINTFORML 「%K17_RS("満足しちゃったわ/楽しい時間だったわ/美味しかったわ")%、ありがとう、%K17_CNAME()%……また、連れてきて、ね」
		PRINTFORMDL どうやら%CALLNAME:TARGET%に好評のようでよかった
	ELSEIF TFLAG:193 == -1
		;失敗
		PRINTFORML 「むぅ……まさか狙っていたのが売り切れだなんて、ね……次回に期待だわ」
		PRINTFORMDL 今回は運が悪かったようだ……
	ENDIF
	RETURN 1
ENDIF

RETURN 1
;====================================================================================================
;618,花屋
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_618
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_618_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_618_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;620,鈴奈庵
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_620
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_620_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_620_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;660,読書
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_660
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_660_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_660_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;698,進入房間
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_698
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_698_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_698_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;699,外出
;====================================================================================================
@M_KOJO_MESSAGE_COM_K17_699
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_COM_K17_699_1
RETURN RESULT

@M_KOJO_MESSAGE_COM_K17_699_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※
;派生コマンド
;※※※※※※※※※※※※※※※※※※※※※※※※※
;====================================================================================================
;60,掏耳朵
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_60
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_60_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_60_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;61,抱き枕
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_61
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_61_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_61_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;62,亲額頭
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_62
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_62_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_62_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1
;====================================================================================================
;63,更多的接吻
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_63
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_63_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_63_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL && !FLAG:時間停止 && !CFLAG:睡眠
	;-----------------
	;フラグ初回チェック
	;-----------------
	IF !CFLAG:K17C_ID:K17C_CF_FKマ斯塔
		CALL K17_FIRSTKISS(TARGET)
		RETURN 1
	ENDIF

ENDIF
RETURN 1
;====================================================================================================
;80,拉手
;====================================================================================================
@M_KOJO_MESSAGE_SCOM_K17_80
CALL TRAIN_MESSAGE
CALL M_KOJO_MESSAGE_SCOM_K17_80_1
RETURN RESULT
@M_KOJO_MESSAGE_SCOM_K17_80_1
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------------------------------------------
IF LOCAL

ENDIF
RETURN 1











